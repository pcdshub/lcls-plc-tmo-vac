

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>DUTs &mdash; pcdshub/lcls-plc-tmo-vac  documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="_static/tree.css?v=837a00b9" />
      <link rel="stylesheet" type="text/css" href="_static/width.css?v=ab210c7a" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=5929fcd5"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="_static/docs-versions-menu.js?v=3d6a1aea"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Data Types" href="plc-tmo-vac_PLC_TMO_VAC_epics.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            pcdshub/lcls-plc-tmo-vac
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">plc-tmo-vac</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="plc-tmo-vac_pragmas.html">Pragmas</a></li>
<li class="toctree-l1"><a class="reference internal" href="plc-tmo-vac_nc.html">NC Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="plc-tmo-vac_ethercat.html">EtherCAT Terminals</a></li>
<li class="toctree-l1"><a class="reference internal" href="plc-tmo-vac_boxes.html">Boxes</a></li>
<li class="toctree-l1"><a class="reference internal" href="plc-tmo-vac_links.html">Links</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">PLC_TMO_VAC</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="plc-tmo-vac_PLC_TMO_VAC_summary.html">Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="plc-tmo-vac_PLC_TMO_VAC_summary.html#pragmas">Pragmas</a></li>
<li class="toctree-l1"><a class="reference internal" href="plc-tmo-vac_PLC_TMO_VAC_summary.html#libraries">Libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="plc-tmo-vac_PLC_TMO_VAC_summary.html#symbols">Symbols</a></li>
<li class="toctree-l1"><a class="reference internal" href="plc-tmo-vac_PLC_TMO_VAC_epics.html">Data Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="plc-tmo-vac_PLC_TMO_VAC_epics.html#database-records">Database Records</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">DUTs</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#e-states">E_STATES</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#gvls">GVLs</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#gvl-com">GVL_COM</a></li>
<li class="toctree-l2"><a class="reference internal" href="#gvl-dream-ecat">GVL_DREAM_ECAT</a></li>
<li class="toctree-l2"><a class="reference internal" href="#gvl-fee-device">GVL_FEE_Device</a></li>
<li class="toctree-l2"><a class="reference internal" href="#gvl-fs-devices">GVL_FS_Devices</a></li>
<li class="toctree-l2"><a class="reference internal" href="#gvl-fsv-pmps">GVL_FSV_PMPS</a></li>
<li class="toctree-l2"><a class="reference internal" href="#gvl-hutch-gauges">GVL_Hutch_Gauges</a></li>
<li class="toctree-l2"><a class="reference internal" href="#gvl-hutch-pumps">GVL_Hutch_Pumps</a></li>
<li class="toctree-l2"><a class="reference internal" href="#gvl-hutch-valves">GVL_Hutch_Valves</a></li>
<li class="toctree-l2"><a class="reference internal" href="#gvl-ip1-ecat">GVL_IP1_ECAT</a></li>
<li class="toctree-l2"><a class="reference internal" href="#gvl-pmps">GVL_PMPS</a></li>
<li class="toctree-l2"><a class="reference internal" href="#gvl-variables">GVL_Variables</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#pous">POUs</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#diagnostics">DIAGNOSTICS</a></li>
<li class="toctree-l2"><a class="reference internal" href="#f-turbo-protection-ilk">F_Turbo_Protection_ILK</a></li>
<li class="toctree-l2"><a class="reference internal" href="#fb-vrc-no-ffo-vls">FB_VRC_NO_FFO_VLS</a></li>
<li class="toctree-l2"><a class="reference internal" href="#main">MAIN</a></li>
<li class="toctree-l2"><a class="reference internal" href="#prg-com">PRG_COM</a></li>
<li class="toctree-l2"><a class="reference internal" href="#prg-ecat-comm-check">PRG_ECAT_COMM_CHECK</a></li>
<li class="toctree-l2"><a class="reference internal" href="#prg-fee">PRG_FEE</a></li>
<li class="toctree-l2"><a class="reference internal" href="#prg-fsv">PRG_FSV</a></li>
<li class="toctree-l2"><a class="reference internal" href="#prg-fsv-interfaces">PRG_FSV_Interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="#prg-hutch-beamline-valves">PRG_Hutch_Beamline_Valves</a></li>
<li class="toctree-l2"><a class="reference internal" href="#prg-hutch-gauges">PRG_Hutch_Gauges</a></li>
<li class="toctree-l2"><a class="reference internal" href="#prg-hutch-ion-pumps">PRG_Hutch_Ion_Pumps</a></li>
<li class="toctree-l2"><a class="reference internal" href="#prg-hv-safety">PRG_HV_SAFETY</a></li>
<li class="toctree-l2"><a class="reference internal" href="#prg-ip1-ecat-interfaces">PRG_IP1_ECAT_Interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="#prg-pmps">PRG_PMPS</a></li>
<li class="toctree-l2"><a class="reference internal" href="#prg-roughing-pumps">PRG_Roughing_Pumps</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">pcdshub/lcls-plc-tmo-vac</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">DUTs</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/plc-tmo-vac_PLC_TMO_VAC_source.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="duts">
<h1>DUTs<a class="headerlink" href="#duts" title="Link to this heading"></a></h1>
<section id="e-states">
<h2>E_STATES<a class="headerlink" href="#e-states" title="Link to this heading"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;qualified_only&#39;</span><span class="p">}</span>
<span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;strict&#39;</span><span class="p">}</span>
<span class="n">TYPE</span> <span class="n">E_STATES</span> <span class="p">:</span>
<span class="p">(</span>
    <span class="n">INIT</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">SETUP</span><span class="p">,</span>
    <span class="n">OVERRIDE</span><span class="p">,</span>
    <span class="n">READY</span><span class="p">,</span>
    <span class="n">NOT_SAFE</span>
<span class="p">);</span>
<span class="n">END_TYPE</span>
</pre></div>
</div>
<dl class="simple">
<dt>Related:</dt><dd><ul class="simple">
<li><p><a class="reference internal" href="#e-states">E_STATES</a></p></li>
</ul>
</dd>
</dl>
</section>
</section>
<section id="gvls">
<h1>GVLs<a class="headerlink" href="#gvls" title="Link to this heading"></a></h1>
<section id="gvl-com">
<h2>GVL_COM<a class="headerlink" href="#gvl-com" title="Link to this heading"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">VAR_GLOBAL</span>
    <span class="o">//</span> <span class="n">Define</span> <span class="n">COM</span> <span class="n">Ports</span><span class="o">/</span><span class="n">Buffers</span> <span class="n">incl</span><span class="o">.</span> <span class="n">library</span> <span class="n">Tc2_SerialCom</span>

    <span class="o">//</span><span class="n">PA1K4_IP1_PTM_01</span> <span class="p">,</span> <span class="mi">02</span> <span class="ow">and</span> <span class="mi">03</span>
    <span class="o">//</span><span class="n">K4S2_02_E10</span>
    <span class="n">K4S2_02_E10_SerialRXBuffer</span> <span class="p">:</span> <span class="n">ComBuffer</span><span class="p">;</span>
    <span class="n">K4S2_02_E10_SerialTXBuffer</span> <span class="p">:</span> <span class="n">ComBuffer</span><span class="p">;</span>

    <span class="o">//</span> <span class="n">Serial</span> <span class="n">Terminal</span>
    <span class="n">K4S2_02_E10_fbSerialLineControl</span><span class="p">:</span> <span class="n">SerialLineControl</span><span class="p">;</span>

    <span class="o">//</span><span class="n">SERIAL</span> <span class="n">IO</span> <span class="o">//</span><span class="n">K4S2_02_E10</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)</span>
    <span class="p">{</span><span class="n">attribute</span>      <span class="s1">&#39;TcLinkTo&#39;</span>      <span class="o">:=</span>      <span class="s1">&#39;.Status:=TIIB[K4S2_02_E10 (EL6021)]^COM TxPDO-Map Inputs^Status;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E10</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">TxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">0</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E10</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">TxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">1</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E10</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">TxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">2</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E10</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">TxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">3</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E10</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">TxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">4</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E10</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">TxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">5</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E10</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">TxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">6</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E10</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">TxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">7</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E10</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">TxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">8</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E10</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">TxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">9</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E10</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">TxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">10</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">11</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E10</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">TxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">11</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">12</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E10</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">TxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">12</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">13</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E10</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">TxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">13</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">14</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E10</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">TxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">14</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">15</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E10</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">TxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">15</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">16</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E10</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">TxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">16</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">17</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E10</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">TxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">17</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">18</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E10</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">TxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">18</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">19</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E10</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">TxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">19</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">20</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E10</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">TxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">20</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">21</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E10</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">TxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">21</span>
    <span class="s1">&#39;}</span>
    <span class="n">K4S2_02_E10_stComIn</span>             <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span>  <span class="p">:</span>       <span class="n">EL6inData22B</span><span class="p">;</span>
    <span class="p">{</span><span class="n">attribute</span>      <span class="s1">&#39;TcLinkTo&#39;</span>      <span class="o">:=</span>      <span class="s1">&#39;.Ctrl:=TIIB[K4S2_02_E10 (EL6021)]^COM RxPDO-Map Outputs^Ctrl;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E10</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">RxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">0</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E10</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">RxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">1</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E10</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">RxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">2</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E10</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">RxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">3</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E10</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">RxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">4</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E10</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">RxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">5</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E10</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">RxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">6</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E10</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">RxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">7</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E10</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">RxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">8</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E10</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">RxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">9</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E10</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">RxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">10</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">11</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E10</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">RxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">11</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">12</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E10</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">RxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">12</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">13</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E10</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">RxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">13</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">14</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E10</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">RxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">14</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">15</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E10</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">RxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">15</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">16</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E10</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">RxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">16</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">17</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E10</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">RxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">17</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">18</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E10</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">RxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">18</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">19</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E10</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">RxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">19</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">20</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E10</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">RxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">20</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">21</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E10</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">RxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">21</span>
    <span class="s1">&#39;}</span>
    <span class="n">K4S2_02_E10_stComOut</span>            <span class="n">AT</span> <span class="o">%</span><span class="n">Q</span><span class="o">*</span>  <span class="p">:</span>       <span class="n">EL6outData22B</span><span class="p">;</span>


    <span class="o">//</span><span class="n">Granite</span> <span class="mi">2</span>
    <span class="o">//</span><span class="n">LI3K4_IP1_OUT_PTM_01</span><span class="o">-</span><span class="n">TM1K4_PTM_01</span><span class="o">-</span><span class="n">IM5K4_PPM_PTM_01</span>
    <span class="o">//</span><span class="n">K4S6_01_E5</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)</span>
    <span class="n">K4S6_01_E5_SerialRXBuffer</span> <span class="p">:</span> <span class="n">ComBuffer</span><span class="p">;</span>
    <span class="n">K4S6_01_E5_SerialTXBuffer</span> <span class="p">:</span> <span class="n">ComBuffer</span><span class="p">;</span>

    <span class="o">//</span> <span class="n">Serial</span> <span class="n">Terminal</span>
    <span class="n">K4S6_01_E5_fbSerialLineControl</span><span class="p">:</span> <span class="n">SerialLineControl</span><span class="p">;</span>

    <span class="o">//</span><span class="n">Serial</span> <span class="n">IO</span>
        <span class="p">{</span><span class="n">attribute</span>  <span class="s1">&#39;TcLinkTo&#39;</span>      <span class="o">:=</span>      <span class="s1">&#39;.Status:=TIIB[K4S6_01_E5 (EL6021)]^COM TxPDO-Map Inputs^Status;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S6_01_E5</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">TxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">0</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S6_01_E5</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">TxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">1</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S6_01_E5</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">TxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">2</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S6_01_E5</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">TxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">3</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S6_01_E5</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">TxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">4</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S6_01_E5</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">TxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">5</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S6_01_E5</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">TxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">6</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S6_01_E5</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">TxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">7</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S6_01_E5</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">TxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">8</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S6_01_E5</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">TxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">9</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S6_01_E5</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">TxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">10</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">11</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S6_01_E5</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">TxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">11</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">12</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S6_01_E5</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">TxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">12</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">13</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S6_01_E5</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">TxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">13</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">14</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S6_01_E5</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">TxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">14</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">15</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S6_01_E5</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">TxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">15</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">16</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S6_01_E5</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">TxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">16</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">17</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S6_01_E5</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">TxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">17</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">18</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S6_01_E5</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">TxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">18</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">19</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S6_01_E5</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">TxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">19</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">20</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S6_01_E5</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">TxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">20</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">21</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S6_01_E5</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">TxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">21</span>
    <span class="s1">&#39;}</span>
    <span class="n">K4S6_01_E5_stComIn</span>              <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span>  <span class="p">:</span>       <span class="n">EL6inData22B</span><span class="p">;</span>
    <span class="p">{</span><span class="n">attribute</span>      <span class="s1">&#39;TcLinkTo&#39;</span>      <span class="o">:=</span>      <span class="s1">&#39;.Ctrl:=TIIB[K4S6_01_E5 (EL6021)]^COM RxPDO-Map Outputs^Ctrl;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S6_01_E5</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">RxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">0</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S6_01_E5</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">RxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">1</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S6_01_E5</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">RxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">2</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S6_01_E5</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">RxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">3</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S6_01_E5</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">RxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">4</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S6_01_E5</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">RxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">5</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S6_01_E5</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">RxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">6</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S6_01_E5</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">RxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">7</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S6_01_E5</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">RxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">8</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S6_01_E5</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">RxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">9</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S6_01_E5</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">RxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">10</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">11</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S6_01_E5</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">RxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">11</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">12</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S6_01_E5</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">RxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">12</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">13</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S6_01_E5</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">RxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">13</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">14</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S6_01_E5</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">RxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">14</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">15</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S6_01_E5</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">RxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">15</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">16</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S6_01_E5</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">RxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">16</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">17</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S6_01_E5</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">RxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">17</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">18</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S6_01_E5</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">RxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">18</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">19</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S6_01_E5</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">RxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">19</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">20</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S6_01_E5</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">RxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">20</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">21</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S6_01_E5</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">RxPDO</span><span class="o">-</span><span class="n">Map</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">21</span>
    <span class="s1">&#39;}</span>
    <span class="n">K4S6_01_E5_stComOut</span>             <span class="n">AT</span> <span class="o">%</span><span class="n">Q</span><span class="o">*</span>  <span class="p">:</span>       <span class="n">EL6outData22B</span><span class="p">;</span>

    <span class="o">//</span><span class="n">IM4K4_PPM_PTM_01</span>
    <span class="o">//</span><span class="n">K4S2_02_E17</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)</span>
    <span class="n">K4S2_02_E17_SerialRXBuffer</span> <span class="p">:</span> <span class="n">ComBuffer</span><span class="p">;</span>
    <span class="n">K4S2_02_E17_SerialTXBuffer</span> <span class="p">:</span> <span class="n">ComBuffer</span><span class="p">;</span>

    <span class="o">//</span> <span class="n">Serial</span> <span class="n">Terminal</span>
    <span class="n">K4S2_02_E17_fbSerialLineControl</span><span class="p">:</span> <span class="n">SerialLineControl</span><span class="p">;</span>
        <span class="o">//</span><span class="n">Serial</span> <span class="n">IO</span>
        <span class="p">{</span><span class="n">attribute</span>  <span class="s1">&#39;TcLinkTo&#39;</span>      <span class="o">:=</span>      <span class="s1">&#39;.Status:=TIIB[K4S2_02_E17 (EL6001)]^COM Inputs^Status;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E17</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">0</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E17</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">1</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E17</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">2</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E17</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">3</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E17</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">4</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E17</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">5</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E17</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">6</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E17</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">7</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E17</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">8</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E17</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">9</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E17</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">10</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">11</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E17</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">11</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">12</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E17</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">12</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">13</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E17</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">13</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">14</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E17</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">14</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">15</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E17</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">15</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">16</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E17</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">16</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">17</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E17</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">17</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">18</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E17</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">18</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">19</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E17</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">19</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">20</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E17</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">20</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">21</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E17</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">21</span>
    <span class="s1">&#39;}</span>
    <span class="n">K4S2_02_E17_stComIn</span>             <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span>  <span class="p">:</span>       <span class="n">EL6inData22B</span><span class="p">;</span>
    <span class="p">{</span><span class="n">attribute</span>      <span class="s1">&#39;TcLinkTo&#39;</span>      <span class="o">:=</span>      <span class="s1">&#39;.Ctrl:=TIIB[K4S2_02_E17 (EL6001)]^COM Outputs^Ctrl;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E17</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">0</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E17</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">1</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E17</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">2</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E17</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">3</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E17</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">4</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E17</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">5</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E17</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">6</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E17</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">7</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E17</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">8</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E17</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">9</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E17</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">10</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">11</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E17</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">11</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">12</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E17</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">12</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">13</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E17</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">13</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">14</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E17</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">14</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">15</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E17</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">15</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">16</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E17</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">16</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">17</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E17</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">17</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">18</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E17</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">18</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">19</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E17</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">19</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">20</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E17</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">20</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">21</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E17</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">21</span>
    <span class="s1">&#39;}</span>
    <span class="n">K4S2_02_E17_stComOut</span>            <span class="n">AT</span> <span class="o">%</span><span class="n">Q</span><span class="o">*</span>  <span class="p">:</span>       <span class="n">EL6outData22B</span><span class="p">;</span>

    <span class="o">//</span><span class="n">LI1K4_IP1_PTM_01</span>
    <span class="o">//</span><span class="n">K4S2_02_E18</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)</span>

    <span class="o">//</span> <span class="n">Define</span> <span class="n">COM</span> <span class="n">Ports</span><span class="o">/</span><span class="n">Buffers</span> <span class="n">incl</span><span class="o">.</span> <span class="n">library</span> <span class="n">Tc2_SerialCom</span>
    <span class="n">K4S2_02_E18_SerialRXBuffer</span> <span class="p">:</span> <span class="n">ComBuffer</span><span class="p">;</span>
    <span class="n">K4S2_02_E18_SerialTXBuffer</span> <span class="p">:</span> <span class="n">ComBuffer</span><span class="p">;</span>

    <span class="o">//</span> <span class="n">Serial</span> <span class="n">Terminal</span>
    <span class="n">K4S2_02_E18_fbSerialLineControl</span><span class="p">:</span> <span class="n">SerialLineControl</span><span class="p">;</span>

    <span class="o">//</span><span class="n">SERIAL</span> <span class="n">IO</span>
    <span class="p">{</span><span class="n">attribute</span>      <span class="s1">&#39;TcLinkTo&#39;</span>      <span class="o">:=</span>      <span class="s1">&#39;.Status:=TIIB[K4S2_02_E18 (EL6001)]^COM Inputs^Status;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E18</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">0</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E18</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">1</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E18</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">2</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E18</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">3</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E18</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">4</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E18</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">5</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E18</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">6</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E18</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">7</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E18</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">8</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E18</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">9</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E18</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">10</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">11</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E18</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">11</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">12</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E18</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">12</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">13</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E18</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">13</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">14</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E18</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">14</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">15</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E18</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">15</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">16</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E18</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">16</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">17</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E18</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">17</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">18</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E18</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">18</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">19</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E18</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">19</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">20</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E18</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">20</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">21</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E18</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">In</span> <span class="mi">21</span>
    <span class="s1">&#39;}</span>
    <span class="n">K4S2_02_E18_stComIn</span>             <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span>  <span class="p">:</span>       <span class="n">EL6inData22B</span><span class="p">;</span>
    <span class="p">{</span><span class="n">attribute</span>      <span class="s1">&#39;TcLinkTo&#39;</span>      <span class="o">:=</span>      <span class="s1">&#39;.Ctrl:=TIIB[K4S2_02_E18 (EL6001)]^COM Outputs^Ctrl;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E18</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">0</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E18</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">1</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E18</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">2</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E18</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">3</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E18</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">4</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E18</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">5</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E18</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">6</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E18</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">7</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E18</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">8</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E18</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">9</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E18</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">10</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">11</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E18</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">11</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">12</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E18</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">12</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">13</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E18</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">13</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">14</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E18</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">14</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">15</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E18</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">15</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">16</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E18</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">16</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">17</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E18</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">17</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">18</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E18</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">18</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">19</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E18</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">19</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">20</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E18</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">20</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">D</span><span class="p">[</span><span class="mi">21</span><span class="p">]</span><span class="o">:=</span><span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_02_E18</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)]</span><span class="o">^</span><span class="n">COM</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">Data</span> <span class="n">Out</span> <span class="mi">21</span>
    <span class="s1">&#39;}</span>
    <span class="n">K4S2_02_E18_stComOut</span>            <span class="n">AT</span> <span class="o">%</span><span class="n">Q</span><span class="o">*</span>  <span class="p">:</span>       <span class="n">EL6outData22B</span><span class="p">;</span>



<span class="n">END_VAR</span>
</pre></div>
</div>
</section>
<section id="gvl-dream-ecat">
<h2>GVL_DREAM_ECAT<a class="headerlink" href="#gvl-dream-ecat" title="Link to this heading"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span><span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;qualified_only&#39;</span><span class="p">}</span>
<span class="n">VAR_GLOBAL</span>
   <span class="p">(</span><span class="o">*</span> <span class="n">These</span> <span class="n">variables</span> <span class="n">are</span> <span class="k">for</span> <span class="n">DREAM</span> <span class="n">EtherCat</span> <span class="n">bridge</span> <span class="o">*</span><span class="p">)</span>
   <span class="p">(</span><span class="o">*</span><span class="n">ETHERCAT</span> <span class="n">BRIDGE</span> <span class="n">COM</span> <span class="n">STATUS</span><span class="o">*</span><span class="p">)</span>
   <span class="o">//</span><span class="n">EL6695</span> <span class="n">TxPDO</span> <span class="n">state</span>
   <span class="o">//</span><span class="mi">0</span><span class="p">:</span> <span class="n">Other</span> <span class="n">side</span> <span class="ow">is</span> <span class="ow">in</span> <span class="n">OP</span> <span class="n">state</span><span class="p">,</span> <span class="o">&gt;</span><span class="mi">0</span><span class="p">:</span> <span class="n">Error</span>
   <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span> <span class="s1">&#39;TIIB[CX0_E13 (EK1122)]^DREAM_ECAT^SYNC Inputs^TxPDO state&#39;</span><span class="p">}</span>
   <span class="n">bDreamEcatBridge_TxPDO_state</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>

   <span class="o">//</span><span class="mi">0</span><span class="p">:</span> <span class="n">External</span> <span class="n">device</span> <span class="n">connected</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="n">External</span> <span class="n">device</span> <span class="ow">not</span> <span class="n">connected</span>
   <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span> <span class="s1">&#39;TIIB[CX0_E13 (EK1122)]^DREAM_ECAT^SYNC Inputs^External device not connected&#39;</span><span class="p">}</span>
   <span class="n">bDreamEcatBridge_External_device_not_connected</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>

   <span class="o">//</span><span class="mi">0</span> <span class="o">=</span> <span class="n">Data</span> <span class="n">valid</span><span class="p">,</span> <span class="mi">1</span> <span class="o">=</span> <span class="n">Data</span> <span class="n">invalid</span>
   <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span> <span class="s1">&#39;TIIB[CX0_E13 (EK1122)]^DREAM_ECAT^WcState^WcState&#39;</span><span class="p">}</span>
   <span class="n">bDreamEcatBridge_WcState</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>

   <span class="o">//</span><span class="n">Detecting</span> <span class="n">ethercat</span> <span class="n">communication</span> <span class="n">errror</span>
   <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span> <span class="s1">&#39;pv: TMO:DREAM:ENDSTATION:ETHERCAT_ERROR&#39;</span><span class="p">}</span>
   <span class="n">bDREAM_ECAT_COM_ERROR</span> <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>

   <span class="o">//</span><span class="n">DREAM</span> <span class="n">EL6695</span> <span class="n">OUTPUTS</span>
   <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>         <span class="s1">&#39;TIIB[CX0_E13 (EK1122)]^DREAM_ECAT^IO Outputs^HUTCH_PLC_NAME&#39;</span><span class="p">}</span>
   <span class="n">sHutchPlcName</span>    <span class="n">AT</span> <span class="o">%</span><span class="n">Q</span><span class="o">*</span>  <span class="p">:</span> <span class="n">STRING</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span> <span class="o">:=</span> <span class="s1">&#39;TMO&#39;</span><span class="p">;</span>

   <span class="o">//</span><span class="n">DREAM</span> <span class="n">EL6695</span> <span class="n">INPUTS</span>
   <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span>    <span class="o">:=</span> <span class="s1">&#39;pv: TMO:IP2:PLC:NAME&#39;</span><span class="p">}</span>
   <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span> <span class="s1">&#39;TIIB[CX0_E13 (EK1122)]^DREAM_ECAT^IO Inputs^ENDSTATION_PLC_NAME&#39;</span><span class="p">}</span>
   <span class="n">DREAM_PLC_NAME</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span>  <span class="p">:</span> <span class="n">STRING</span><span class="p">(</span><span class="mi">8</span><span class="p">);</span>

   <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span>    <span class="o">:=</span> <span class="s1">&#39;pv: TMO:DREAM:TURBOS:ALL_AT_SPD&#39;</span><span class="p">}</span>
   <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span> <span class="s1">&#39;TIIB[CX0_E13 (EK1122)]^DREAM_ECAT^IO Inputs^DREAM_TURBOS_ALL_AtSpd&#39;</span><span class="p">}</span>
   <span class="n">DREAM_TURBOS_ALL_AtSpd</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>

   <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span>    <span class="o">:=</span> <span class="s1">&#39;pv: TMO:DREAM:HV_SAFETY_ENABLE&#39;</span><span class="p">}</span>
   <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span> <span class="s1">&#39;TIIB[CX0_E13 (EK1122)]^DREAM_ECAT^IO Inputs^DREAM_HV_SAFETY_ENABLE&#39;</span><span class="p">}</span>
   <span class="n">DREAM_HV_SAFETY_ENABLE</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>

   <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: TMO:DREAM:MAIN:GAUGE&#39;</span><span class="p">}</span>
   <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span> <span class="s1">&#39;.i_xAT_VAC             := TIIB[CX0_E13 (EK1122)]^DREAM_ECAT^IO Inputs^DREAM_MAIN_xAT_VAC;</span>
                             <span class="o">.</span><span class="n">i_xPRESS_OK</span>           <span class="o">:=</span> <span class="n">TIIB</span><span class="p">[</span><span class="n">CX0_E13</span> <span class="p">(</span><span class="n">EK1122</span><span class="p">)]</span><span class="o">^</span><span class="n">DREAM_ECAT</span><span class="o">^</span><span class="n">IO</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">DREAM_MAIN_xPRESS_OK</span><span class="p">;</span>
                             <span class="o">.</span><span class="n">i_rPRESS</span>              <span class="o">:=</span> <span class="n">TIIB</span><span class="p">[</span><span class="n">CX0_E13</span> <span class="p">(</span><span class="n">EK1122</span><span class="p">)]</span><span class="o">^</span><span class="n">DREAM_ECAT</span><span class="o">^</span><span class="n">IO</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">DREAM_MAIN_rPRESS</span>
   <span class="s1">&#39;}</span>
   <span class="n">DREAM_MAIN_GAUGE</span> <span class="p">:</span> <span class="n">FB_Gauge_Interface</span><span class="p">;</span>

   <span class="o">//</span><span class="n">gauge</span> <span class="n">structure</span><span class="p">,</span> <span class="n">which</span> <span class="n">can</span> <span class="n">be</span> <span class="n">override</span> <span class="k">if</span> <span class="n">there</span> <span class="ow">is</span> <span class="n">an</span> <span class="n">Ethercat</span> <span class="n">communication</span> <span class="n">error</span>
   <span class="n">stDreamMainGauge</span> <span class="p">:</span> <span class="n">ST_VG</span><span class="p">;</span>

   <span class="o">//</span><span class="n">Window</span> <span class="n">valve</span> <span class="n">interface</span>
   <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>         <span class="s1">&#39;TIIB[CX0_E13 (EK1122)]^DREAM_ECAT^IO Outputs^TMO_MR5K4_VWC_CLOSED_LS&#39;</span><span class="p">}</span>
   <span class="n">bTMO_MR5K4_VWC_CLOSED_LS</span> <span class="n">AT</span> <span class="o">%</span><span class="n">Q</span><span class="o">*</span>  <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>

   <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>         <span class="s1">&#39;TIIB[CX0_E13 (EK1122)]^DREAM_ECAT^IO Outputs^TMO_TM2K4_VWC_CLOSED_LS&#39;</span><span class="p">}</span>
   <span class="n">bTMO_TM2K4_VWC_CLOSED_LS</span> <span class="n">AT</span> <span class="o">%</span><span class="n">Q</span><span class="o">*</span>  <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>

   <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>         <span class="s1">&#39;TIIB[CX0_E13 (EK1122)]^DREAM_ECAT^IO Outputs^TMO_MR5K4_VWC_OPEN_LS&#39;</span><span class="p">}</span>
   <span class="n">bTMO_MR5K4_VWC_OPEN_LS</span>   <span class="n">AT</span> <span class="o">%</span><span class="n">Q</span><span class="o">*</span>  <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>

   <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>         <span class="s1">&#39;TIIB[CX0_E13 (EK1122)]^DREAM_ECAT^IO Outputs^TMO_TM2K4_VWC_OPEN_LS&#39;</span><span class="p">}</span>
   <span class="n">bTMO_TM2K4_VWC_OPEN_LS</span>   <span class="n">AT</span> <span class="o">%</span><span class="n">Q</span><span class="o">*</span>  <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>

   <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span> <span class="s1">&#39;TIIB[CX0_E13 (EK1122)]^DREAM_ECAT^IO Inputs^CLOSE_TMO_MR5K4_VWC&#39;</span><span class="p">}</span>
   <span class="n">bCLOSE_TMO_MR5K4_VWC</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>

   <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span> <span class="s1">&#39;TIIB[CX0_E13 (EK1122)]^DREAM_ECAT^IO Inputs^CLOSE_TMO_TM2K4_VWC &#39;</span><span class="p">}</span>
   <span class="n">bCLOSE_TMO_TM2K4_VWC</span>  <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
<span class="n">END_VAR</span>
</pre></div>
</div>
<dl class="simple">
<dt>Related:</dt><dd><ul class="simple">
<li><p><a class="reference internal" href="#main">MAIN</a></p></li>
</ul>
</dd>
</dl>
</section>
<section id="gvl-fee-device">
<h2>GVL_FEE_Device<a class="headerlink" href="#gvl-fee-device" title="Link to this heading"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span><span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;qualified_only&#39;</span><span class="p">}</span>
<span class="n">VAR_GLOBAL</span>

<span class="p">(</span><span class="o">*</span> <span class="n">upstream</span> <span class="n">vacuum</span> <span class="n">ok</span> <span class="o">*</span><span class="p">)</span>
   <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: USVAC:OK:HI &#39;</span><span class="p">}</span>
   <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>         <span class="s1">&#39; :=    TIIB[CX0_E2_EXILK (EL1008)]^Channel 1^Input     &#39;</span><span class="p">}</span>
   <span class="n">USVacOk_HI</span> <span class="n">AT</span><span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span> <span class="p">(</span><span class="o">*</span> <span class="n">upstream</span> <span class="n">vacuum</span> <span class="o">&lt;</span><span class="mf">10E-6</span><span class="p">,</span> <span class="k">for</span> <span class="n">mirror</span> <span class="n">VGC</span> <span class="n">interlock</span> <span class="o">*</span><span class="p">)</span>

     <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: USVAC:OK:LO &#39;</span><span class="p">}</span>
   <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>         <span class="s1">&#39;       :=      TIIB[CX0_E2_EXILK (EL1008)]^Channel 3^Input     &#39;</span><span class="p">}</span>
   <span class="n">USVacOk_LO</span> <span class="n">AT</span><span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span> <span class="p">(</span><span class="o">*</span> <span class="n">upstream</span> <span class="n">vacuum</span> <span class="o">&lt;</span><span class="mf">10E-4</span><span class="p">,</span> <span class="k">for</span> <span class="n">Ion</span> <span class="n">pump</span> <span class="n">interlock</span> <span class="o">*</span><span class="p">)</span>


<span class="p">(</span><span class="o">*</span> <span class="n">Isolation</span> <span class="n">gate</span> <span class="n">valves</span><span class="o">*</span><span class="p">)</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: TV1K4:VGC:01 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_xOpnLS      :=      TIIB[B940_K4S20_EB1  (EP2338-0002)]^Channel 1^Input;</span>
                                 <span class="o">.</span><span class="n">i_xClsLS</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">B940_K4S20_EB1</span>  <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                <span class="o">.</span><span class="n">q_xOPN_DO</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">B940_K4S20_EB1</span>  <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">11</span><span class="o">^</span><span class="n">Output</span><span class="s1">&#39;}</span>
    <span class="n">TV1K4_VGC_01</span><span class="p">:</span> <span class="n">FB_VGC</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: TV1K4:VGC:02 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_xOpnLS      :=      TIIB[B940_K4S20_EB1  (EP2338-0002)]^Channel 5^Input;</span>
                                 <span class="o">.</span><span class="n">i_xClsLS</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">B940_K4S20_EB1</span>  <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">6</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xOPN_DO</span> <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">B940_K4S20_EB1</span>  <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">15</span><span class="o">^</span><span class="n">Output</span><span class="s1">&#39;}</span>
     <span class="n">TV1K4_VGC_02</span><span class="p">:</span> <span class="n">FB_VGC</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: ST3K4:PPS:VGC:01 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_xOpnLS      :=      TIIB[B940_K4S33_EB1 (EP2338-0002)]^Channel 1^Input;</span>
                                 <span class="o">.</span><span class="n">i_xClsLS</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">B940_K4S33_EB1</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xOPN_DO</span> <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">B940_K4S33_EB1</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">11</span><span class="o">^</span><span class="n">Output</span><span class="s1">&#39;}</span>
    <span class="n">ST3K4_PPS_VGC_01</span> <span class="p">:</span> <span class="n">FB_VGC</span><span class="p">;</span>

<span class="p">(</span><span class="o">*</span> <span class="n">Pirani</span> <span class="o">&amp;</span> <span class="n">Cold</span> <span class="n">Cathode</span><span class="o">*</span><span class="p">)</span>



    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: TV1K4:GPI:01 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS_R    :=      TIIB[B940_K4S20_EB2  (EP3174-0002)]^AI Standard Channel 1^Value &#39;</span><span class="p">}</span>
    <span class="n">TV1K4_GPI_01</span> <span class="p">:</span> <span class="n">FB_MKS275</span><span class="p">;</span>


    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: TV1K4:GCC:01 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS_R    :=      TIIB[B940_K4S20_EB2  (EP3174-0002)]^AI Standard Channel 2^Value;</span>
                                 <span class="o">.</span><span class="n">q_xHV_DIS</span>         <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">B940_K4S20_EB3</span> <span class="p">(</span><span class="n">EP2624</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Output</span>     <span class="s1">&#39;}</span>
    <span class="n">TV1K4_GCC_01</span> <span class="p">:</span> <span class="n">FB_MKS500</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: ST1K4:TEST:GPI:01 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS_R    :=      TIIB[B940_K4S24_EB1 (EP3174-0002)]^AI Standard Channel 1^Value          &#39;</span><span class="p">}</span>
    <span class="n">ST1K4_TEST_GPI_01</span> <span class="p">:</span> <span class="n">FB_MKS275</span><span class="p">;</span>


    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: ST1K4:TEST:GCC:01 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS_R    :=      TIIB[B940_K4S24_EB1 (EP3174-0002)]^AI Standard Channel 2^Value;</span>
                                 <span class="o">.</span><span class="n">q_xHV_DIS</span>         <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">B940_K4S24_EB2</span> <span class="p">(</span><span class="n">EP2624</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Output</span>     <span class="s1">&#39;}</span>
    <span class="n">ST1K4_TEST_GCC_01</span> <span class="p">:</span> <span class="n">FB_MKS500</span><span class="p">;</span>


    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: ST2K4:BCS:GPI:01 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS_R    :=      TIIB[B940_K4S28_EB1 (EP3174-0002)]^AI Standard Channel 1^Value  &#39;</span><span class="p">}</span>
    <span class="n">ST2K4_BCS_GPI_01</span> <span class="p">:</span> <span class="n">FB_MKS275</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: ST2K4:BCS:GCC:01 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS_R    :=      TIIB[B940_K4S28_EB1 (EP3174-0002)]^AI Standard Channel 2^Value;</span>
                                 <span class="o">.</span><span class="n">q_xHV_DIS</span>         <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">B940_K4S28_EB2</span> <span class="p">(</span><span class="n">EP2624</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Output</span>     <span class="s1">&#39;}</span>
    <span class="n">ST2K4_BCS_GCC_01</span> <span class="p">:</span> <span class="n">FB_MKS500</span><span class="p">;</span>


    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: PC4K4:XTES:GPI:01 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS_R    :=      TIIB[B940_K4S33_EB2 (EP3174-0002)]^AI Standard Channel 1^Value  &#39;</span><span class="p">}</span>
    <span class="n">PC4K4_XTES_GPI_01</span> <span class="p">:</span> <span class="n">FB_MKS275</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: PC4K4:XTES:GCC:01 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS_R    :=      TIIB[B940_K4S33_EB2 (EP3174-0002)]^AI Standard Channel 2^Value;</span>
                                 <span class="o">.</span><span class="n">q_xHV_DIS</span>         <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">B940_K4S33_EB3</span> <span class="p">(</span><span class="n">EP2624</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Output</span>     <span class="s1">&#39;}</span>

    <span class="n">PC4K4_XTES_GCC_01</span> <span class="p">:</span> <span class="n">FB_MKS500</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: PC4K4:XTES:GCC:02 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS_R    :=      TIIB[B940_K4S33_EB2 (EP3174-0002)]^AI Standard Channel 3^Value;</span>
                                 <span class="o">.</span><span class="n">q_xHV_DIS</span>         <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">B940_K4S33_EB3</span> <span class="p">(</span><span class="n">EP2624</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Output</span><span class="s1">&#39;}</span>
    <span class="n">PC4K4_XTES_GCC_02</span> <span class="p">:</span> <span class="n">FB_MX7M</span><span class="p">;</span>



<span class="p">(</span><span class="o">*</span> <span class="n">Ion</span> <span class="n">Pumps</span> <span class="o">*</span><span class="p">)</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39;</span>
            <span class="n">pv</span><span class="p">:</span> <span class="n">MR1K4</span><span class="p">:</span><span class="n">SOMS</span><span class="p">:</span><span class="n">PIP</span><span class="p">:</span><span class="mi">01</span> <span class="s1">&#39;}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS              :=      TIIB[CX0_E6_QPC1 (EL3064)]^AI Standard Channel 1^Value;</span>
                                 <span class="o">.</span><span class="n">i_xSP_DI</span>          <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">CX0_E7_QPC1</span> <span class="p">(</span><span class="n">EL1004</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xHVEna_DO</span>       <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">CX0_E8_QPC1</span> <span class="p">(</span><span class="n">EL2794</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Output</span>
    <span class="s1">&#39;}</span>
    <span class="n">MR1K4_SOMS_PIP_01</span> <span class="p">:</span> <span class="n">FB_PIP_Gamma</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: ST1K4:TEST:PIP:01 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS              :=      TIIB[CX0_E6_QPC1 (EL3064)]^AI Standard Channel 2^Value;</span>
                                 <span class="o">.</span><span class="n">i_xSP_DI</span>          <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">CX0_E7_QPC1</span> <span class="p">(</span><span class="n">EL1004</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xHVEna_DO</span>       <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">CX0_E8_QPC1</span> <span class="p">(</span><span class="n">EL2794</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Output</span>
    <span class="s1">&#39;}</span>
    <span class="n">ST1K4_TEST_PIP_01</span> <span class="p">:</span> <span class="n">FB_PIP_Gamma</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: ST2K4:BCS:PIP:01 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS              :=      TIIB[CX0_E6_QPC1 (EL3064)]^AI Standard Channel 3^Value;</span>
                                 <span class="o">.</span><span class="n">i_xSP_DI</span>          <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">CX0_E7_QPC1</span> <span class="p">(</span><span class="n">EL1004</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">3</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xHVEna_DO</span>       <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">CX0_E8_QPC1</span> <span class="p">(</span><span class="n">EL2794</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">3</span><span class="o">^</span><span class="n">Output</span>
    <span class="s1">&#39;}</span>
    <span class="n">ST2K4_BCS_PIP_01</span> <span class="p">:</span> <span class="n">FB_PIP_Gamma</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: ST3K4:PPS:PIP:01 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS              :=      TIIB[CX0_E6_QPC1 (EL3064)]^AI Standard Channel 4^Value;</span>
                                 <span class="o">.</span><span class="n">i_xSP_DI</span>          <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">CX0_E7_QPC1</span> <span class="p">(</span><span class="n">EL1004</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">4</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xHVEna_DO</span>       <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">CX0_E8_QPC1</span> <span class="p">(</span><span class="n">EL2794</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">4</span><span class="o">^</span><span class="n">Output</span>
    <span class="s1">&#39;}</span>
    <span class="n">ST3K4_PPS_PIP_01</span> <span class="p">:</span> <span class="n">FB_PIP_Gamma</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: PC4K4:XTES:PIP:01 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS              :=      TIIB[CX0_E9_QPC2 (EL3064)]^AI Standard Channel 1^Value;</span>
                                 <span class="o">.</span><span class="n">i_xSP_DI</span>          <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">CX0_E10_QPC2</span> <span class="p">(</span><span class="n">EL1004</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xHVEna_DO</span>       <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">CX0_E11_QPC2</span> <span class="p">(</span><span class="n">EL2794</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Output</span>
    <span class="s1">&#39;}</span>
    <span class="n">PC4K4_XTES_PIP_01</span> <span class="p">:</span> <span class="n">FB_PIP_Gamma</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: TV1K4:PIP:01 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS              :=      TIIB[CX0_E9_QPC2 (EL3064)]^AI Standard Channel 3^Value;</span>
                                 <span class="o">.</span><span class="n">i_xSP_DI</span>          <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">CX0_E10_QPC2</span> <span class="p">(</span><span class="n">EL1004</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">3</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xHVEna_DO</span>       <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">CX0_E11_QPC2</span> <span class="p">(</span><span class="n">EL2794</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">3</span><span class="o">^</span><span class="n">Output</span>
    <span class="s1">&#39;}</span>
    <span class="n">TV1K4_PIP_01</span> <span class="p">:</span> <span class="n">FB_PIP_Gamma</span><span class="p">;</span>





<span class="n">END_VAR</span>
</pre></div>
</div>
</section>
<section id="gvl-fs-devices">
<h2>GVL_FS_Devices<a class="headerlink" href="#gvl-fs-devices" title="Link to this heading"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">VAR_GLOBAL</span>
    <span class="p">(</span><span class="o">*</span><span class="n">Global</span> <span class="n">VFS</span> <span class="n">mode</span> <span class="n">selector</span> <span class="k">for</span> <span class="nb">all</span> <span class="mi">3</span> <span class="n">fast</span> <span class="n">shutter</span> <span class="n">valves</span> <span class="p">(</span><span class="n">TV1K4</span><span class="p">,</span><span class="n">MR3K4</span><span class="p">,</span><span class="n">MR4K4</span><span class="p">)</span><span class="o">*</span><span class="p">)</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span> <span class="s1">&#39;</span>
        <span class="n">pv</span><span class="p">:</span> <span class="n">TMO</span><span class="p">:</span><span class="n">VFS_2OO3_MODE</span>
        <span class="n">io</span><span class="p">:</span> <span class="n">io</span>
    <span class="s1">&#39;}</span>
    <span class="n">eVFS2OO3Mode_TMO</span> <span class="p">:</span> <span class="n">E_2OO3_MODE</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span> <span class="s1">&#39;</span>
        <span class="n">pv</span><span class="p">:</span> <span class="n">TMO</span><span class="p">:</span><span class="n">VFS_RESET_FAULT_COUNTER</span>
        <span class="n">io</span><span class="p">:</span> <span class="n">io</span>
    <span class="s1">&#39;}</span>
    <span class="n">bResetFaultCounters</span> <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
    <span class="p">(</span><span class="o">*</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span> <span class="s1">&#39;</span>
        <span class="n">pv</span><span class="p">:</span> <span class="n">TV1K4</span><span class="p">:</span><span class="n">VFS</span><span class="p">:</span><span class="mi">01</span>
    <span class="s1">&#39;}</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.q_xPress_OK           :=      TIPC^PLC_TMO_VAC^PLC_TMO_VAC Instance^FSVTask Inputs^GVL_FS_Devices.TV1K4_VFS_1.i_xPress_OK;</span>
                                 <span class="o">.</span><span class="n">q_xOPN_SW</span>                 <span class="o">:=</span>  <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">TV1K4_VFS_1</span><span class="o">.</span><span class="n">i_xOPN_SW</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xCLS_SW</span>                 <span class="o">:=</span>  <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">TV1K4_VFS_1</span><span class="o">.</span><span class="n">i_xCLS_SW</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xVAC_FAULT_Reset</span><span class="o">:=</span>      <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">TV1K4_VFS_1</span><span class="o">.</span><span class="n">i_xVAC_FAULT_Reset</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xOverrideMode</span>   <span class="o">:=</span>      <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">TV1K4_VFS_1</span><span class="o">.</span><span class="n">i_xOverrideMode</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xOverrideOpen</span>   <span class="o">:=</span>      <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">TV1K4_VFS_1</span><span class="o">.</span><span class="n">i_xOverrideOpen</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xTrigger</span>                <span class="o">:=</span>      <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">TV1K4_VFS_1</span><span class="o">.</span><span class="n">q_xTrigger</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xVFS_Open</span>               <span class="o">:=</span>      <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">TV1K4_VFS_1</span><span class="o">.</span><span class="n">q_xVFS_Open</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xVFS_Closed</span>             <span class="o">:=</span>      <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">TV1K4_VFS_1</span><span class="o">.</span><span class="n">q_xVFS_Closed</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xVAC_FAULT_OK</span>   <span class="o">:=</span>  <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">TV1K4_VFS_1</span><span class="o">.</span><span class="n">q_xVAC_FAULT_OK</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xMPS_OK</span>                 <span class="o">:=</span>  <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">TV1K4_VFS_1</span><span class="o">.</span><span class="n">q_xMPS_OK</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_eVFS_State</span>              <span class="o">:=</span>      <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">TV1K4_VFS_1</span><span class="o">.</span><span class="n">q_eVFS_State</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xVetoValveOpenDO</span> <span class="o">:=</span> <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">TV1K4_VFS_1</span><span class="o">.</span><span class="n">i_xVetoValveOpenDO</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xVetoValveClosed</span> <span class="o">:=</span> <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">TV1K4_VFS_1</span><span class="o">.</span><span class="n">i_xVetoValveClosed</span> <span class="s1">&#39;}</span>

    <span class="n">TV1K4_VFS_Interface</span> <span class="p">:</span> <span class="n">FB_VFS_Interface</span><span class="p">;</span>


    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;</span>
        <span class="o">.</span><span class="n">q_xClose_A</span> <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">B940_K4S20_EK0</span>  <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S20</span><span class="o">-</span><span class="n">E2</span><span class="o">-</span><span class="n">FSV</span> <span class="p">(</span><span class="n">EL2202</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Output</span><span class="p">;</span>
        <span class="o">.</span><span class="n">q_xClose_B</span> <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">B940_K4S20_EK0</span>  <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S20</span><span class="o">-</span><span class="n">E2</span><span class="o">-</span><span class="n">FSV</span> <span class="p">(</span><span class="n">EL2202</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Output</span><span class="p">;</span>
        <span class="o">.</span><span class="n">q_xClose_C</span> <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">B940_K4S20_EK0</span>  <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S20</span><span class="o">-</span><span class="n">E3</span><span class="o">-</span><span class="n">FSV</span> <span class="p">(</span><span class="n">EL2202</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Output</span><span class="p">;</span>
        <span class="o">.</span><span class="n">q_xOPN_DO</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">B940_K4S20_EK0</span>  <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S20</span><span class="o">-</span><span class="n">E3</span><span class="o">-</span><span class="n">FSV</span> <span class="p">(</span><span class="n">EL2202</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Output</span><span class="p">;</span>
        <span class="o">.</span><span class="n">i_xClsLS</span>   <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">B940_K4S20_EK0</span>  <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S20</span><span class="o">-</span><span class="n">E1</span><span class="o">-</span><span class="n">FSV</span> <span class="p">(</span><span class="n">EL1004</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
        <span class="o">.</span><span class="n">i_xOpnLS</span>   <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">B940_K4S20_EK0</span>  <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S20</span><span class="o">-</span><span class="n">E1</span><span class="o">-</span><span class="n">FSV</span> <span class="p">(</span><span class="n">EL1004</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
        <span class="o">.</span><span class="n">i_xTrigger</span> <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">B940_R20_EK0</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">R20_EK0_E5_MKS937B</span> <span class="p">(</span><span class="n">EL1124</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Input</span> <span class="s1">&#39;}</span>
    <span class="n">TV1K4_VFS_1</span> <span class="p">:</span> <span class="n">FB_VFS</span><span class="p">;</span>
    <span class="o">*</span><span class="p">)</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: TV1K4:VFS:01 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.q_e2OO3_MODE          :=      TIPC^PLC_TMO_VAC^PLC_TMO_VAC Instance^FSVTask Inputs^GVL_FS_Devices.TV1K4_VFS_1.i_e2OO3_MODE;</span>
                                 <span class="o">.</span><span class="n">q_ResetFaultCounter</span> <span class="o">:=</span><span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">TV1K4_VFS_1</span><span class="o">.</span><span class="n">i_ResetFaultCounter</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xPRESS_OK_IG1</span>   <span class="o">:=</span>      <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">TV1K4_VFS_1</span><span class="o">.</span><span class="n">i_xPress_OK_IG1</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xPRESS_OK_IG2</span>   <span class="o">:=</span>      <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">TV1K4_VFS_1</span><span class="o">.</span><span class="n">i_xPress_OK_IG2</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xPRESS_OK_IG3</span>   <span class="o">:=</span>      <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">TV1K4_VFS_1</span><span class="o">.</span><span class="n">i_xPress_OK_IG3</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xOPN_SW</span>                 <span class="o">:=</span>  <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">TV1K4_VFS_1</span><span class="o">.</span><span class="n">i_xOPN_SW</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xCLS_SW</span>                 <span class="o">:=</span>  <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">TV1K4_VFS_1</span><span class="o">.</span><span class="n">i_xCLS_SW</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xVAC_FAULT_Reset</span> <span class="o">:=</span> <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">TV1K4_VFS_1</span><span class="o">.</span><span class="n">i_xVAC_FAULT_Reset</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xOverrideMode</span>   <span class="o">:=</span>      <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">TV1K4_VFS_1</span><span class="o">.</span><span class="n">i_xOverrideMode</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xOverrideOpen</span>   <span class="o">:=</span>      <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">TV1K4_VFS_1</span><span class="o">.</span><span class="n">i_xOverrideOpen</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xTrigger</span>                <span class="o">:=</span>      <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">TV1K4_VFS_1</span><span class="o">.</span><span class="n">q_xTrigger</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xVFS_Open</span>               <span class="o">:=</span>      <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">TV1K4_VFS_1</span><span class="o">.</span><span class="n">q_xVFS_Open</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xVFS_Closed</span>             <span class="o">:=</span>      <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">TV1K4_VFS_1</span><span class="o">.</span><span class="n">q_xVFS_Closed</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xVAC_FAULT_OK</span>   <span class="o">:=</span>  <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">TV1K4_VFS_1</span><span class="o">.</span><span class="n">q_xVAC_FAULT_OK</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xMPS_OK</span>                 <span class="o">:=</span>  <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">TV1K4_VFS_1</span><span class="o">.</span><span class="n">q_xMPS_OK</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_eVFS_State</span>              <span class="o">:=</span>      <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">TV1K4_VFS_1</span><span class="o">.</span><span class="n">q_eVFS_State</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xVetoValveOpenDO</span> <span class="o">:=</span> <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">TV1K4_VFS_1</span><span class="o">.</span><span class="n">i_xVetoValveOpenDO</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xVetoValveClosed</span> <span class="o">:=</span> <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">TV1K4_VFS_1</span><span class="o">.</span><span class="n">i_xVetoValveClosed</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_nFltCount_IG1</span>   <span class="o">:=</span>      <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">TV1K4_VFS_1</span><span class="o">.</span><span class="n">q_nFltCount_IG1</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_nFltCount_IG2</span>   <span class="o">:=</span>      <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">TV1K4_VFS_1</span><span class="o">.</span><span class="n">q_nFltCount_IG2</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_nFltCount_IG3</span>   <span class="o">:=</span>      <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">TV1K4_VFS_1</span><span class="o">.</span><span class="n">q_nFltCount_IG3</span> <span class="s1">&#39;}</span>
    <span class="n">TV1K4_VFS_Interface</span> <span class="p">:</span> <span class="n">FB_VFS_2OO3Interface</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.q_xClose_A    :=      TIIB[B940_K4S20_EK0  (EK1100)]^K4S20-E2-FSV (EL2202)^Channel 1^Output;</span>
                                 <span class="o">.</span><span class="n">q_xClose_B</span>        <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">B940_K4S20_EK0</span>  <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S20</span><span class="o">-</span><span class="n">E2</span><span class="o">-</span><span class="n">FSV</span> <span class="p">(</span><span class="n">EL2202</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Output</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xClose_C</span>        <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">B940_K4S20_EK0</span>  <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S20</span><span class="o">-</span><span class="n">E3</span><span class="o">-</span><span class="n">FSV</span> <span class="p">(</span><span class="n">EL2202</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Output</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xOPN_DO</span>         <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">B940_K4S20_EK0</span>  <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S20</span><span class="o">-</span><span class="n">E3</span><span class="o">-</span><span class="n">FSV</span> <span class="p">(</span><span class="n">EL2202</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Output</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xClsLS</span>          <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">B940_K4S20_EK0</span>  <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S20</span><span class="o">-</span><span class="n">E1</span><span class="o">-</span><span class="n">FSV</span> <span class="p">(</span><span class="n">EL1004</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xOpnLS</span>          <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">B940_K4S20_EK0</span>  <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S20</span><span class="o">-</span><span class="n">E1</span><span class="o">-</span><span class="n">FSV</span> <span class="p">(</span><span class="n">EL1004</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xTriggerIG1</span>     <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">B940_R20_EK0</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">R20_EK0_E5_MKS937B</span> <span class="p">(</span><span class="n">EL1124</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xTriggerIG2</span>     <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">B940_R20_EK0</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">R20_EK0_E5_MKS937B</span> <span class="p">(</span><span class="n">EL1124</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xTriggerIG3</span>     <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">B940_R20_EK0</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">R20_EK0_E5A_MKS937B</span> <span class="p">(</span><span class="n">EL1124</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Input</span> <span class="s1">&#39;}</span>
    <span class="n">TV1K4_VFS_1</span> <span class="p">:</span> <span class="n">FB_VFS_2OO3</span><span class="p">;</span>

<span class="o">//</span>  <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;TV1K4_VFS_1_VAC_FAULT_OK        :=     TIPC^PLC_TMO_VAC^PLC_TMO_VAC Instance^FSVTask Outputs^GVL_FS_Devices.TV1K4_VFS_1.q_xVAC_FAULT_OK; &#39;</span><span class="p">}</span>
<span class="o">//</span>  <span class="n">TV1K4_VFS_1_VAC_FAULT_OK</span>  <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
    <span class="p">(</span><span class="o">*</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span> <span class="s1">&#39;</span>
        <span class="n">pv</span><span class="p">:</span> <span class="n">MR3K4</span><span class="p">:</span><span class="n">KBO</span><span class="p">:</span><span class="n">VFS</span><span class="p">:</span><span class="mi">01</span>
    <span class="s1">&#39;}</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.q_xPress_OK           :=      TIPC^PLC_TMO_VAC^PLC_TMO_VAC Instance^FSVTask Inputs^GVL_FS_Devices.MR3K4_KBO_VFS_1.i_xPress_OK;</span>
                                 <span class="o">.</span><span class="n">q_xOPN_SW</span>                 <span class="o">:=</span>  <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">MR3K4_KBO_VFS_1</span><span class="o">.</span><span class="n">i_xOPN_SW</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xCLS_SW</span>                 <span class="o">:=</span>  <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">MR3K4_KBO_VFS_1</span><span class="o">.</span><span class="n">i_xCLS_SW</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xVAC_FAULT_Reset</span><span class="o">:=</span>      <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">MR3K4_KBO_VFS_1</span><span class="o">.</span><span class="n">i_xVAC_FAULT_Reset</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xOverrideMode</span>   <span class="o">:=</span>      <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">MR3K4_KBO_VFS_1</span><span class="o">.</span><span class="n">i_xOverrideMode</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xOverrideOpen</span>   <span class="o">:=</span>      <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">MR3K4_KBO_VFS_1</span><span class="o">.</span><span class="n">i_xOverrideOpen</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xTrigger</span>                <span class="o">:=</span>      <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">MR3K4_KBO_VFS_1</span><span class="o">.</span><span class="n">q_xTrigger</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xVFS_Open</span>               <span class="o">:=</span>      <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">MR3K4_KBO_VFS_1</span><span class="o">.</span><span class="n">q_xVFS_Open</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xVFS_Closed</span>             <span class="o">:=</span>      <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">MR3K4_KBO_VFS_1</span><span class="o">.</span><span class="n">q_xVFS_Closed</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xVAC_FAULT_OK</span>   <span class="o">:=</span>  <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">MR3K4_KBO_VFS_1</span><span class="o">.</span><span class="n">q_xVAC_FAULT_OK</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xMPS_OK</span>                 <span class="o">:=</span>  <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">MR3K4_KBO_VFS_1</span><span class="o">.</span><span class="n">q_xMPS_OK</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_eVFS_State</span>              <span class="o">:=</span>      <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">MR3K4_KBO_VFS_1</span><span class="o">.</span><span class="n">q_eVFS_State</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xVetoValveOpenDO</span> <span class="o">:=</span> <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">MR3K4_KBO_VFS_1</span><span class="o">.</span><span class="n">i_xVetoValveOpenDO</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xVetoValveClosed</span> <span class="o">:=</span> <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">MR3K4_KBO_VFS_1</span><span class="o">.</span><span class="n">i_xVetoValveClosed</span>
    <span class="s1">&#39;}</span>

    <span class="n">MR3K4_KBO_VFS_Interface</span> <span class="p">:</span> <span class="n">FB_VFS_Interface</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;</span>
        <span class="o">.</span><span class="n">q_xClose_A</span> <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_01_E3_VFS</span> <span class="p">(</span><span class="n">EL2202</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Output</span><span class="p">;</span>
        <span class="o">.</span><span class="n">q_xClose_B</span> <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_01_E3_VFS</span> <span class="p">(</span><span class="n">EL2202</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Output</span><span class="p">;</span>
        <span class="o">.</span><span class="n">q_xClose_C</span> <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_01_E4_VFS</span> <span class="p">(</span><span class="n">EL2202</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Output</span><span class="p">;</span>
        <span class="o">.</span><span class="n">q_xOPN_DO</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_01_E4_VFS</span> <span class="p">(</span><span class="n">EL2202</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Output</span><span class="p">;</span>
        <span class="o">.</span><span class="n">i_xClsLS</span>   <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_01_E1_VFS</span> <span class="p">(</span><span class="n">EL1004</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
        <span class="o">.</span><span class="n">i_xOpnLS</span>   <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_01_E1_VFS</span> <span class="p">(</span><span class="n">EL1004</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
        <span class="o">.</span><span class="n">i_xTrigger</span> <span class="o">:=</span>  <span class="n">TIIB</span><span class="p">[</span><span class="n">B940_R20_EK0</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">R20_EK0_E5_MKS937B</span> <span class="p">(</span><span class="n">EL1124</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Input</span><span class="s1">&#39;}</span>
    <span class="n">MR3K4_KBO_VFS_1</span> <span class="p">:</span> <span class="n">FB_VFS</span><span class="p">;</span>
    <span class="o">*</span><span class="p">)</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: MR3K4:KBO:VFS:01 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.q_e2OO3_MODE          :=      TIPC^PLC_TMO_VAC^PLC_TMO_VAC Instance^FSVTask Inputs^GVL_FS_Devices.MR3K4_KBO_VFS_1.i_e2OO3_MODE;</span>
                                 <span class="o">.</span><span class="n">q_ResetFaultCounter</span> <span class="o">:=</span><span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">MR3K4_KBO_VFS_1</span><span class="o">.</span><span class="n">i_ResetFaultCounter</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xPRESS_OK_IG1</span>   <span class="o">:=</span>      <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">MR3K4_KBO_VFS_1</span><span class="o">.</span><span class="n">i_xPress_OK_IG1</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xPRESS_OK_IG2</span>   <span class="o">:=</span>      <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">MR3K4_KBO_VFS_1</span><span class="o">.</span><span class="n">i_xPress_OK_IG2</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xPRESS_OK_IG3</span>   <span class="o">:=</span>      <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">MR3K4_KBO_VFS_1</span><span class="o">.</span><span class="n">i_xPress_OK_IG3</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xOPN_SW</span>                 <span class="o">:=</span>  <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">MR3K4_KBO_VFS_1</span><span class="o">.</span><span class="n">i_xOPN_SW</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xCLS_SW</span>                 <span class="o">:=</span>  <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">MR3K4_KBO_VFS_1</span><span class="o">.</span><span class="n">i_xCLS_SW</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xVAC_FAULT_Reset</span> <span class="o">:=</span> <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">MR3K4_KBO_VFS_1</span><span class="o">.</span><span class="n">i_xVAC_FAULT_Reset</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xOverrideMode</span>   <span class="o">:=</span>      <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">MR3K4_KBO_VFS_1</span><span class="o">.</span><span class="n">i_xOverrideMode</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xOverrideOpen</span>   <span class="o">:=</span>      <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">MR3K4_KBO_VFS_1</span><span class="o">.</span><span class="n">i_xOverrideOpen</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xTrigger</span>                <span class="o">:=</span>      <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">MR3K4_KBO_VFS_1</span><span class="o">.</span><span class="n">q_xTrigger</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xVFS_Open</span>               <span class="o">:=</span>      <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">MR3K4_KBO_VFS_1</span><span class="o">.</span><span class="n">q_xVFS_Open</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xVFS_Closed</span>             <span class="o">:=</span>      <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">MR3K4_KBO_VFS_1</span><span class="o">.</span><span class="n">q_xVFS_Closed</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xVAC_FAULT_OK</span>   <span class="o">:=</span>  <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">MR3K4_KBO_VFS_1</span><span class="o">.</span><span class="n">q_xVAC_FAULT_OK</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xMPS_OK</span>                 <span class="o">:=</span>  <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">MR3K4_KBO_VFS_1</span><span class="o">.</span><span class="n">q_xMPS_OK</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_eVFS_State</span>              <span class="o">:=</span>      <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">MR3K4_KBO_VFS_1</span><span class="o">.</span><span class="n">q_eVFS_State</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xVetoValveOpenDO</span> <span class="o">:=</span> <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">MR3K4_KBO_VFS_1</span><span class="o">.</span><span class="n">i_xVetoValveOpenDO</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xVetoValveClosed</span> <span class="o">:=</span> <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">MR3K4_KBO_VFS_1</span><span class="o">.</span><span class="n">i_xVetoValveClosed</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_nFltCount_IG1</span>   <span class="o">:=</span>      <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">MR3K4_KBO_VFS_1</span><span class="o">.</span><span class="n">q_nFltCount_IG1</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_nFltCount_IG2</span>   <span class="o">:=</span>      <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">MR3K4_KBO_VFS_1</span><span class="o">.</span><span class="n">q_nFltCount_IG2</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_nFltCount_IG3</span>   <span class="o">:=</span>      <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">MR3K4_KBO_VFS_1</span><span class="o">.</span><span class="n">q_nFltCount_IG3</span> <span class="s1">&#39;}</span>
    <span class="n">MR3K4_KBO_VFS_Interface</span> <span class="p">:</span> <span class="n">FB_VFS_2OO3Interface</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.q_xClose_A    :=      TIIB[K4S2_01_E3_VFS (EL2202)]^Channel 1^Output;</span>
                                 <span class="o">.</span><span class="n">q_xClose_B</span>        <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_01_E3_VFS</span> <span class="p">(</span><span class="n">EL2202</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Output</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xClose_C</span>        <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_01_E4_VFS</span> <span class="p">(</span><span class="n">EL2202</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Output</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xOPN_DO</span>         <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_01_E4_VFS</span> <span class="p">(</span><span class="n">EL2202</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Output</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xClsLS</span>          <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_01_E1_VFS</span> <span class="p">(</span><span class="n">EL1004</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xOpnLS</span>          <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">K4S2_01_E1_VFS</span> <span class="p">(</span><span class="n">EL1004</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xTriggerIG1</span>     <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">B940_R20_EK0</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">R20_EK0_E5_MKS937B</span> <span class="p">(</span><span class="n">EL1124</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xTriggerIG2</span>     <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">B940_R20_EK0</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">R20_EK0_E5_MKS937B</span> <span class="p">(</span><span class="n">EL1124</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xTriggerIG3</span>     <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">B940_R20_EK0</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">R20_EK0_E5A_MKS937B</span> <span class="p">(</span><span class="n">EL1124</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Input</span> <span class="s1">&#39;}</span>
    <span class="n">MR3K4_KBO_VFS_1</span> <span class="p">:</span> <span class="n">FB_VFS_2OO3</span><span class="p">;</span>

<span class="o">//</span>  <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;TV1K4_VFS_1_VAC_FAULT_OK        :=     TIPC^PLC_TMO_VAC^PLC_TMO_VAC Instance^FSVTask Outputs^GVL_FS_Devices.MR3K4_KBO_VFS_1.q_xVAC_FAULT_OK; &#39;</span><span class="p">}</span>
<span class="o">//</span>  <span class="n">MR3K4_KBO_VFS_1_VAC_FAULT_OK</span>  <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
    <span class="p">(</span><span class="o">*</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span> <span class="s1">&#39;</span>
        <span class="n">pv</span><span class="p">:</span> <span class="n">MR4K4</span><span class="p">:</span><span class="n">KBO</span><span class="p">:</span><span class="n">VFS</span><span class="p">:</span><span class="mi">01</span>
    <span class="s1">&#39;}</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.q_xPress_OK           :=      TIPC^PLC_TMO_VAC^PLC_TMO_VAC Instance^FSVTask Inputs^GVL_FS_Devices.MR4K4_KBO_VFS_1.i_xPress_OK;</span>
                                 <span class="o">.</span><span class="n">q_xOPN_SW</span>                 <span class="o">:=</span>  <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">MR4K4_KBO_VFS_1</span><span class="o">.</span><span class="n">i_xOPN_SW</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xCLS_SW</span>                 <span class="o">:=</span>  <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">MR4K4_KBO_VFS_1</span><span class="o">.</span><span class="n">i_xCLS_SW</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xVAC_FAULT_Reset</span><span class="o">:=</span>      <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">MR4K4_KBO_VFS_1</span><span class="o">.</span><span class="n">i_xVAC_FAULT_Reset</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xOverrideMode</span>   <span class="o">:=</span>      <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">MR4K4_KBO_VFS_1</span><span class="o">.</span><span class="n">i_xOverrideMode</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xOverrideOpen</span>   <span class="o">:=</span>      <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">MR4K4_KBO_VFS_1</span><span class="o">.</span><span class="n">i_xOverrideOpen</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xTrigger</span>                <span class="o">:=</span>      <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">MR4K4_KBO_VFS_1</span><span class="o">.</span><span class="n">q_xTrigger</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xVFS_Open</span>               <span class="o">:=</span>      <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">MR4K4_KBO_VFS_1</span><span class="o">.</span><span class="n">q_xVFS_Open</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xVFS_Closed</span>             <span class="o">:=</span>      <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">MR4K4_KBO_VFS_1</span><span class="o">.</span><span class="n">q_xVFS_Closed</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xVAC_FAULT_OK</span>   <span class="o">:=</span>  <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">MR4K4_KBO_VFS_1</span><span class="o">.</span><span class="n">q_xVAC_FAULT_OK</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xMPS_OK</span>                 <span class="o">:=</span>  <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">MR4K4_KBO_VFS_1</span><span class="o">.</span><span class="n">q_xMPS_OK</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_eVFS_State</span>              <span class="o">:=</span>      <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">MR4K4_KBO_VFS_1</span><span class="o">.</span><span class="n">q_eVFS_State</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xVetoValveOpenDO</span> <span class="o">:=</span> <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">MR4K4_KBO_VFS_1</span><span class="o">.</span><span class="n">i_xVetoValveOpenDO</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xVetoValveClosed</span> <span class="o">:=</span> <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">MR4K4_KBO_VFS_1</span><span class="o">.</span><span class="n">i_xVetoValveClosed</span>
    <span class="s1">&#39;}</span>



    <span class="n">MR4K4_KBO_VFS_Interface</span> <span class="p">:</span> <span class="n">FB_VFS_Interface</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;</span>
        <span class="o">.</span><span class="n">q_xClose_A</span> <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S8_DRL_01</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S8_01_E3</span> <span class="p">(</span><span class="n">EL2202</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Output</span><span class="p">;</span>
        <span class="o">.</span><span class="n">q_xClose_B</span> <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S8_DRL_01</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S8_01_E3</span> <span class="p">(</span><span class="n">EL2202</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Output</span><span class="p">;</span>
        <span class="o">.</span><span class="n">q_xClose_C</span> <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S8_DRL_01</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S8_01_E4</span> <span class="p">(</span><span class="n">EL2202</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Output</span><span class="p">;</span>
        <span class="o">.</span><span class="n">q_xOPN_DO</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S8_DRL_01</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S8_01_E4</span> <span class="p">(</span><span class="n">EL2202</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Output</span><span class="p">;</span>
        <span class="o">.</span><span class="n">i_xClsLS</span>   <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S8_DRL_01</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S8_01_E1</span> <span class="p">(</span><span class="n">EL1004</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
        <span class="o">.</span><span class="n">i_xOpnLS</span>   <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S8_DRL_01</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S8_01_E1</span> <span class="p">(</span><span class="n">EL1004</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
        <span class="o">.</span><span class="n">i_xTrigger</span> <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">B940_R20_EK0</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">R20_EK0_E5_MKS937B</span> <span class="p">(</span><span class="n">EL1124</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Input</span>
    <span class="s1">&#39;}</span>

    <span class="n">MR4K4_KBO_VFS_1</span> <span class="p">:</span> <span class="n">FB_VFS</span><span class="p">;</span>
    <span class="o">*</span><span class="p">)</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: MR4K4:KBO:VFS:01 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.q_e2OO3_MODE          :=      TIPC^PLC_TMO_VAC^PLC_TMO_VAC Instance^FSVTask Inputs^GVL_FS_Devices.MR4K4_KBO_VFS_1.i_e2OO3_MODE;</span>
                                 <span class="o">.</span><span class="n">q_ResetFaultCounter</span> <span class="o">:=</span><span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">MR4K4_KBO_VFS_1</span><span class="o">.</span><span class="n">i_ResetFaultCounter</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xPRESS_OK_IG1</span>   <span class="o">:=</span>      <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">MR4K4_KBO_VFS_1</span><span class="o">.</span><span class="n">i_xPress_OK_IG1</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xPRESS_OK_IG2</span>   <span class="o">:=</span>      <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">MR4K4_KBO_VFS_1</span><span class="o">.</span><span class="n">i_xPress_OK_IG2</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xPRESS_OK_IG3</span>   <span class="o">:=</span>      <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">MR4K4_KBO_VFS_1</span><span class="o">.</span><span class="n">i_xPress_OK_IG3</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xOPN_SW</span>                 <span class="o">:=</span>  <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">MR4K4_KBO_VFS_1</span><span class="o">.</span><span class="n">i_xOPN_SW</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xCLS_SW</span>                 <span class="o">:=</span>  <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">MR4K4_KBO_VFS_1</span><span class="o">.</span><span class="n">i_xCLS_SW</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xVAC_FAULT_Reset</span> <span class="o">:=</span> <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">MR4K4_KBO_VFS_1</span><span class="o">.</span><span class="n">i_xVAC_FAULT_Reset</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xOverrideMode</span>   <span class="o">:=</span>      <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">MR4K4_KBO_VFS_1</span><span class="o">.</span><span class="n">i_xOverrideMode</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xOverrideOpen</span>   <span class="o">:=</span>      <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">MR4K4_KBO_VFS_1</span><span class="o">.</span><span class="n">i_xOverrideOpen</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xTrigger</span>                <span class="o">:=</span>      <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">MR4K4_KBO_VFS_1</span><span class="o">.</span><span class="n">q_xTrigger</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xVFS_Open</span>               <span class="o">:=</span>      <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">MR4K4_KBO_VFS_1</span><span class="o">.</span><span class="n">q_xVFS_Open</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xVFS_Closed</span>             <span class="o">:=</span>      <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">MR4K4_KBO_VFS_1</span><span class="o">.</span><span class="n">q_xVFS_Closed</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xVAC_FAULT_OK</span>   <span class="o">:=</span>  <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">MR4K4_KBO_VFS_1</span><span class="o">.</span><span class="n">q_xVAC_FAULT_OK</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xMPS_OK</span>                 <span class="o">:=</span>  <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">MR4K4_KBO_VFS_1</span><span class="o">.</span><span class="n">q_xMPS_OK</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_eVFS_State</span>              <span class="o">:=</span>      <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">MR4K4_KBO_VFS_1</span><span class="o">.</span><span class="n">q_eVFS_State</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xVetoValveOpenDO</span> <span class="o">:=</span> <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">MR4K4_KBO_VFS_1</span><span class="o">.</span><span class="n">i_xVetoValveOpenDO</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xVetoValveClosed</span> <span class="o">:=</span> <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">MR4K4_KBO_VFS_1</span><span class="o">.</span><span class="n">i_xVetoValveClosed</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_nFltCount_IG1</span>   <span class="o">:=</span> <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">MR4K4_KBO_VFS_1</span><span class="o">.</span><span class="n">q_nFltCount_IG1</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_nFltCount_IG2</span>   <span class="o">:=</span> <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">MR4K4_KBO_VFS_1</span><span class="o">.</span><span class="n">q_nFltCount_IG2</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_nFltCount_IG3</span>   <span class="o">:=</span> <span class="n">TIPC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span><span class="o">^</span><span class="n">PLC_TMO_VAC</span> <span class="n">Instance</span><span class="o">^</span><span class="n">FSVTask</span> <span class="n">Outputs</span><span class="o">^</span><span class="n">GVL_FS_Devices</span><span class="o">.</span><span class="n">MR4K4_KBO_VFS_1</span><span class="o">.</span><span class="n">q_nFltCount_IG3</span> <span class="s1">&#39;}</span>
    <span class="n">MR4K4_KBO_VFS_Interface</span> <span class="p">:</span> <span class="n">FB_VFS_2OO3Interface</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.q_xClose_A    :=      TIIB[TMO_K4S8_DRL_01 (EK1100)]^K4S8_01_E3 (EL2202)^Channel 1^Output;</span>
                                 <span class="o">.</span><span class="n">q_xClose_B</span>        <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S8_DRL_01</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S8_01_E3</span> <span class="p">(</span><span class="n">EL2202</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Output</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xClose_C</span>        <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S8_DRL_01</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S8_01_E4</span> <span class="p">(</span><span class="n">EL2202</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Output</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xOPN_DO</span>         <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S8_DRL_01</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S8_01_E4</span> <span class="p">(</span><span class="n">EL2202</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Output</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xClsLS</span>          <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S8_DRL_01</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S8_01_E1</span> <span class="p">(</span><span class="n">EL1004</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xOpnLS</span>          <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S8_DRL_01</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S8_01_E1</span> <span class="p">(</span><span class="n">EL1004</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xTriggerIG1</span>     <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">B940_R20_EK0</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">R20_EK0_E5_MKS937B</span> <span class="p">(</span><span class="n">EL1124</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xTriggerIG2</span>     <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">B940_R20_EK0</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">R20_EK0_E5_MKS937B</span> <span class="p">(</span><span class="n">EL1124</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xTriggerIG3</span>     <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">B940_R20_EK0</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">R20_EK0_E5A_MKS937B</span> <span class="p">(</span><span class="n">EL1124</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Input</span> <span class="s1">&#39;}</span>
    <span class="n">MR4K4_KBO_VFS_1</span> <span class="p">:</span> <span class="n">FB_VFS_2OO3</span><span class="p">;</span>

<span class="n">END_VAR</span>
</pre></div>
</div>
</section>
<section id="gvl-fsv-pmps">
<h2>GVL_FSV_PMPS<a class="headerlink" href="#gvl-fsv-pmps" title="Link to this heading"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">VAR_GLOBAL</span>

<span class="p">(</span><span class="o">*</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span> <span class="s1">&#39;pv: TMO:VAC:FFO:03  &#39;</span><span class="p">}</span>
   <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span> <span class="s1">&#39;.q_xFastFaultOut:=TIIB[CX0_E1A (EL2202)]^Channel 1^Output&#39;</span><span class="p">}</span>
    <span class="n">g_FastFaultOutput3</span>  <span class="p">:</span>   <span class="n">FB_HardwareFFOutput</span><span class="p">;</span>    <span class="o">//</span><span class="n">FFO</span> <span class="k">for</span> <span class="n">TV1K4</span><span class="o">-</span><span class="n">VFS</span><span class="o">-</span><span class="mi">1</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span> <span class="s1">&#39;pv: TMO:VAC:FFO:04  &#39;</span><span class="p">}</span>
   <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span> <span class="s1">&#39;.q_xFastFaultOut:=TIIB[CX0_E1A (EL2202)]^Channel 2^Output&#39;</span><span class="p">}</span>
    <span class="n">g_FastFaultOutput4</span>  <span class="p">:</span>   <span class="n">FB_HardwareFFOutput</span><span class="p">;</span>  <span class="o">//</span> <span class="n">FF0</span> <span class="k">for</span> <span class="n">MR3K4_KBO_VFS_01</span> <span class="o">&amp;</span> <span class="n">MR4K4_KBO_VFS_01</span>

<span class="o">*</span><span class="p">)</span>
<span class="n">END_VAR</span>
</pre></div>
</div>
</section>
<section id="gvl-hutch-gauges">
<h2>GVL_Hutch_Gauges<a class="headerlink" href="#gvl-hutch-gauges" title="Link to this heading"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span><span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;qualified_only&#39;</span><span class="p">}</span>
<span class="n">VAR_GLOBAL</span>
<span class="p">(</span><span class="o">*</span> <span class="n">Pirani</span> <span class="o">&amp;</span> <span class="n">Cold</span> <span class="n">Cathode</span><span class="o">*</span><span class="p">)</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: MR2K4:KBO:GPI:01 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS_R    :=      TIIB[TMO_K4S2_DRL_02 (EK1100)]^K4S2_02_E1 (EL3174)^AI Standard Channel 2^Value &#39;</span><span class="p">}</span>
    <span class="n">MR2K4_KBO_GPI_01</span> <span class="p">:</span> <span class="n">FB_MKS275</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: MR2K4:KBO:GCC:01 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS_R    :=      TIIB[TMO_K4S2_DRL_02 (EK1100)]^K4S2_02_E1 (EL3174)^AI Standard Channel 3^Value;</span>
                                 <span class="o">.</span><span class="n">i_xHV_ON</span>      <span class="o">:=</span>  <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S2_DRL_02</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S2_02_E7</span> <span class="p">(</span><span class="n">EL1124</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">3</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xDisc_Active</span><span class="o">:=</span>  <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S2_DRL_02</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S2_02_E7</span> <span class="p">(</span><span class="n">EL1124</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">4</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xHV_DIS</span>         <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S2_DRL_02</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S2_02_E5</span> <span class="p">(</span><span class="n">EL2624</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Output</span>     <span class="s1">&#39;}</span>
    <span class="n">MR2K4_KBO_GCC_01</span> <span class="p">:</span> <span class="n">FB_MKS500</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: PA1K4:IP1:GPI:01 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS_R    :=      TIIB[TMO_K4S2_DRL_02 (EK1100)]^K4S2_02_E2 (EL3174)^AI Standard Channel 1^Value &#39;</span><span class="p">}</span>
    <span class="n">PA1K4_IP1_GPI_01</span> <span class="p">:</span> <span class="n">FB_MKS275</span><span class="p">;</span>


<span class="p">(</span><span class="o">*</span>    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: PA1K4:IP1:GCC:01 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS_R    :=      TIIB[TMO_K4S2_DRL_02 (EK1100)]^K4S2_02_E1 (EL3174)^AI Standard Channel 4^Value;</span>
                                 <span class="o">.</span><span class="n">i_xHV_ON</span>      <span class="o">:=</span>  <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S2_DRL_02</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S2_02_E8</span> <span class="p">(</span><span class="n">EL1124</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xDisc_Active</span><span class="o">:=</span>  <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S2_DRL_02</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S2_02_E8</span> <span class="p">(</span><span class="n">EL1124</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xHV_DIS</span>         <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S2_DRL_02</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S2_02_E5</span> <span class="p">(</span><span class="n">EL2624</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">3</span><span class="o">^</span><span class="n">Output</span>     <span class="s1">&#39;}</span>
    <span class="n">PA1K4_IP1_GCC_01</span> <span class="p">:</span> <span class="n">FB_MKS500</span><span class="p">;</span>
<span class="o">*</span><span class="p">)</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: PA1K4:IP1:GCC:01 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS_R    :=      TIIB[TMO_K4S2_DRL_02 (EK1100)]^K4S2_02_E1 (EL3174)^AI Standard Channel 4^Value;</span>
                                 <span class="o">.</span><span class="n">q_xHV_DIS</span>         <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S2_DRL_02</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S2_02_E5</span> <span class="p">(</span><span class="n">EL2624</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">3</span><span class="o">^</span><span class="n">Output</span>     <span class="s1">&#39;}</span>
    <span class="n">PA1K4_IP1_GCC_01</span> <span class="p">:</span> <span class="n">FB_MX7M</span><span class="p">;</span>
<span class="p">(</span><span class="o">*</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: IM4K4:PPM:GCC:01 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS_R    :=      TIIB[TMO_K4S2_DRL_02 (EK1100)]^K4S2_02_E2 (EL3174)^AI Standard Channel 2^Value;</span>
                                 <span class="o">.</span><span class="n">i_xHV_ON</span>      <span class="o">:=</span>  <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S2_DRL_02</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S2_02_E8</span> <span class="p">(</span><span class="n">EL1124</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">3</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xDisc_Active</span><span class="o">:=</span>  <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S2_DRL_02</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S2_02_E8</span> <span class="p">(</span><span class="n">EL1124</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">4</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xHV_DIS</span>         <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S2_DRL_02</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S2_02_E5</span> <span class="p">(</span><span class="n">EL2624</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">4</span><span class="o">^</span><span class="n">Output</span>     <span class="s1">&#39;}</span>
    <span class="n">IM4K4_PPM_GCC_01</span> <span class="p">:</span> <span class="n">FB_MKS500</span><span class="p">;</span>
<span class="o">*</span><span class="p">)</span>
    <span class="o">//</span> <span class="n">replacing</span> <span class="n">IM4K4_PPM_GCC_01</span> <span class="k">with</span> <span class="n">CCM501</span>
<span class="p">(</span><span class="o">*</span>  <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: IM4K4:PPM:GCC:01 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS_R            :=      TIIB[TMO_K4S2_DRL_02 (EK1100)]^K4S2_02_E2 (EL3174)^AI Standard Channel 2^Value;</span>
                                 <span class="o">.</span><span class="n">i_xHV_ON</span>                  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S2_DRL_02</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S2_02_E20A</span> <span class="p">(</span><span class="n">EL1088</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xHV_DIS</span>                 <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S2_DRL_02</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S2_02_E5</span> <span class="p">(</span><span class="n">EL2624</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">4</span><span class="o">^</span><span class="n">Output</span> <span class="s1">&#39;}</span>
    <span class="n">IM4K4_PPM_GCC_01</span> <span class="p">:</span> <span class="n">FB_CCM501</span><span class="p">;</span>
<span class="o">*</span><span class="p">)</span>
     <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: IM4K4:PPM:GCC:01 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS_R            :=      TIIB[TMO_K4S2_DRL_02 (EK1100)]^K4S2_02_E2 (EL3174)^AI Standard Channel 2^Value;</span>
                                 <span class="o">.</span><span class="n">q_xHV_DIS</span>                 <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S2_DRL_02</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S2_02_E5</span> <span class="p">(</span><span class="n">EL2624</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">4</span><span class="o">^</span><span class="n">Output</span> <span class="s1">&#39;}</span>
    <span class="n">IM4K4_PPM_GCC_01</span> <span class="p">:</span> <span class="n">FB_MX7M</span><span class="p">;</span>


    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: LI2K4:IP1:GFS:01 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS_R    :=      TIIB[B940_R20_EK0 (EK1100)]^R20_EK0_E1_MKS937B (EL3064)^AI Standard Channel 1^Value;</span>
                                 <span class="o">.</span><span class="n">q_xHV_DIS</span>         <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">B940_R20_EK0</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">R20_EK0_E3_MKS937B</span> <span class="p">(</span><span class="n">EL2794</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Output</span> <span class="s1">&#39;}</span>
    <span class="n">LI2K4_IP1_GFS_01</span> <span class="p">:</span> <span class="n">FB_MKS422</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: LI2K4:IP1:GFS:02 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS_R    :=      TIIB[B940_R20_EK0 (EK1100)]^R20_EK0_E1_MKS937B (EL3064)^AI Standard Channel 2^Value;</span>
                                 <span class="o">.</span><span class="n">q_xHV_DIS</span>         <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">B940_R20_EK0</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">R20_EK0_E3_MKS937B</span> <span class="p">(</span><span class="n">EL2794</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Output</span> <span class="s1">&#39;}</span>
    <span class="n">LI2K4_IP1_GFS_02</span> <span class="p">:</span> <span class="n">FB_MKS422</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: LI2K4:IP1:GFS:03 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS_R    :=      TIIB[B940_R20_EK0 (EK1100)]^R20_EK0_E2_MKS937B (EL3064)^AI Standard Channel 1^Value;</span>
                                 <span class="o">.</span><span class="n">q_xHV_DIS</span>         <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">B940_R20_EK0</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">R20_EK0_E3_MKS937B</span> <span class="p">(</span><span class="n">EL2794</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">3</span><span class="o">^</span><span class="n">Output</span> <span class="s1">&#39;}</span>
    <span class="n">LI2K4_IP1_GFS_03</span> <span class="p">:</span> <span class="n">FB_MKS422</span><span class="p">;</span>


    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: TM1K4:GCC:01 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS_R    :=      TIIB[TMO_K4S6_DRL_01 (EK1100)]^K4S6_01_E15 (EL3174)^AI Standard Channel 1^Value;</span>
                                 <span class="o">.</span><span class="n">i_xHV_ON</span>      <span class="o">:=</span>  <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S6_DRL_01</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S6_01_E20</span> <span class="p">(</span><span class="n">EL1124</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xDisc_Active</span><span class="o">:=</span>  <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S6_DRL_01</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S6_01_E20</span> <span class="p">(</span><span class="n">EL1124</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xHV_DIS</span>         <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S6_DRL_01</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S6_01_E14</span> <span class="p">(</span><span class="n">EL2624</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Output</span>    <span class="s1">&#39;}</span>
    <span class="n">TM1K4_GCC_01</span> <span class="p">:</span> <span class="n">FB_MKS500</span><span class="p">;</span>

 <span class="p">(</span><span class="o">*</span>   <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: IM5K4:PPM:GCC:01 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS_R    :=      TIIB[TMO_K4S6_DRL_01 (EK1100)]^K4S6_01_E15 (EL3174)^AI Standard Channel 2^Value;</span>
                                 <span class="o">.</span><span class="n">i_xHV_ON</span>      <span class="o">:=</span>  <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S6_DRL_01</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S6_01_E20</span> <span class="p">(</span><span class="n">EL1124</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">3</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xDisc_Active</span><span class="o">:=</span>  <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S6_DRL_01</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S6_01_E20</span> <span class="p">(</span><span class="n">EL1124</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">4</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xHV_DIS</span>         <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S6_DRL_01</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S6_01_E14</span> <span class="p">(</span><span class="n">EL2624</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Output</span>    <span class="s1">&#39;}</span>
    <span class="n">IM5K4_PPM_GCC_01</span> <span class="p">:</span> <span class="n">FB_MKS500</span><span class="p">;</span>
<span class="o">*</span><span class="p">)</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: IM5K4:PPM:GCC:01 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS_R    :=      TIIB[TMO_K4S6_DRL_01 (EK1100)]^K4S6_01_E15 (EL3174)^AI Standard Channel 2^Value;</span>
                                  <span class="o">.</span><span class="n">q_xHV_DIS</span>                <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S6_DRL_01</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S6_01_E14</span> <span class="p">(</span><span class="n">EL2624</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Output</span>    <span class="s1">&#39;}</span>
    <span class="n">IM5K4_PPM_GCC_01</span> <span class="p">:</span> <span class="n">FB_MX7M</span><span class="p">;</span>

    <span class="o">//</span> <span class="n">adding</span> <span class="n">a</span> <span class="n">new</span> <span class="n">GPI</span> <span class="n">here</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: IM5K4:PPM:GPI:01 &#39;</span><span class="p">}</span>
   <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>         <span class="s1">&#39;.i_iPRESS_R    :=      TIIB[TMO_K4S6_DRL_01 (EK1100)]^K4S6_01_E18 (EL3174)^AI Standard Channel 3^Value &#39;</span><span class="p">}</span>
    <span class="n">IM5K4_PPM_GPI_01</span> <span class="p">:</span> <span class="n">FB_MKS275</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: PA2K4:IP1:GPI:01 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS_R    :=      TIIB[TMO_K4S6_DRL_01 (EK1100)]^K4S6_01_E15 (EL3174)^AI Standard Channel 4^Value &#39;</span><span class="p">}</span>
    <span class="n">PA2K4_IP1_GPI_01</span> <span class="p">:</span> <span class="n">FB_MKS275</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: PA2K4:IP1:GCC:01 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS_R    :=      TIIB[TMO_K4S6_DRL_01 (EK1100)]^K4S6_01_E15 (EL3174)^AI Standard Channel 3^Value;</span>
                                 <span class="o">.</span><span class="n">i_xHV_ON</span>      <span class="o">:=</span>  <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S6_DRL_01</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S6_01_E21</span> <span class="p">(</span><span class="n">EL1124</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xDisc_Active</span><span class="o">:=</span>  <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S6_DRL_01</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S6_01_E21</span> <span class="p">(</span><span class="n">EL1124</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xHV_DIS</span>         <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S6_DRL_01</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S6_01_E14</span> <span class="p">(</span><span class="n">EL2624</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">3</span><span class="o">^</span><span class="n">Output</span>    <span class="s1">&#39;}</span>
    <span class="n">PA2K4_IP1_GCC_01</span> <span class="p">:</span> <span class="n">FB_MKS500</span><span class="p">;</span>


    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: MR4K4:KBO:GPI:01 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS_R    :=      TIIB[TMO_K4S6_DRL_01 (EK1100)]^K4S6_01_E18 (EL3174)^AI Standard Channel 1^Value &#39;</span><span class="p">}</span>
    <span class="n">MR4K4_KBO_GPI_01</span> <span class="p">:</span> <span class="n">FB_MKS275</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: MR4K4:KBO:GCC:01 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS_R    :=      TIIB[TMO_K4S6_DRL_01 (EK1100)]^K4S6_01_E18 (EL3174)^AI Standard Channel 2^Value;</span>
                                 <span class="o">.</span><span class="n">i_xHV_ON</span>      <span class="o">:=</span>  <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S6_DRL_01</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S6_01_E21</span> <span class="p">(</span><span class="n">EL1124</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">3</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xDisc_Active</span><span class="o">:=</span>  <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S6_DRL_01</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S6_01_E21</span> <span class="p">(</span><span class="n">EL1124</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">4</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xHV_DIS</span>         <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S6_DRL_01</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S6_01_E14</span> <span class="p">(</span><span class="n">EL2624</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">4</span><span class="o">^</span><span class="n">Output</span>    <span class="s1">&#39;}</span>
    <span class="n">MR4K4_KBO_GCC_01</span> <span class="p">:</span> <span class="n">FB_MKS500</span><span class="p">;</span>
    <span class="o">//</span> <span class="n">need</span> <span class="n">to</span> <span class="n">update</span> <span class="k">for</span> <span class="n">the</span> <span class="n">gauge</span> <span class="n">model</span><span class="p">,</span> <span class="k">if</span> <span class="n">it</span> <span class="ow">is</span> <span class="n">MKS500</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: TM2K4:KBO:GCC:01 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS_R    :=      TIIB[TMO_K4S8_DRL_02 (EK1100)]^K4S8_02_E4 (EL3174)^AI Standard Channel 1^Value;</span>
                                 <span class="o">.</span><span class="n">i_xHV_ON</span>      <span class="o">:=</span>  <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S8_DRL_02</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S8_02_E8</span> <span class="p">(</span><span class="n">EL1124</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xDisc_Active</span><span class="o">:=</span>  <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S8_DRL_02</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S8_02_E8</span> <span class="p">(</span><span class="n">EL1124</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xHV_DIS</span>         <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S8_DRL_02</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S8_02_E3</span> <span class="p">(</span><span class="n">EL2624</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Output</span><span class="s1">&#39;}</span>
    <span class="n">TM2K4_KBO_GCC_01</span> <span class="p">:</span> <span class="n">FB_MKS500</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: TM2K4:KBO:GPI:01 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS_R    :=      TIIB[TMO_K4S8_DRL_02 (EK1100)]^K4S8_02_E4 (EL3174)^AI Standard Channel 3^Value &#39;</span><span class="p">}</span>
    <span class="n">TM2K4_KBO_GPI_01</span> <span class="p">:</span> <span class="n">FB_MKS275</span><span class="p">;</span>

<span class="p">(</span><span class="o">*</span>
      <span class="o">//</span> <span class="n">need</span> <span class="n">to</span> <span class="n">update</span> <span class="k">for</span> <span class="n">the</span> <span class="n">gauge</span> <span class="n">model</span><span class="p">,</span> <span class="k">if</span> <span class="n">it</span> <span class="ow">is</span> <span class="n">MKS500</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: PF2K4:KBO:GCC:01 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS_R    :=      TIIB[TMO_K4S8_DRL_02 (EK1100)]^K4S8_02_E4 (EL3174)^AI Standard Channel 2^Value;</span>
                                 <span class="o">.</span><span class="n">i_xHV_ON</span>      <span class="o">:=</span>  <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S8_DRL_02</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S8_02_E8</span> <span class="p">(</span><span class="n">EL1124</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">3</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xDisc_Active</span><span class="o">:=</span>  <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S8_DRL_02</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S8_02_E8</span> <span class="p">(</span><span class="n">EL1124</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">4</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xHV_DIS</span>         <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S8_DRL_02</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S8_02_E3</span> <span class="p">(</span><span class="n">EL2624</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Output</span>     <span class="s1">&#39;}</span>
    <span class="n">PF2K4_WFS_GCC_01</span> <span class="p">:</span> <span class="n">FB_MKS500</span><span class="p">;</span>
<span class="o">*</span><span class="p">)</span>
    <span class="o">//</span> <span class="n">adding</span> <span class="n">PF2K4_WFS_GCC_01</span> <span class="n">which</span> <span class="ow">is</span> <span class="n">CCM501</span> <span class="nb">type</span>
<span class="p">(</span><span class="o">*</span>    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: PF2K4:KBO:GCC:01 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS_R            :=      TIIB[TMO_K4S8_DRL_02 (EK1100)]^K4S8_02_E4 (EL3174)^AI Standard Channel 2^Value;</span>
                                 <span class="o">.</span><span class="n">i_xHV_ON</span>                  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S8_DRL_02</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S8_02_E6A</span> <span class="p">(</span><span class="n">EL1084</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xHV_DIS</span>                 <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S8_DRL_02</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S8_02_E3</span> <span class="p">(</span><span class="n">EL2624</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Output</span>     <span class="s1">&#39;}</span>
    <span class="n">PF2K4_WFS_GCC_01</span> <span class="p">:</span> <span class="n">FB_CCM501</span><span class="p">;</span>
<span class="o">*</span><span class="p">)</span>
     <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: PF2K4:KBO:GCC:01 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS_R            :=      TIIB[TMO_K4S8_DRL_02 (EK1100)]^K4S8_02_E4 (EL3174)^AI Standard Channel 2^Value;</span>
                                 <span class="o">.</span><span class="n">q_xHV_DIS</span>                 <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S8_DRL_02</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S8_02_E3</span> <span class="p">(</span><span class="n">EL2624</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Output</span>     <span class="s1">&#39;}</span>
    <span class="n">PF2K4_WFS_GCC_01</span> <span class="p">:</span> <span class="n">FB_MX7M</span><span class="p">;</span>

<span class="p">(</span><span class="o">*</span>
  <span class="o">//</span> <span class="n">need</span> <span class="n">to</span> <span class="n">update</span> <span class="k">for</span> <span class="n">the</span> <span class="n">gauge</span> <span class="n">name</span> <span class="ow">and</span> <span class="n">model</span>
      <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: IM6K4:KBO:GPI:01 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS_R    :=      TIIB[TMO_K4S8_DRL_02 (EK1100)]^K4S8_02_E4 (EL3174)^AI Standard Channel 3^Value &#39;</span><span class="p">}</span>
    <span class="n">IM6K4_PPM_GPI_01</span> <span class="p">:</span> <span class="n">FB_MKS275</span><span class="p">;</span>
<span class="o">*</span><span class="p">)</span>

<span class="p">(</span><span class="o">*</span> <span class="n">Roughing</span> <span class="n">gauges</span> <span class="o">*</span><span class="p">)</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: TMO:ROUGH1:GPI:01 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS_R    :=      TIIB[TMO_WALL_WEST_EP01 (EP4374-0002)]^AI Inputs Channel 1^Value        &#39;</span><span class="p">}</span>
    <span class="n">TMO_ROUGH1_GPI_01</span> <span class="p">:</span> <span class="n">FB_9XX</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: TMO:ROUGH1:GPI:02 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS_R    :=      TIIB[TMO_K4S2_ EP1 (EP4374-0002)]^AI Inputs Channel 1^Value     &#39;</span><span class="p">}</span>
    <span class="n">TMO_ROUGH1_GPI_02</span> <span class="p">:</span> <span class="n">FB_9XX</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: TMO:ROUGH1:GPI:03 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS_R    :=      TIIB[TMO_K4S6_ EP1 (EP4374-0002)]^AI Inputs Channel 1^Value     &#39;</span><span class="p">}</span>
    <span class="n">TMO_ROUGH1_GPI_03</span> <span class="p">:</span> <span class="n">FB_9XX</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: TMO:ROUGH2:GPI:01 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS_R    :=      TIIB[TMO_WALL_WEST_EP01 (EP4374-0002)]^AI Inputs Channel 2^Value        &#39;</span><span class="p">}</span>
    <span class="n">TMO_ROUGH2_GPI_01</span> <span class="p">:</span> <span class="n">FB_9XX</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: TMO:ROUGH2:GPI:02 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS_R    :=      TIIB[TMO_K4S2_ EP1 (EP4374-0002)]^AI Inputs Channel 2^Value     &#39;</span><span class="p">}</span>
    <span class="n">TMO_ROUGH2_GPI_02</span> <span class="p">:</span> <span class="n">FB_9XX</span><span class="p">;</span>






<span class="n">END_VAR</span>
</pre></div>
</div>
</section>
<section id="gvl-hutch-pumps">
<h2>GVL_Hutch_Pumps<a class="headerlink" href="#gvl-hutch-pumps" title="Link to this heading"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span><span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;qualified_only&#39;</span><span class="p">}</span>
<span class="n">VAR_GLOBAL</span>


<span class="p">(</span><span class="o">*</span> <span class="n">Ion</span> <span class="n">pumps</span> <span class="o">*</span><span class="p">)</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: MR2K4:KBO:PIP:01 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS              :=      TIIB[CX0_E9_QPC2 (EL3064)]^AI Standard Channel 2^Value;</span>
                                 <span class="o">.</span><span class="n">i_xSP_DI</span>          <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">CX0_E10_QPC2</span> <span class="p">(</span><span class="n">EL1004</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xHVEna_DO</span>       <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">CX0_E11_QPC2</span> <span class="p">(</span><span class="n">EL2794</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Output</span>
    <span class="s1">&#39;}</span>

    <span class="n">MR2K4_KBO_PIP_01</span> <span class="p">:</span> <span class="n">FB_PIP_Gamma</span><span class="p">;</span>



    <span class="o">//</span><span class="n">SIP</span> <span class="n">PIP</span> <span class="n">NexTORR</span> <span class="n">Pump</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: PA2K4:IP1:PIP:01 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS              :=      TIIB[R20_EK0_SIP (EL3174-0002)]^AI Standard Channel 1^Value;</span>
                                 <span class="o">.</span><span class="n">i_xIP_ON</span>          <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">R20_EK0_E5_MKS937B</span> <span class="p">(</span><span class="n">EL1124</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">3</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xError</span>      <span class="o">:=</span>  <span class="n">TIIB</span><span class="p">[</span><span class="n">R20_EK0_E5_MKS937B</span> <span class="p">(</span><span class="n">EL1124</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">4</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xHVEna_DO</span>       <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">R20_EK0_E3_MKS937B</span> <span class="p">(</span><span class="n">EL2794</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">4</span><span class="o">^</span><span class="n">Output</span>
    <span class="s1">&#39;}</span>
    <span class="n">PA2K4_IP1_PIP_01</span> <span class="p">:</span> <span class="n">FB_PIP_SIP</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: MR4K4:KBO:PIP:01 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS              :=      TIIB[CX0_E9_QPC2 (EL3064)]^AI Standard Channel 4^Value;</span>
                                 <span class="o">.</span><span class="n">i_xSP_DI</span>          <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">CX0_E10_QPC2</span> <span class="p">(</span><span class="n">EL1004</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">4</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xHVEna_DO</span>       <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">CX0_E11_QPC2</span> <span class="p">(</span><span class="n">EL2794</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">4</span><span class="o">^</span><span class="n">Output</span>
    <span class="s1">&#39;}</span>
    <span class="n">MR4K4_KBO_PIP_01</span> <span class="p">:</span> <span class="n">FB_PIP_Gamma</span><span class="p">;</span>




<span class="p">(</span><span class="o">*</span> <span class="n">Granite</span> <span class="mi">1</span> <span class="o">*</span><span class="p">)</span>
<span class="p">(</span><span class="o">*</span> <span class="n">Pfeiffer</span> <span class="n">Turbo</span> <span class="n">Pumps</span> <span class="n">TC110</span> <span class="o">*</span><span class="p">)</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_xAtSpd                      :=      TIIB[TMO_K4S2_DRL_02 (EK1100)]^K4S2_02_E11 (EL1004)^Channel 2^Input;</span>
                                 <span class="o">.</span><span class="n">i_xFaultNC</span>                <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S2_DRL_02</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S2_02_E11</span> <span class="p">(</span><span class="n">EL1004</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_RunDO</span>                   <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S2_DRL_02</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S2_02_E12</span> <span class="p">(</span><span class="n">EL2794</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Output</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xReset</span>                  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S2_DRL_02</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S2_02_E12</span> <span class="p">(</span><span class="n">EL2794</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Output</span>
    <span class="s1">&#39;}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span> <span class="s1">&#39;</span>
        <span class="n">pv</span><span class="p">:</span> <span class="n">PA1K4</span><span class="p">:</span><span class="n">IP1</span><span class="p">:</span><span class="n">PTM</span><span class="p">:</span><span class="mi">01</span>
        <span class="n">io</span><span class="p">:</span> <span class="n">io</span>
    <span class="s1">&#39;}</span>
    <span class="n">PA1K4_IP1_PTM_01</span> <span class="p">:</span> <span class="n">FB_PTM_Pfeiffer</span><span class="p">;</span>



    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_xAtSpd                      :=      TIIB[TMO_K4S2_DRL_02 (EK1100)]^K4S2_02_E11 (EL1004)^Channel 4^Input;</span>
                                 <span class="o">.</span><span class="n">i_xFaultNC</span>                <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S2_DRL_02</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S2_02_E11</span> <span class="p">(</span><span class="n">EL1004</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">3</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_RunDO</span>                   <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S2_DRL_02</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S2_02_E12</span> <span class="p">(</span><span class="n">EL2794</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">3</span><span class="o">^</span><span class="n">Output</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xReset</span>                  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S2_DRL_02</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S2_02_E12</span> <span class="p">(</span><span class="n">EL2794</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">4</span><span class="o">^</span><span class="n">Output</span>
    <span class="s1">&#39;}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span> <span class="s1">&#39;</span>
        <span class="n">pv</span><span class="p">:</span> <span class="n">PA1K4</span><span class="p">:</span><span class="n">IP1</span><span class="p">:</span><span class="n">PTM</span><span class="p">:</span><span class="mi">02</span>
        <span class="n">io</span><span class="p">:</span> <span class="n">io</span>
    <span class="s1">&#39;}</span>
    <span class="n">PA1K4_IP1_PTM_02</span> <span class="p">:</span> <span class="n">FB_PTM_Pfeiffer</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_xAtSpd                      :=      TIIB[TMO_K4S2_DRL_02 (EK1100)]^K4S2_02_E13 (EL1004)^Channel 2^Input;</span>
                                 <span class="o">.</span><span class="n">i_xFaultNC</span>                <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S2_DRL_02</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S2_02_E13</span> <span class="p">(</span><span class="n">EL1004</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_RunDO</span>                   <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S2_DRL_02</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S2_02_E14</span> <span class="p">(</span><span class="n">EL2794</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Output</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xReset</span>                  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S2_DRL_02</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S2_02_E14</span> <span class="p">(</span><span class="n">EL2794</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Output</span>
    <span class="s1">&#39;}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span> <span class="s1">&#39;</span>
        <span class="n">pv</span><span class="p">:</span> <span class="n">PA1K4</span><span class="p">:</span><span class="n">IP1</span><span class="p">:</span><span class="n">PTM</span><span class="p">:</span><span class="mi">03</span>
        <span class="n">io</span><span class="p">:</span> <span class="n">io</span>
    <span class="s1">&#39;}</span>
    <span class="n">PA1K4_IP1_PTM_03</span> <span class="p">:</span> <span class="n">FB_PTM_Pfeiffer</span><span class="p">;</span>

    <span class="o">//</span> <span class="n">They</span> <span class="n">share</span> <span class="n">the</span> <span class="n">same</span> <span class="n">serial</span> <span class="n">port</span>
    <span class="n">st_Pfeiffer_CTRL_PTM_01_02_03</span>                   <span class="p">:</span> <span class="n">ARRAY</span><span class="p">[</span><span class="mf">1..20</span><span class="p">]</span> <span class="n">OF</span> <span class="n">ST_PfeifferControl</span><span class="p">;</span>
    <span class="n">st_Pfeiffer_RBK_PTM_01_02_03</span>                    <span class="p">:</span> <span class="n">ARRAY</span><span class="p">[</span><span class="mf">1..20</span><span class="p">]</span> <span class="n">OF</span> <span class="n">ST_PfeifferStatus</span><span class="p">;</span>
    <span class="n">PA1K4_IP1_PTM_01_02_03_COM</span><span class="p">:</span> <span class="n">FB_PFEIFFER_COM</span><span class="p">;</span>

<span class="p">(</span><span class="o">*</span> <span class="n">Leybold</span> <span class="n">Turbo</span> <span class="n">Pumps</span> <span class="n">Mag</span><span class="o">.</span><span class="n">drive</span> <span class="ow">is</span><span class="o">*</span><span class="p">)</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_xAtSpd                      :=      TIIB[TMO_K4S2_DRL_02 (EK1100)]^K4S2_02_E15 (EL1004)^Channel 2^Input;</span>
                                 <span class="o">.</span><span class="n">i_xFaultNC</span>                <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S2_DRL_02</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S2_02_E15</span> <span class="p">(</span><span class="n">EL1004</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_RunDO</span>                   <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S2_DRL_02</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S2_02_E16</span> <span class="p">(</span><span class="n">EL2794</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Output</span>
    <span class="s1">&#39;}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span> <span class="s1">&#39;</span>
        <span class="n">pv</span><span class="p">:</span> <span class="n">IM4K4</span><span class="p">:</span><span class="n">PPM</span><span class="p">:</span><span class="n">PTM</span><span class="p">:</span><span class="mi">01</span>
        <span class="n">io</span><span class="p">:</span> <span class="n">io</span>
    <span class="s1">&#39;}</span>
    <span class="n">IM4K4_PPM_PTM_01</span> <span class="p">:</span> <span class="n">FB_PTM_TurboDrive</span><span class="p">;</span>
    <span class="n">IM4K4_PPM_PTM_01_COM</span><span class="p">:</span><span class="n">FB_Oerlikon_TD20_COM</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_xAtSpd                      :=      TIIB[TMO_K4S2_DRL_02 (EK1100)]^K4S2_02_E15 (EL1004)^Channel 4^Input;</span>
                                 <span class="o">.</span><span class="n">i_xFaultNC</span>                <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S2_DRL_02</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S2_02_E15</span> <span class="p">(</span><span class="n">EL1004</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">3</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_RunDO</span>                   <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S2_DRL_02</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S2_02_E16</span> <span class="p">(</span><span class="n">EL2794</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Output</span>
    <span class="s1">&#39;}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span> <span class="s1">&#39;</span>
        <span class="n">pv</span><span class="p">:</span> <span class="n">LI1K4</span><span class="p">:</span><span class="n">IP1</span><span class="p">:</span><span class="n">PTM</span><span class="p">:</span><span class="mi">01</span>
        <span class="n">io</span><span class="p">:</span> <span class="n">io</span>
    <span class="s1">&#39;}</span>
    <span class="n">LI1K4_IP1_PTM_01</span> <span class="p">:</span> <span class="n">FB_PTM_TurboDrive</span><span class="p">;</span>
    <span class="n">LI1K4_IP1_PTM_01_COM</span><span class="p">:</span> <span class="n">FB_Oerlikon_TD20_COM</span><span class="p">;</span>

<span class="p">(</span><span class="o">*</span> <span class="n">Granite</span> <span class="mi">2</span> <span class="o">*</span><span class="p">)</span>
<span class="p">(</span><span class="o">*</span> <span class="n">Pfeiffer</span> <span class="n">Turbo</span> <span class="n">Pumps</span> <span class="n">TM700</span> <span class="o">*</span><span class="p">)</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_xAtSpd                      :=      TIIB[TMO_K4S6_DRL_01 (EK1100)]^K4S6_01_E6 (EL1004)^Channel 1^Input;</span>
                                 <span class="o">.</span><span class="n">i_xRemote</span>                 <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S6_DRL_01</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S6_01_E6</span> <span class="p">(</span><span class="n">EL1004</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xFaultNC</span>                <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S6_DRL_01</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S6_01_E6</span> <span class="p">(</span><span class="n">EL1004</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">3</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_RunDO</span>                   <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S6_DRL_01</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S6_01_E7</span> <span class="p">(</span><span class="n">EL2004</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Output</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xRemote</span>                 <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S6_DRL_01</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S6_01_E7</span> <span class="p">(</span><span class="n">EL2004</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Output</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_PumpingStation</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S6_DRL_01</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S6_01_E7</span> <span class="p">(</span><span class="n">EL2004</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">3</span><span class="o">^</span><span class="n">Output</span>
    <span class="s1">&#39;}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span> <span class="s1">&#39;</span>
        <span class="n">pv</span><span class="p">:</span> <span class="n">LI3K4</span><span class="p">:</span><span class="n">IP1</span><span class="p">:</span><span class="n">OUT</span><span class="p">:</span><span class="n">PTM</span><span class="p">:</span><span class="mi">01</span>
        <span class="n">io</span><span class="p">:</span> <span class="n">io</span>
    <span class="s1">&#39;}</span>
    <span class="n">LI3K4_IP1_OUT_PTM_01</span> <span class="p">:</span> <span class="n">FB_PTM_Pfeiffer</span><span class="p">;</span>
<span class="p">(</span><span class="o">*</span> <span class="n">Pfeiffer</span> <span class="n">Turbo</span> <span class="n">Pumps</span> <span class="n">TC400</span> <span class="o">*</span><span class="p">)</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_xAtSpd                      :=      TIIB[TMO_K4S6_DRL_01 (EK1100)]^K4S6_01_E6 (EL1004)^Channel 4^Input;</span>
                                 <span class="o">.</span><span class="n">i_xRemote</span>                 <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S6_DRL_01</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S6_01_E8</span> <span class="p">(</span><span class="n">EL1004</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xFaultNC</span>                <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S6_DRL_01</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S6_01_E8</span> <span class="p">(</span><span class="n">EL1004</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_RunDO</span>                   <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S6_DRL_01</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S6_01_E7</span> <span class="p">(</span><span class="n">EL2004</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">4</span><span class="o">^</span><span class="n">Output</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xRemote</span>                 <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S6_DRL_01</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S6_01_E9</span> <span class="p">(</span><span class="n">EL2004</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Output</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_PumpingStation</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S6_DRL_01</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S6_01_E9</span> <span class="p">(</span><span class="n">EL2004</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Output</span>
    <span class="s1">&#39;}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span> <span class="s1">&#39;</span>
        <span class="n">pv</span><span class="p">:</span> <span class="n">TM1K4</span><span class="p">:</span><span class="n">PTM</span><span class="p">:</span><span class="mi">01</span>
        <span class="n">io</span><span class="p">:</span> <span class="n">io</span>
    <span class="s1">&#39;}</span>
    <span class="n">TM1K4_PTM_01</span> <span class="p">:</span> <span class="n">FB_PTM_Pfeiffer</span><span class="p">;</span>


    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_xAtSpd                      :=      TIIB[TMO_K4S6_DRL_01 (EK1100)]^K4S6_01_E8 (EL1004)^Channel 3^Input;</span>
                                 <span class="o">.</span><span class="n">i_xRemote</span>                 <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S6_DRL_01</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S6_01_E8</span> <span class="p">(</span><span class="n">EL1004</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">4</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xFaultNC</span>                <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S6_DRL_01</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S6_01_E11</span> <span class="p">(</span><span class="n">EL1004</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_RunDO</span>                   <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S6_DRL_01</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S6_01_E9</span> <span class="p">(</span><span class="n">EL2004</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">3</span><span class="o">^</span><span class="n">Output</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xRemote</span>                 <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S6_DRL_01</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S6_01_E9</span> <span class="p">(</span><span class="n">EL2004</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">4</span><span class="o">^</span><span class="n">Output</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_PumpingStation</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S6_DRL_01</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S6_01_E12</span> <span class="p">(</span><span class="n">EL2004</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Output</span>
    <span class="s1">&#39;}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span> <span class="s1">&#39;</span>
        <span class="n">pv</span><span class="p">:</span> <span class="n">IM5K4</span><span class="p">:</span><span class="n">PPM</span><span class="p">:</span><span class="n">PTM</span><span class="p">:</span><span class="mi">01</span>
        <span class="n">io</span><span class="p">:</span> <span class="n">io</span>
    <span class="s1">&#39;}</span>
    <span class="n">IM5K4_PPM_PTM_01</span> <span class="p">:</span> <span class="n">FB_PTM_Pfeiffer</span><span class="p">;</span>
    <span class="o">//</span> <span class="n">They</span> <span class="n">share</span> <span class="n">the</span> <span class="n">same</span> <span class="n">serial</span> <span class="n">port</span>
    <span class="n">st_Pfeiffer_CTRL_PTM_Granite2</span>                   <span class="p">:</span> <span class="n">ARRAY</span><span class="p">[</span><span class="mf">1..20</span><span class="p">]</span> <span class="n">OF</span> <span class="n">ST_PfeifferControl</span><span class="p">;</span>
    <span class="n">st_Pfeiffer_RBK_PTM_Granite2</span>                    <span class="p">:</span> <span class="n">ARRAY</span><span class="p">[</span><span class="mf">1..20</span><span class="p">]</span> <span class="n">OF</span> <span class="n">ST_PfeifferStatus</span><span class="p">;</span>
    <span class="n">Granite2_PTM_COM</span> <span class="p">:</span><span class="n">FB_PFEIFFER_COM</span><span class="p">;</span>

<span class="n">END_VAR</span>
</pre></div>
</div>
</section>
<section id="gvl-hutch-valves">
<h2>GVL_Hutch_Valves<a class="headerlink" href="#gvl-hutch-valves" title="Link to this heading"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span><span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;qualified_only&#39;</span><span class="p">}</span>
<span class="n">VAR_GLOBAL</span>

<span class="p">(</span><span class="o">*</span>  <span class="n">Beamline</span> <span class="n">Windows</span> <span class="n">Valve</span> <span class="o">*</span><span class="p">)</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: MR2K4:KBO:VWC:01 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_xOpnLS      :=      TIIB[TMO_K4S2_DRL_01 (EK1100)]^K4S2_01_E5 (EL1004)^Channel 1^Input;</span>
                                 <span class="o">.</span><span class="n">i_xClsLS</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S2_DRL_01</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S2_01_E5</span> <span class="p">(</span><span class="n">EL1004</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                <span class="o">.</span><span class="n">q_xOPN_DO</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S2_DRL_01</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S2_01_E6</span> <span class="p">(</span><span class="n">EL2004</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Output</span><span class="s1">&#39;}</span>
    <span class="n">MR2K4_KBO_VWC_01</span> <span class="p">:</span> <span class="n">FB_VGC_2S</span><span class="p">;</span>


    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: MR3K4:KBO:VWC:01 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_xOpnLS      :=      TIIB[TMO_K4S2_DRL_01 (EK1100)]^K4S2_01_E5 (EL1004)^Channel 3^Input;</span>
                                 <span class="o">.</span><span class="n">i_xClsLS</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S2_DRL_01</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S2_01_E5</span> <span class="p">(</span><span class="n">EL1004</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">4</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                <span class="o">.</span><span class="n">q_xOPN_DO</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S2_DRL_01</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S2_01_E6</span> <span class="p">(</span><span class="n">EL2004</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Output</span><span class="s1">&#39;}</span>
    <span class="n">MR3K4_KBO_VWC_01</span> <span class="p">:</span> <span class="n">FB_VGC_2S</span><span class="p">;</span>


    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: LI3K4:IP1:VWC:01 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_xOpnLS      :=      TIIB[TMO_K4S6_DRL_01 (EK1100)]^K4S6_01_E3 (EL1004)^Channel 1^Input;</span>
                                 <span class="o">.</span><span class="n">i_xClsLS</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S6_DRL_01</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S6_01_E3</span> <span class="p">(</span><span class="n">EL1004</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                <span class="o">.</span><span class="n">q_xOPN_DO</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S6_DRL_01</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S6_01_E4</span> <span class="p">(</span><span class="n">EL2004</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Output</span><span class="s1">&#39;}</span>
    <span class="n">LI3K4_IP1_VWC_01</span> <span class="p">:</span> <span class="n">FB_VGC_2S</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: PC5K4:VWC:01 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_xOpnLS      :=      TIIB[TMO_K4S6_DRL_01 (EK1100)]^K4S6_01_E3 (EL1004)^Channel 3^Input;</span>
                                 <span class="o">.</span><span class="n">i_xClsLS</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S6_DRL_01</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S6_01_E3</span> <span class="p">(</span><span class="n">EL1004</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">4</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                <span class="o">.</span><span class="n">q_xOPN_DO</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S6_DRL_01</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S6_01_E4</span> <span class="p">(</span><span class="n">EL2004</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Output</span><span class="s1">&#39;}</span>
    <span class="n">PC5K4_VWC_01</span> <span class="p">:</span> <span class="n">FB_VGC_2S</span><span class="p">;</span>


    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: MR4K4:KBO:VWC:01 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_xOpnLS      :=      TIIB[TMO_K4S8_DRL_01 (EK1100)]^K4S8_01_E5 (EL1004)^Channel 1^Input;</span>
                                 <span class="o">.</span><span class="n">i_xClsLS</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S8_DRL_01</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S8_01_E5</span> <span class="p">(</span><span class="n">EL1004</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                <span class="o">.</span><span class="n">q_xOPN_DO</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S8_DRL_01</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S8_01_E6</span> <span class="p">(</span><span class="n">EL2004</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Output</span><span class="s1">&#39;}</span>
    <span class="n">MR4K4_KBO_VWC_01</span> <span class="p">:</span> <span class="n">FB_VGC_2S</span><span class="p">;</span>


    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: MR5K4:KBO:VWC:01 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_xOpnLS      :=      TIIB[TMO_K4S8_DRL_01 (EK1100)]^K4S8_01_E5 (EL1004)^Channel 3^Input;</span>
                                 <span class="o">.</span><span class="n">i_xClsLS</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S8_DRL_01</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S8_01_E5</span> <span class="p">(</span><span class="n">EL1004</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">4</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                <span class="o">.</span><span class="n">q_xOPN_DO</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S8_DRL_01</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S8_01_E6</span> <span class="p">(</span><span class="n">EL2004</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Output</span><span class="s1">&#39;}</span>
    <span class="n">MR5K4_KBO_VWC_01</span> <span class="p">:</span> <span class="n">FB_VGC_2S</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: TM2K4:KBO:VWC:01 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_xOpnLS      :=      TIIB[TMO_K4S8_DRL_02 (EK1100)]^K4S8_02_E1 (EL1004)^Channel 1^Input;</span>
                                 <span class="o">.</span><span class="n">i_xClsLS</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S8_DRL_02</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S8_02_E1</span> <span class="p">(</span><span class="n">EL1004</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                <span class="o">.</span><span class="n">q_xOPN_DO</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S8_DRL_02</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S8_02_E2</span> <span class="p">(</span><span class="n">EL2004</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Output</span><span class="s1">&#39;}</span>
    <span class="n">TM2K4_KBO_VWC_01</span> <span class="p">:</span> <span class="n">FB_VGC_2S</span><span class="p">;</span>





<span class="p">(</span><span class="o">*</span>  <span class="n">Roughing</span> <span class="n">valve</span> <span class="o">*</span><span class="p">)</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: TMO:ROUGH1:VRC:01 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_xOpnLS      :=      TIIB[TMO_K4S2_DRL_02 (EK1100)]^K4S2_02_E19 (EL1004)^Channel 1^Input;</span>
                                 <span class="o">.</span><span class="n">i_xClsLS</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S2_DRL_02</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S2_02_E19</span> <span class="p">(</span><span class="n">EL1004</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                <span class="o">.</span><span class="n">q_xOPN_DO</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S2_DRL_02</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S2_02_E20</span> <span class="p">(</span><span class="n">EL2004</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Output</span><span class="s1">&#39;}</span>
    <span class="n">TMO_ROUGH1_VRC_01</span> <span class="p">:</span> <span class="n">FB_VGC_2S</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: TMO:ROUGH1:VRC:02 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_xOpnLS      :=      TIIB[TMO_K4S6_DRL_01 (EK1100)]^K4S6_01_E1 (EL1004)^Channel 1^Input;</span>
                                 <span class="o">.</span><span class="n">i_xClsLS</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S6_DRL_01</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S6_01_E1</span> <span class="p">(</span><span class="n">EL1004</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                <span class="o">.</span><span class="n">q_xOPN_DO</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S6_DRL_01</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S6_01_E2</span> <span class="p">(</span><span class="n">EL2004</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Output</span><span class="s1">&#39;}</span>
    <span class="n">TMO_ROUGH1_VRC_02</span> <span class="p">:</span> <span class="n">FB_VGC_2S</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: TMO:ROUGH2:VRC:01 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_xOpnLS      :=      TIIB[TMO_K4S2_DRL_02 (EK1100)]^K4S2_02_E19 (EL1004)^Channel 3^Input;</span>
                                 <span class="o">.</span><span class="n">i_xClsLS</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S2_DRL_02</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S2_02_E19</span> <span class="p">(</span><span class="n">EL1004</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">4</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                <span class="o">.</span><span class="n">q_xOPN_DO</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">TMO_K4S2_DRL_02</span> <span class="p">(</span><span class="n">EK1100</span><span class="p">)]</span><span class="o">^</span><span class="n">K4S2_02_E20</span> <span class="p">(</span><span class="n">EL2004</span><span class="p">)</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Output</span><span class="s1">&#39;}</span>
    <span class="n">TMO_ROUGH2_VRC_01</span> <span class="p">:</span> <span class="n">FB_VGC_2S</span><span class="p">;</span>

<span class="p">(</span><span class="o">*</span> <span class="n">MKS248</span> <span class="k">with</span> <span class="n">MKS1249</span> <span class="n">solenoid</span> <span class="n">driver</span> <span class="o">*</span><span class="p">)</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: TMO:ROUGH1:VFV:01 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.q_iRawPosition        :=      TIIB[TMO_WALL_WEST_EP01 (EP4374-0002)]^AO Outputs Channel 3^Analog output       &#39;</span><span class="p">}</span>
     <span class="n">TMO_ROUGH1_VFV_01</span> <span class="p">:</span> <span class="n">FB_MKS248</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: TMO:ROUGH1:VFV:02 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.q_iRawPosition        :=      TIIB[TMO_K4S2_ EP1 (EP4374-0002)]^AO Outputs Channel 3^Analog output    &#39;</span><span class="p">}</span>
     <span class="n">TMO_ROUGH1_VFV_02</span> <span class="p">:</span> <span class="n">FB_MKS248</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: TMO:ROUGH1:VFV:03 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.q_iRawPosition        :=      TIIB[TMO_K4S6_ EP1 (EP4374-0002)]^AO Outputs Channel 3^Analog output    &#39;</span><span class="p">}</span>
     <span class="n">TMO_ROUGH1_VFV_03</span> <span class="p">:</span> <span class="n">FB_MKS248</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: TMO:ROUGH2:VFV:01 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.q_iRawPosition        :=      TIIB[TMO_K4S2_ EP1 (EP4374-0002)]^AO Outputs Channel 4^Analog output    &#39;</span><span class="p">}</span>
     <span class="n">TMO_ROUGH2_VFV_01</span> <span class="p">:</span> <span class="n">FB_MKS248</span><span class="p">;</span>





<span class="n">END_VAR</span>
</pre></div>
</div>
</section>
<section id="gvl-ip1-ecat">
<h2>GVL_IP1_ECAT<a class="headerlink" href="#gvl-ip1-ecat" title="Link to this heading"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span><span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;qualified_only&#39;</span><span class="p">}</span>
<span class="n">VAR_GLOBAL</span>

    <span class="p">(</span><span class="o">*</span> <span class="n">These</span> <span class="n">variables</span> <span class="n">are</span> <span class="k">for</span> <span class="n">IP1</span> <span class="n">EtherCat</span> <span class="n">bridge</span> <span class="o">*</span><span class="p">)</span>

    <span class="p">(</span><span class="o">*</span><span class="n">ETHERCAT</span> <span class="n">BRIDGE</span> <span class="n">COM</span> <span class="n">STATUS</span><span class="o">*</span><span class="p">)</span>
    <span class="o">//</span><span class="n">EL6692</span> <span class="n">TxPDO</span> <span class="n">state</span>
    <span class="o">//</span><span class="mi">0</span><span class="p">:</span> <span class="n">Other</span> <span class="n">side</span> <span class="ow">is</span> <span class="ow">in</span> <span class="n">OP</span> <span class="n">state</span><span class="p">,</span> <span class="o">&gt;</span><span class="mi">0</span><span class="p">:</span> <span class="n">Error</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;TIIB[CX0_E13 (EK1122)]^IP1_ECAT^SYNC Inputs^TxPDO state</span>
    <span class="s1">&#39;}</span>
    <span class="n">xEcatBridge_TxPDO_state</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>

    <span class="o">//</span><span class="mi">0</span><span class="p">:</span> <span class="n">External</span> <span class="n">device</span> <span class="n">connected</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="n">External</span> <span class="n">device</span> <span class="ow">not</span> <span class="n">connected</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;TIIB[CX0_E13 (EK1122)]^IP1_ECAT^SYNC Inputs^External device not connected</span>
    <span class="s1">&#39;}</span>
    <span class="n">xEcatBridge_External_device_not_connected</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>

    <span class="o">//</span><span class="mi">0</span> <span class="o">=</span> <span class="n">Data</span> <span class="n">valid</span><span class="p">,</span> <span class="mi">1</span> <span class="o">=</span> <span class="n">Data</span> <span class="n">invalid</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;TIIB[CX0_E13 (EK1122)]^IP1_ECAT^WcState^WcState</span>
    <span class="s1">&#39;}</span>
    <span class="n">xEcatBridge_WcState</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>


 <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span> <span class="s1">&#39;pv: TMO:IP1:ENDSTATION:ETHERCAT_ERROR&#39;</span><span class="p">}</span>
  <span class="n">IP1_ECAT_COM_ERROR</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>

    <span class="o">//</span><span class="n">EL6692</span> <span class="n">Output</span>

  <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>  <span class="s1">&#39;TIIB[CX0_E13 (EK1122)]^IP1_ECAT^IO Outputs^HUTCH_PLC_NAME&#39;</span><span class="p">}</span>
   <span class="n">My_PLC_NAME</span>      <span class="n">AT</span> <span class="o">%</span><span class="n">Q</span><span class="o">*</span>  <span class="p">:</span> <span class="n">STRING</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span> <span class="o">:=</span> <span class="s1">&#39;TMO&#39;</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;TIIB[CX0_E13 (EK1122)]^IP1_ECAT^IO Outputs^TMO_ROUGH1_VRC_01_OPEN_LS</span>
    <span class="s1">&#39;}</span>
   <span class="n">ROUGH1_VRC_01_AtOpnLS</span> <span class="n">AT</span> <span class="o">%</span><span class="n">Q</span><span class="o">*</span> <span class="p">:</span> <span class="n">BOOL</span> <span class="o">:=</span> <span class="n">FALSE</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;TIIB[CX0_E13 (EK1122)]^IP1_ECAT^IO Outputs^TMO_ROUGH2_VRC_01_OPEN_LS</span>
    <span class="s1">&#39;}</span>
   <span class="n">ROUGH2_VRC_01_AtOpnLS</span> <span class="n">AT</span> <span class="o">%</span><span class="n">Q</span><span class="o">*</span> <span class="p">:</span> <span class="n">BOOL</span> <span class="o">:=</span> <span class="n">FALSE</span><span class="p">;</span>

       <span class="o">//</span><span class="n">EL6692</span> <span class="n">Input</span>
   <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: TMO:IP1:PLC:NAME &#39;</span><span class="p">}</span>
   <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>         <span class="s1">&#39;TIIB[CX0_E13 (EK1122)]^IP1_ECAT^IO Inputs^ENDSTATION_PLC_NAME</span>
    <span class="s1">&#39;}</span>
   <span class="n">IP1_PLC_NAME</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span>  <span class="p">:</span> <span class="n">STRING</span><span class="p">(</span><span class="mi">8</span><span class="p">);</span>

   <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>         <span class="s1">&#39;TIIB[CX0_E13 (EK1122)]^IP1_ECAT^IO Inputs^IP1_ROUGH_VRC_01_OPEN_LS</span>
    <span class="s1">&#39;}</span>
   <span class="n">IP1_ROUGH_VRC_01_AtOpnLS</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>

     <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>       <span class="s1">&#39;TIIB[CX0_E13 (EK1122)]^IP1_ECAT^IO Inputs^IP1_ROUGH_VRC_02_OPEN_LS</span>
    <span class="s1">&#39;}</span>
   <span class="n">IP1_ROUGH_VRC_02_AtOpnLS</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>

     <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>       <span class="s1">&#39;TIIB[CX0_E13 (EK1122)]^IP1_ECAT^IO Inputs^IP1_ROUGH_VRC_03_OPEN_LS</span>
    <span class="s1">&#39;}</span>
   <span class="n">IP1_ROUGH_VRC_03_AtOpnLS</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: TMO:IP1:TURBOS:ALL_AT_SPD&#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;TIIB[CX0_E13 (EK1122)]^IP1_ECAT^IO Inputs^IP1_TURBOS_ALL_AtSpd</span>
    <span class="s1">&#39;}</span>
   <span class="n">IP1_TURBOS_ALL_AtSpd</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>

   <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: TMO:IP1:HV_SAFETY_ENABLE&#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;TIIB[CX0_E13 (EK1122)]^IP1_ECAT^IO Inputs^IP1_HV_SAFETY_ENABLE</span>
    <span class="s1">&#39;}</span>
   <span class="n">IP1_HV_SAFETY_ENABLE</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>

 <span class="p">(</span><span class="o">*</span>    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>     <span class="s1">&#39;TIIB[CX0_E13 (EK1122)]^IP1_ECAT (EL6692)^IO Inputs^IP1_MAIN_xAT_VAC</span>
    <span class="s1">&#39;}</span>
   <span class="n">IP1_Main_xAT_VAC</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>

        <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>    <span class="s1">&#39;TIIB[CX0_E13 (EK1122)]^IP1_ECAT (EL6692)^IO Inputs^IP1_MAIN_xPRESS_OK</span>
    <span class="s1">&#39;}</span>
   <span class="n">IP1_Main_xPRESS_OK</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>

        <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>    <span class="s1">&#39;TIIB[CX0_E13 (EK1122)]^IP1_ECAT (EL6692)^IO Inputs^IP1_MAIN_rPRESS</span>
    <span class="s1">&#39;}</span>
   <span class="n">IP1_Main_rPRESS</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="p">:</span> <span class="n">REAL</span><span class="p">;</span>
  <span class="o">*</span><span class="p">)</span>

   <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: TMO:IP1:MAIN:GAUGE&#39;</span><span class="p">}</span>
   <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>         <span class="s1">&#39;.i_xAT_VAC                             :=      TIIB[CX0_E13 (EK1122)]^IP1_ECAT^IO Inputs^IP1_MAIN_xAT_VAC;</span>
                             <span class="o">.</span><span class="n">i_xPRESS_OK</span>                   <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">CX0_E13</span> <span class="p">(</span><span class="n">EK1122</span><span class="p">)]</span><span class="o">^</span><span class="n">IP1_ECAT</span><span class="o">^</span><span class="n">IO</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">IP1_MAIN_xPRESS_OK</span><span class="p">;</span>
                             <span class="o">.</span><span class="n">i_rPRESS</span>                          <span class="o">:=</span>  <span class="n">TIIB</span><span class="p">[</span><span class="n">CX0_E13</span> <span class="p">(</span><span class="n">EK1122</span><span class="p">)]</span><span class="o">^</span><span class="n">IP1_ECAT</span><span class="o">^</span><span class="n">IO</span> <span class="n">Inputs</span><span class="o">^</span><span class="n">IP1_MAIN_rPRESS</span>
    <span class="s1">&#39;}</span>
    <span class="n">IP1_MAIN_GAUGE</span> <span class="p">:</span> <span class="n">FB_Gauge_Interface</span><span class="p">;</span>

<span class="n">END_VAR</span>
</pre></div>
</div>
<dl class="simple">
<dt>Related:</dt><dd><ul class="simple">
<li><p><a class="reference internal" href="#main">MAIN</a></p></li>
</ul>
</dd>
</dl>
</section>
<section id="gvl-pmps">
<h2>GVL_PMPS<a class="headerlink" href="#gvl-pmps" title="Link to this heading"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span><span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;qualified_only&#39;</span><span class="p">}</span>
<span class="n">VAR_GLOBAL</span>

<span class="o">//</span><span class="n">Example</span> <span class="n">implementation</span> <span class="n">of</span> <span class="n">the</span> <span class="n">FFO</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span> <span class="s1">&#39;pv: PLC:TMO:VAC:FFO:01    &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span> <span class="s1">&#39;.q_xFastFaultOut:=TIIB[CX0_E1 (EL2202)]^Channel 1^Output&#39;</span><span class="p">}</span>
    <span class="n">g_FastFaultOutput1</span>  <span class="p">:</span>   <span class="n">FB_HardwareFFOutput</span><span class="o">:=</span><span class="p">(</span><span class="n">i_sNetID</span><span class="o">:=</span><span class="s1">&#39;172.21.42.126.1.1&#39;</span><span class="p">);</span>   <span class="o">//</span><span class="n">FFO</span> <span class="k">for</span> <span class="n">ST3K4_PPS</span><span class="s1">&#39;s Upstream Components</span>

     <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span> <span class="s1">&#39;pv: PLC:TMO:VAC:FFO:02  &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span> <span class="s1">&#39;.q_xFastFaultOut:=TIIB[CX0_E1 (EL2202)]^Channel 2^Output&#39;</span><span class="p">}</span>
    <span class="n">g_FastFaultOutput2</span>  <span class="p">:</span>   <span class="n">FB_HardwareFFOutput</span><span class="o">:=</span><span class="p">(</span><span class="n">i_sNetID</span><span class="o">:=</span><span class="s1">&#39;172.21.42.126.1.1&#39;</span><span class="p">);</span>   <span class="o">//</span><span class="n">FFO</span> <span class="k">for</span> <span class="n">ST3K4_PPS</span><span class="s1">&#39;s Downstream Components</span>

   <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span> <span class="s1">&#39;pv: PLC:TMO:VAC:FFO:03  &#39;</span><span class="p">}</span>
   <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span> <span class="s1">&#39;.q_xFastFaultOut:=TIIB[CX0_E1A (EL2202)]^Channel 1^Output&#39;</span><span class="p">}</span>
    <span class="n">g_FastFaultOutput3</span>  <span class="p">:</span>   <span class="n">FB_HardwareFFOutput</span><span class="p">;</span>    <span class="o">//</span><span class="n">FFO</span> <span class="k">for</span> <span class="n">TV1K4</span><span class="o">-</span><span class="n">VFS</span><span class="o">-</span><span class="mi">1</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span> <span class="s1">&#39;pv: PLC:TMO:VAC:FFO:04  &#39;</span><span class="p">}</span>
   <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span> <span class="s1">&#39;.q_xFastFaultOut:=TIIB[CX0_E1A (EL2202)]^Channel 2^Output&#39;</span><span class="p">}</span>
    <span class="n">g_FastFaultOutput4</span>  <span class="p">:</span>   <span class="n">FB_HardwareFFOutput</span><span class="p">;</span>  <span class="o">//</span> <span class="n">FF0</span> <span class="k">for</span> <span class="n">MR3K4_KBO_VFS_01</span> <span class="o">&amp;</span> <span class="n">MR4K4_KBO_VFS_01</span>

     <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span> <span class="s1">&#39;pv: PLC:TMO:VAC:FFO:05  &#39;</span><span class="p">}</span>

    <span class="n">g_FastFaultOutput5</span> <span class="p">:</span>    <span class="n">FB_HardwareFFOutput</span><span class="p">;</span>  <span class="o">//</span> <span class="n">FFO</span> <span class="k">for</span> <span class="n">ST4K4</span> <span class="n">photo</span> <span class="n">terminator</span> <span class="n">downstream</span> <span class="n">devices</span>

      <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span> <span class="s1">&#39;pv: PLC:TMO:VAC:FFO:06  &#39;</span><span class="p">}</span>
    <span class="n">g_FastFaultOutput6</span> <span class="p">:</span>    <span class="n">FB_HardwareFFOutput</span><span class="p">;</span>  <span class="o">//</span> <span class="n">FFO</span> <span class="k">for</span> <span class="n">ST4K4</span> <span class="n">photo</span> <span class="n">terminator</span> <span class="n">downstream</span> <span class="n">MR4K4_KBO_VFS_01</span> <span class="n">device</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span> <span class="s1">&#39;    pv: PLC:TMO:VAC:RESET:FF1    &#39;</span><span class="p">}</span>
    <span class="n">xReset_PMPS_FFO1</span>        <span class="p">:</span>       <span class="n">BOOL</span>    <span class="o">:=</span>      <span class="n">FALSE</span><span class="p">;</span>          <span class="o">//</span><span class="n">FFO</span> <span class="n">RESET</span> <span class="k">for</span> <span class="n">ST3K4_PPS</span><span class="s1">&#39;s Upstream Components</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span> <span class="s1">&#39;    pv: PLC:TMO:VAC:RESET:FF2  &#39;</span><span class="p">}</span>
    <span class="n">xReset_PMPS_FFO2</span>        <span class="p">:</span>       <span class="n">BOOL</span>    <span class="o">:=</span>      <span class="n">FALSE</span><span class="p">;</span>          <span class="o">//</span><span class="n">FFO</span> <span class="n">RESET</span> <span class="k">for</span> <span class="n">ST3K4_PPS</span><span class="s1">&#39;s Downstream Components</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span> <span class="s1">&#39;    pv: PLC:TMO:VAC:RESET:FF5  &#39;</span><span class="p">}</span>
    <span class="n">xReset_PMPS_FFO5</span>        <span class="p">:</span>       <span class="n">BOOL</span>    <span class="o">:=</span>      <span class="n">FALSE</span><span class="p">;</span>          <span class="o">//</span><span class="n">FFO</span> <span class="n">RESET</span> <span class="k">for</span> <span class="n">ST4K4_PPS</span><span class="s1">&#39;s Downstream Components</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span> <span class="s1">&#39;        pv: PLC:TMO:VAC:ARB:01    &#39;</span><span class="p">}</span>
    <span class="n">g_fbArbiter1</span>    <span class="p">:</span>   <span class="n">FB_Arbiter</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span> <span class="o">//</span><span class="n">Veto</span> <span class="n">group</span> <span class="n">downstream</span> <span class="n">of</span> <span class="n">MR1K1</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span> <span class="s1">&#39;        pv: PLC:TMO:VAC:ARB:02    &#39;</span><span class="p">}</span>
    <span class="n">g_fbArbiter2</span>     <span class="p">:</span>  <span class="n">FB_Arbiter</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span> <span class="o">//</span><span class="n">Veto</span> <span class="n">group</span> <span class="n">downstream</span> <span class="n">of</span> <span class="n">ST3K4</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span> <span class="s1">&#39;        pv: PLC:TMO:VAC:ARB:03    &#39;</span><span class="p">}</span>
    <span class="n">g_fbArbiter3</span>     <span class="p">:</span>  <span class="n">FB_Arbiter</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span> <span class="o">//</span><span class="n">Veto</span> <span class="n">group</span> <span class="n">downstream</span> <span class="n">of</span> <span class="n">ST4K4</span>

    <span class="n">xTMO_FEE_MPS_OK</span><span class="p">:</span> <span class="n">BOOL</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">;</span>

    <span class="n">xTMO_NEH_MPS_OK</span><span class="p">:</span> <span class="n">BOOL</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">;</span>

<span class="n">END_VAR</span>
</pre></div>
</div>
</section>
<section id="gvl-variables">
<h2>GVL_Variables<a class="headerlink" href="#gvl-variables" title="Link to this heading"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span><span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;qualified_only&#39;</span><span class="p">}</span>
<span class="n">VAR_GLOBAL</span>


<span class="o">//</span>  <span class="n">r_Accelerator_Setpoint</span>  <span class="p">:</span> <span class="n">REAL</span> <span class="o">:=</span> <span class="mf">1E-12</span><span class="p">;</span> <span class="p">(</span><span class="o">*</span><span class="n">unrealistic</span> <span class="n">setpoint</span> <span class="n">currently</span><span class="o">*</span><span class="p">)</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span> <span class="s1">&#39;pv: TMO:FEE:VAC:OVRDON&#39;</span><span class="p">}</span>
    <span class="n">xSystemOverrideMode_FEE</span> <span class="p">:</span> <span class="n">BOOL</span> <span class="o">:=</span> <span class="n">FALSE</span><span class="p">;</span> <span class="p">(</span><span class="o">*</span> <span class="n">Global</span> <span class="n">system</span> <span class="n">override</span> <span class="k">for</span> <span class="n">the</span> <span class="n">TMO</span> <span class="n">FEE</span> <span class="n">Vacuum</span> <span class="n">System</span> <span class="o">*</span><span class="p">)</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span> <span class="s1">&#39;pv: TMO:NEH:VAC:OVRDON&#39;</span><span class="p">}</span>
    <span class="n">xSystemOverrideMode_TMO</span> <span class="p">:</span> <span class="n">BOOL</span> <span class="o">:=</span> <span class="n">FALSE</span><span class="p">;</span> <span class="p">(</span><span class="o">*</span> <span class="n">Global</span> <span class="n">system</span> <span class="n">override</span> <span class="k">for</span> <span class="n">the</span> <span class="n">TMO</span> <span class="n">hutch</span> <span class="n">Vacuum</span> <span class="n">System</span> <span class="o">*</span><span class="p">)</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span> <span class="s1">&#39;pv: TMO:NEH:TURBO:FAULT&#39;</span><span class="p">}</span>
    <span class="n">xTurboFault</span><span class="p">:</span> <span class="n">BOOL</span> <span class="o">:=</span> <span class="n">FALSE</span><span class="p">;</span> <span class="p">(</span><span class="o">*</span> <span class="kc">True</span> <span class="k">if</span> <span class="nb">any</span> <span class="n">hutch</span> <span class="n">turbo</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">at</span> <span class="n">speed</span> <span class="ow">or</span> <span class="n">fault</span> <span class="o">*</span><span class="p">)</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span> <span class="s1">&#39;pv: TMO:NEH:VALVE:FAULT&#39;</span><span class="p">}</span>
    <span class="n">xBeamlineValveFault</span><span class="p">:</span> <span class="n">BOOL</span> <span class="o">:=</span> <span class="n">FALSE</span><span class="p">;</span> <span class="p">(</span><span class="o">*</span> <span class="kc">True</span> <span class="k">if</span> <span class="nb">any</span> <span class="n">beamline</span> <span class="n">valve</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">open</span> <span class="n">OK</span> <span class="o">*</span><span class="p">)</span>

        <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span> <span class="s1">&#39;pv: TMO:NEH:ALL:GCC:ENABLE&#39;</span><span class="p">}</span>
    <span class="n">xGCC_Enable_SW</span><span class="p">:</span> <span class="n">BOOL</span> <span class="o">:=</span> <span class="n">FALSE</span><span class="p">;</span> <span class="p">(</span><span class="o">*</span> <span class="kc">True</span> <span class="k">if</span> <span class="nb">any</span> <span class="n">hutch</span> <span class="n">turbo</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">at</span> <span class="n">speed</span> <span class="ow">or</span> <span class="n">fault</span> <span class="o">*</span><span class="p">)</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span> <span class="s1">&#39;pv: TMO:LAMP:PTM_NOK&#39;</span><span class="p">}</span>

    <span class="n">xLAMP_PTM_NOK</span> <span class="n">AT</span><span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span> <span class="o">:=</span> <span class="n">FALSE</span><span class="p">;</span> <span class="p">(</span><span class="o">*</span> <span class="kc">True</span> <span class="k">if</span> <span class="nb">any</span> <span class="n">hutch</span> <span class="n">turbo</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">at</span> <span class="n">speed</span> <span class="ow">or</span> <span class="n">fault</span> <span class="o">*</span><span class="p">)</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span> <span class="s1">&#39;pv: TMO:VRC:DIFPRESS:BYPASS&#39;</span><span class="p">}</span>
    <span class="n">xBypassDiffPress_vrc1_vrc2</span> <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span> <span class="s1">&#39;pv: TMO:FIM:HV_LOOP_PRESS&#39;</span><span class="p">}</span>
    <span class="n">iHV_LOOP_FIM_PRESSURE</span><span class="p">:</span> <span class="n">REAL</span><span class="o">:=</span> <span class="mf">8e-9</span><span class="p">;</span>     <span class="o">//</span><span class="n">As</span> <span class="n">Peter</span><span class="s1">&#39;s request</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span> <span class="s1">&#39;pv: TMO:FIM:HV_LOOP_ON&#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span> <span class="s1">&#39;TIIB[K4S2_02_E20 (EL2004)]^Channel 4^Output&#39;</span><span class="p">}</span>
    <span class="n">iHV_LOOP_FIM_ON</span> <span class="n">AT</span> <span class="o">%</span><span class="n">Q</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="o">:=</span> <span class="n">FALSE</span><span class="p">;</span>



<span class="n">END_VAR</span>
</pre></div>
</div>
</section>
</section>
<section id="pous">
<h1>POUs<a class="headerlink" href="#pous" title="Link to this heading"></a></h1>
<section id="diagnostics">
<h2>DIAGNOSTICS<a class="headerlink" href="#diagnostics" title="Link to this heading"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PROGRAM</span> <span class="n">DIAGNOSTICS</span>
<span class="n">VAR</span>
    <span class="o">//</span><span class="n">Change</span> <span class="n">the</span> <span class="n">PLC</span> <span class="n">String</span> <span class="n">Name</span> <span class="n">to</span> <span class="n">the</span> <span class="n">actual</span> <span class="n">PLC</span> <span class="n">NAME</span>
    <span class="n">sPLCName</span> <span class="p">:</span><span class="n">STRING</span> <span class="o">:=</span> <span class="s1">&#39;PLC-TMO-VAC&#39;</span><span class="p">;</span>
    <span class="o">//</span><span class="n">Link</span> <span class="n">the</span> <span class="n">sAMSNetID</span> <span class="n">to</span> <span class="n">the</span> <span class="n">Etherat</span> <span class="n">Master</span> <span class="n">netID</span>
    <span class="n">i_sAMSNetID</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">AMSNETID</span><span class="p">;</span>
    <span class="o">//</span> <span class="n">DO</span> <span class="n">NOT</span> <span class="n">CHANGE</span>
    <span class="n">sAMSNetID</span> <span class="p">:</span> <span class="n">STRING</span><span class="p">;</span> <span class="o">//</span><span class="n">used</span> <span class="k">for</span> <span class="n">EPICS</span> <span class="n">PV</span>
    <span class="n">sLibVersion_LCLS_General</span> <span class="p">:</span> <span class="n">STRING</span><span class="p">;(</span><span class="o">*</span> <span class="o">:=</span> <span class="n">stLibVersion_LCLS_General</span><span class="o">.</span><span class="n">sVersion</span><span class="o">*</span><span class="p">)</span> <span class="p">;</span>

    <span class="n">fbEcatDiag</span><span class="p">:</span><span class="n">FB_EcatDiag</span><span class="p">;</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span> <span class="s1">&#39; pv:PLC:TMO:VAC:AllSlaveStateGood &#39;</span><span class="p">}</span>
    <span class="n">bAllSlaveStateGood</span> <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span> <span class="s1">&#39; pv:PLC:TMO:VAC:MasterStateGood &#39;</span><span class="p">}</span>
    <span class="n">bMasterStateGood</span> <span class="p">:</span><span class="n">BOOL</span><span class="p">;</span>
    <span class="n">iMasterState</span><span class="p">:</span> <span class="n">WORD</span><span class="p">;</span>
    <span class="n">sMasterState</span><span class="p">:</span><span class="n">STRING</span><span class="p">;</span>
    <span class="n">nSlaveNumber</span> <span class="p">:</span> <span class="n">UINT</span><span class="p">;</span>
    <span class="n">aiSlaveStates</span><span class="p">:</span> <span class="n">ARRAY</span><span class="p">[</span><span class="mf">1..256</span><span class="p">]</span> <span class="n">OF</span> <span class="n">BYTE</span><span class="p">;</span>
    <span class="n">aEcSlaveInfo</span> <span class="p">:</span>  <span class="n">ARRAY</span><span class="p">[</span><span class="mf">1..256</span><span class="p">]</span> <span class="n">OF</span> <span class="n">ST_EcDevice</span><span class="p">;</span>
<span class="n">END_VAR</span>
<span class="o">//</span> <span class="n">Instaniating</span> <span class="n">a</span> <span class="n">call</span> <span class="n">to</span> <span class="n">the</span> <span class="n">fbEcatDiag</span>
<span class="n">fbEcatDiag</span><span class="p">(</span>
    <span class="n">I_AMSNetId</span><span class="o">:=</span><span class="n">i_sAMSNetID</span> <span class="p">,</span>
    <span class="n">i_xFirstPass</span><span class="o">:=</span> <span class="n">_TaskInfo</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">FirstCycle</span><span class="p">,</span>
    <span class="n">q_xAllSlaveStatesGood</span><span class="o">=&gt;</span> <span class="n">bAllSlaveStateGood</span> <span class="p">,</span>
    <span class="n">q_anTermStates</span><span class="o">=&gt;</span> <span class="n">aiSlaveStates</span><span class="p">,</span>
    <span class="n">q_xMasterStateGood</span><span class="o">=&gt;</span><span class="n">bMasterStateGood</span> <span class="p">,</span>
    <span class="n">q_nMasterState</span><span class="o">=&gt;</span> <span class="n">iMasterState</span><span class="p">,</span>
    <span class="n">q_sMasterState</span><span class="o">=&gt;</span> <span class="n">sMasterState</span> <span class="p">,</span>
    <span class="n">q_astEcConfSlaveInfo</span><span class="o">=&gt;</span> <span class="n">aEcSlaveInfo</span> <span class="p">,</span>
    <span class="n">q_nSlaves</span><span class="o">=&gt;</span> <span class="n">nSlaveNumber</span><span class="p">);</span>

<span class="n">END_PROGRAM</span>
</pre></div>
</div>
</section>
<section id="f-turbo-protection-ilk">
<h2>F_Turbo_Protection_ILK<a class="headerlink" href="#f-turbo-protection-ilk" title="Link to this heading"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">FUNCTION</span> <span class="n">F_Turbo_Protection_ILK</span> <span class="p">:</span> <span class="n">BOOL</span>
<span class="n">VAR_INPUT</span>
    <span class="n">i_stTurbo</span> <span class="p">:</span> <span class="n">ST_PTM</span><span class="p">;</span> <span class="o">//</span> <span class="n">Turbo</span> <span class="n">Pump</span>
    <span class="n">i_stISG</span> <span class="p">:</span> <span class="n">ST_VG</span><span class="p">;</span> <span class="o">//</span><span class="n">Gauge</span> <span class="n">measuring</span> <span class="n">inlet</span> <span class="n">Pressure</span> <span class="n">e</span><span class="o">.</span><span class="n">g</span> <span class="n">Pirani</span>
    <span class="n">i_stBSG</span> <span class="p">:</span> <span class="n">ST_VG</span><span class="p">;</span> <span class="o">//</span><span class="n">Gauge</span> <span class="n">measureing</span> <span class="n">backing</span> <span class="n">pressure</span>
    <span class="n">iq_stValve</span> <span class="p">:</span> <span class="n">ST_VGC_2S</span><span class="p">;</span> <span class="o">//</span>



<span class="n">END_VAR</span>
<span class="n">VAR</span>

<span class="n">END_VAR</span>
<span class="p">(</span><span class="o">*</span> <span class="n">Allow</span> <span class="n">turbo</span> <span class="n">to</span> <span class="n">run</span> <span class="n">when</span> <span class="n">gauges</span> <span class="n">on</span> <span class="n">both</span> <span class="n">side</span> <span class="n">are</span> <span class="n">reading</span> <span class="n">pressure</span> <span class="n">below</span> <span class="n">than</span> <span class="n">SP</span> <span class="ow">and</span> <span class="n">backing</span> <span class="n">line</span> <span class="n">valve</span> <span class="ow">is</span> <span class="n">OPN</span> <span class="o">*</span><span class="p">)</span>


<span class="n">F_Turbo_Protection_ILK</span> <span class="o">:=</span> <span class="p">(</span><span class="n">i_stISG</span><span class="o">.</span><span class="n">xPRESS_OK</span> <span class="n">AND</span> <span class="n">i_stISG</span><span class="o">.</span><span class="n">rPRESS</span> <span class="o">&lt;</span> <span class="n">i_stTurbo</span><span class="o">.</span><span class="n">rInletPressureSP</span><span class="p">)</span> <span class="n">AND</span>
                           <span class="p">(</span><span class="n">i_stBSG</span><span class="o">.</span><span class="n">xPRESS_OK</span> <span class="n">AND</span> <span class="n">i_stBSG</span><span class="o">.</span><span class="n">rPRESS</span> <span class="o">&lt;</span> <span class="n">i_stTurbo</span><span class="o">.</span><span class="n">rBackingPressureSP</span><span class="p">)</span><span class="n">AND</span>
                            <span class="n">iq_stValve</span><span class="o">.</span><span class="n">i_xOpnLS</span><span class="p">;</span>

<span class="n">END_FUNCTION</span>
</pre></div>
</div>
</section>
<section id="fb-vrc-no-ffo-vls">
<h2>FB_VRC_NO_FFO_VLS<a class="headerlink" href="#fb-vrc-no-ffo-vls" title="Link to this heading"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">FUNCTION_BLOCK</span> <span class="n">FB_VRC_NO_FFO_VLS</span> <span class="n">EXTENDS</span> <span class="n">FB_VRC_NO</span>
<span class="n">VAR_IN_OUT</span>
    <span class="n">io_fbFFHWO</span>    <span class="p">:</span>    <span class="n">FB_HardwareFFOutput</span><span class="p">;</span>
    <span class="n">fbArbiter</span><span class="p">:</span> <span class="n">FB_Arbiter</span><span class="p">();</span>
<span class="n">END_VAR</span>
<span class="n">VAR_INPUT</span>
    <span class="n">i_xPMPS_OK</span><span class="p">:</span>     <span class="n">BOOL</span>    <span class="p">;</span> <span class="p">(</span><span class="o">*</span><span class="n">Set</span> <span class="n">to</span> <span class="kc">True</span> <span class="n">To</span> <span class="n">switch</span> <span class="n">off</span> <span class="n">the</span> <span class="n">bptm</span> <span class="ow">and</span> <span class="n">PMPS</span> <span class="n">Arbiter</span><span class="o">*</span><span class="p">)</span>
    <span class="n">i_xIsAperture</span><span class="p">:</span><span class="n">BOOL</span> <span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span> <span class="o">//</span> <span class="n">Set</span> <span class="n">tp</span> <span class="kc">True</span> <span class="k">if</span> <span class="n">this</span> <span class="ow">is</span> <span class="n">an</span> <span class="n">Aperture</span> <span class="n">Valve</span><span class="p">,</span> <span class="n">the</span> <span class="n">MPS</span> <span class="n">Fault</span> <span class="n">will</span> <span class="n">trip</span> <span class="n">only</span> <span class="n">when</span> <span class="n">moving</span><span class="o">.</span>
    <span class="n">i_sDevName</span> <span class="p">:</span> <span class="n">T_MaxString</span> <span class="o">:=</span>  <span class="s1">&#39;VGC&#39;</span><span class="p">;</span> <span class="o">//</span> <span class="n">Device</span> <span class="n">name</span> <span class="k">for</span> <span class="n">diagnostic</span>
    <span class="n">i_nTransitionRootID</span><span class="p">:</span> <span class="n">UDINT</span><span class="p">;</span> <span class="o">//</span><span class="n">A</span> <span class="n">unique</span> <span class="n">transition</span> <span class="n">Root</span> <span class="n">ID</span> <span class="n">that</span> <span class="ow">is</span> <span class="n">equal</span> <span class="n">to</span> <span class="ow">or</span> <span class="n">greater</span> <span class="n">than</span> <span class="mi">1000</span><span class="n">i_xIsAperture</span><span class="p">:</span><span class="n">BOOL</span> <span class="o">:=</span><span class="n">FALSE</span><span class="p">;</span> <span class="o">//</span> <span class="n">Set</span> <span class="n">tp</span> <span class="kc">True</span> <span class="k">if</span> <span class="n">this</span> <span class="ow">is</span> <span class="n">an</span> <span class="n">Aperture</span> <span class="n">Valve</span><span class="p">,</span> <span class="n">the</span> <span class="n">MPS</span> <span class="n">Fault</span> <span class="n">will</span> <span class="n">trip</span> <span class="n">only</span> <span class="n">when</span> <span class="n">moving</span><span class="o">.</span>
<span class="n">END_VAR</span>
<span class="n">VAR_OUTPUT</span>

<span class="n">END_VAR</span>
<span class="n">VAR</span>

    <span class="n">xPMPS_OK</span><span class="p">:</span>       <span class="n">BOOL</span>    <span class="p">;</span> <span class="p">(</span><span class="o">*</span><span class="n">PMPS</span> <span class="n">interlock</span><span class="o">*</span><span class="p">)</span>
    <span class="n">bMoving</span> <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
    <span class="n">bDone</span> <span class="p">:</span><span class="n">BOOL</span><span class="p">;</span>
    <span class="n">tBPTMtimeout</span><span class="p">:</span><span class="n">TON</span><span class="p">;</span>
    <span class="n">bptm</span><span class="p">:</span> <span class="n">BeamParameterTransitionManager</span><span class="p">;</span>
    <span class="n">FFO</span>    <span class="p">:</span>    <span class="n">FB_FastFault</span> <span class="o">:=</span><span class="p">(</span>
        <span class="n">i_DevName</span> <span class="o">:=</span> <span class="s1">&#39;VGC&#39;</span><span class="p">,</span>
        <span class="n">i_Desc</span> <span class="o">:=</span> <span class="s1">&#39;Fault occurs when the valve is not in safe state&#39;</span><span class="p">,</span>
        <span class="n">i_TypeCode</span> <span class="o">:=</span> <span class="mi">16</span><span class="c1">#1010);</span>
    <span class="n">xMPS_OK</span><span class="p">:</span>        <span class="n">BOOL</span><span class="p">;</span> <span class="p">(</span><span class="o">*</span><span class="n">MPS</span> <span class="n">Fast</span> <span class="n">OK</span><span class="p">,</span> <span class="ow">is</span> <span class="nb">set</span> <span class="n">when</span> <span class="n">the</span> <span class="n">Valve</span> <span class="ow">is</span> <span class="n">Open</span><span class="o">*</span><span class="p">)</span>

<span class="n">END_VAR</span>
<span class="p">(</span><span class="o">*</span><span class="n">IO</span> <span class="n">Mapping</span><span class="o">*</span><span class="p">)</span>
<span class="n">ACT_IO</span><span class="p">();</span>

<span class="p">(</span><span class="o">*</span> <span class="n">On</span> <span class="n">first</span> <span class="n">PLC</span> <span class="k">pass</span><span class="p">,</span> <span class="n">put</span> <span class="n">valve</span> <span class="n">into</span> <span class="n">vented</span> <span class="n">state</span><span class="p">,</span> <span class="n">which</span> <span class="n">implies</span> <span class="n">a</span> <span class="n">closed</span> <span class="n">valve</span> <span class="o">*</span><span class="p">)</span>
<span class="n">IF</span> <span class="n">xFirstPass</span> <span class="n">THEN</span>
    <span class="n">iq_stValve</span><span class="o">.</span><span class="n">eVGC_State</span> <span class="o">:=</span> <span class="n">Vented</span><span class="p">;</span>
    <span class="n">iq_stValve</span><span class="o">.</span><span class="n">pv_xCLS_SW</span> <span class="o">:=</span> <span class="n">FALSE</span><span class="p">;</span>
    <span class="n">FFO</span><span class="o">.</span><span class="n">i_DevName</span> <span class="o">:=</span> <span class="n">i_sDevName</span><span class="p">;</span>
<span class="o">//</span>  <span class="n">iq_stValve</span><span class="o">.</span><span class="n">sDevName</span> <span class="o">:=</span> <span class="n">i_sDevName</span><span class="p">;</span>
<span class="n">END_IF</span>


<span class="o">///</span><span class="n">Check</span> <span class="n">valve</span> <span class="n">position</span>
<span class="n">IF</span> <span class="n">iq_stValve</span><span class="o">.</span><span class="n">i_xClsLS</span> <span class="n">AND</span>  <span class="n">iq_stValve</span><span class="o">.</span><span class="n">i_xOpnLS</span> <span class="n">THEN</span>
    <span class="n">iq_stValve</span><span class="o">.</span><span class="n">eState</span><span class="o">:=</span><span class="n">INVALID</span><span class="p">;</span>
<span class="n">ELSIF</span> <span class="n">NOT</span> <span class="n">iq_stValve</span><span class="o">.</span><span class="n">i_xOpnLS</span> <span class="n">AND</span> <span class="n">iq_stValve</span><span class="o">.</span><span class="n">i_xClsLS</span> <span class="n">AND</span> <span class="n">iq_stValve</span><span class="o">.</span> <span class="n">THEN</span>
    <span class="n">iq_stValve</span><span class="o">.</span><span class="n">eState</span><span class="o">:=</span><span class="n">CLOSED</span><span class="p">;</span>
<span class="n">ELSIF</span> <span class="n">NOT</span> <span class="n">iq_stValve</span><span class="o">.</span><span class="n">i_xClsLS</span> <span class="n">AND</span> <span class="n">iq_stValve</span><span class="o">.</span><span class="n">i_xOpnLS</span> <span class="n">AND</span> <span class="n">NOT</span> <span class="n">iq_stValve</span><span class="o">.</span><span class="n">q_xOPN_DO</span> <span class="n">THEN</span>
    <span class="n">iq_stValve</span><span class="o">.</span><span class="n">eState</span><span class="o">:=</span><span class="n">OPEN_F</span><span class="p">;</span>
<span class="n">ELSIF</span> <span class="n">iq_stValve</span><span class="o">.</span><span class="n">i_xClsLS</span> <span class="n">AND</span> <span class="n">NOT</span> <span class="n">iq_stValve</span><span class="o">.</span><span class="n">i_xOpnLS</span> <span class="n">AND</span> <span class="n">NOT</span> <span class="n">iq_stValve</span><span class="o">.</span><span class="n">q_xOPN_DO</span> <span class="n">THEN</span>
    <span class="n">iq_stValve</span><span class="o">.</span><span class="n">eState</span><span class="o">:=</span><span class="n">CLOSED</span><span class="p">;</span>
<span class="n">ELSIF</span> <span class="n">NOT</span> <span class="n">iq_stValve</span><span class="o">.</span><span class="n">i_xClsLS</span> <span class="n">AND</span> <span class="n">NOT</span> <span class="n">iq_stValve</span><span class="o">.</span><span class="n">i_xOpnLS</span> <span class="n">THEN</span>
    <span class="n">iq_stValve</span><span class="o">.</span><span class="n">eState</span><span class="o">:=</span><span class="n">MOVING</span><span class="p">;</span>
<span class="n">ELSE</span>
    <span class="n">iq_stValve</span><span class="o">.</span><span class="n">eState</span><span class="o">:=</span><span class="n">INVALID</span><span class="p">;</span>
<span class="n">END_IF</span>




<span class="p">(</span><span class="o">*</span><span class="n">PMPS</span><span class="o">*</span><span class="p">)</span>
<span class="n">IF</span> <span class="n">NOT</span><span class="p">(</span><span class="n">i_xPMPS_OK</span><span class="p">)</span> <span class="n">THEN</span>
    <span class="n">ACT_PMPS</span><span class="p">();</span>
<span class="n">END_IF</span>
<span class="p">(</span><span class="o">*</span><span class="n">when</span> <span class="n">interlock</span> <span class="ow">is</span> <span class="n">lost</span> <span class="n">the</span> <span class="n">Valve</span> <span class="n">closes</span> <span class="n">regardless</span> <span class="n">of</span> <span class="n">the</span> <span class="n">status</span> <span class="n">of</span> <span class="n">the</span> <span class="n">PMPS</span> <span class="ow">and</span> <span class="n">EPS</span><span class="o">*</span><span class="p">)</span>
<span class="n">xPMPS_OK</span> <span class="o">:=</span> <span class="n">i_xPMPS_OK</span> <span class="n">OR</span> <span class="p">(</span><span class="n">bptm</span><span class="o">.</span><span class="n">q_xTransitionAuthorized</span> <span class="n">OR</span> <span class="n">tBPTMtimeout</span><span class="o">.</span><span class="n">Q</span><span class="p">);</span>
<span class="n">IF</span> <span class="n">NOT</span> <span class="p">(</span><span class="n">iq_stValve</span><span class="o">.</span><span class="n">xOPN_OK</span><span class="p">)</span> <span class="n">THEN</span>
    <span class="n">iq_stValve</span><span class="o">.</span><span class="n">pv_xOPN_SW</span><span class="o">:=</span> <span class="n">FALSE</span><span class="p">;</span> <span class="o">//</span> <span class="n">Reset</span> <span class="n">switch</span> <span class="n">after</span> <span class="n">inlk</span> <span class="ow">is</span> <span class="n">lost</span>
    <span class="n">iq_stValve</span><span class="o">.</span><span class="n">q_xOPN_DO</span> <span class="o">:=</span> <span class="p">(</span><span class="n">iq_stValve</span><span class="o">.</span><span class="n">pv_xOPN_SW</span>  <span class="n">AND</span> <span class="n">iq_stValve</span><span class="o">.</span><span class="n">xOPN_OK</span><span class="p">)</span> <span class="n">OR</span> <span class="p">(</span><span class="n">tonOvrd</span><span class="o">.</span><span class="n">Q</span> <span class="n">AND</span> <span class="n">i_xOverrideMode</span><span class="p">);</span>
<span class="n">ELSIF</span> <span class="n">xPMPS_OK</span> <span class="n">THEN</span>
    <span class="n">iq_stValve</span><span class="o">.</span><span class="n">q_xOPN_DO</span> <span class="o">:=</span> <span class="p">(</span><span class="n">iq_stValve</span><span class="o">.</span><span class="n">pv_xOPN_SW</span>  <span class="n">AND</span> <span class="n">iq_stValve</span><span class="o">.</span><span class="n">xOPN_OK</span><span class="p">)</span> <span class="n">OR</span> <span class="p">(</span><span class="n">tonOvrd</span><span class="o">.</span><span class="n">Q</span> <span class="n">AND</span> <span class="n">i_xOverrideMode</span><span class="p">);</span>
<span class="o">//</span><span class="n">ELSIF</span> <span class="n">NOT</span> <span class="p">(</span><span class="n">i_xPMPS_OK</span><span class="p">)</span> <span class="n">THEN</span>
    <span class="o">//</span> <span class="n">Only</span> <span class="n">override</span> <span class="n">mode</span>
    <span class="o">//</span><span class="n">iq_stValve</span><span class="o">.</span><span class="n">q_xOPN_DO</span> <span class="o">:=</span> <span class="p">(</span><span class="n">tonOvrd</span><span class="o">.</span><span class="n">Q</span> <span class="n">AND</span> <span class="n">i_xOverrideMode</span><span class="p">);</span>
<span class="n">END_IF</span>

<span class="p">(</span><span class="o">*</span><span class="n">MPS</span> <span class="n">Fault</span> <span class="n">setting</span><span class="o">*</span><span class="p">)</span>
<span class="n">If</span> <span class="p">(</span><span class="n">i_xIsAperture</span> <span class="p">)</span> <span class="n">THEN</span>
    <span class="p">(</span><span class="o">*</span> <span class="n">When</span> <span class="n">the</span> <span class="n">valve</span>  <span class="ow">is</span> <span class="nb">open</span> <span class="ow">or</span> <span class="ow">in</span> <span class="n">Closed</span> <span class="n">position</span> <span class="n">MPS</span> <span class="ow">is</span> <span class="n">OK</span><span class="p">,</span> <span class="n">Fault</span> <span class="k">while</span> <span class="n">moving</span><span class="o">*</span><span class="p">)</span>
    <span class="n">xMPS_OK</span> <span class="o">:=</span> <span class="p">(</span><span class="n">i_xOpnLS</span>  <span class="n">AND</span> <span class="n">NOT</span> <span class="n">q_xCLS_DO</span><span class="p">)</span> <span class="n">XOR</span> <span class="p">(</span><span class="n">i_xClsLS</span>  <span class="n">AND</span> <span class="n">q_xCLS_DO</span><span class="p">);</span>
<span class="n">ELSE</span>
    <span class="p">(</span><span class="o">*</span> <span class="n">When</span> <span class="n">the</span> <span class="n">valve</span>  <span class="ow">is</span> <span class="nb">open</span> <span class="n">MPS</span> <span class="ow">is</span> <span class="n">OK</span><span class="o">*</span><span class="p">)</span>
    <span class="n">xMPS_OK</span> <span class="o">:=</span> <span class="n">i_xOpnLS</span> <span class="n">AND</span> <span class="n">NOT</span> <span class="n">i_xClsLS</span> <span class="n">AND</span> <span class="n">q_xCLS_DO</span><span class="p">;</span>
<span class="n">END_IF</span>

<span class="p">(</span><span class="o">*</span><span class="n">FAST</span> <span class="n">FAULT</span><span class="o">*</span><span class="p">)</span>
<span class="n">FFO</span><span class="p">(</span><span class="n">i_xOK</span> <span class="o">:=</span> <span class="n">xMPS_OK</span><span class="p">,</span>
    <span class="n">i_xReset</span> <span class="o">:=</span> <span class="p">,</span>
    <span class="n">i_xAutoReset</span> <span class="o">:=</span><span class="n">TRUE</span><span class="p">,</span>
    <span class="n">io_fbFFHWO</span> <span class="o">:=</span> <span class="n">io_fbFFHWO</span><span class="p">);</span>

<span class="n">END_FUNCTION_BLOCK</span>

<span class="n">ACTION</span> <span class="n">ACT_IO</span><span class="p">:</span>
<span class="p">(</span><span class="o">*</span><span class="n">inputs</span><span class="o">*</span><span class="p">)</span>
<span class="n">iq_stValve</span><span class="o">.</span><span class="n">i_xOpnLS</span> <span class="o">:=</span>      <span class="n">i_xOpnLS</span><span class="p">;</span>
<span class="n">iq_stValve</span><span class="o">.</span><span class="n">i_xClsLS</span><span class="o">:=</span>       <span class="n">i_xClsLS</span><span class="p">;</span>
<span class="o">//</span><span class="n">iq_stValve</span><span class="o">.</span> <span class="o">:=</span> <span class="n">i_xEXT_OK</span><span class="p">;</span>
<span class="n">iq_stValve</span><span class="o">.</span><span class="n">xOverrideMode</span> <span class="o">:=</span> <span class="n">i_xOverrideMode</span><span class="p">;</span>
<span class="p">(</span><span class="o">*</span><span class="n">outputs</span><span class="o">*</span><span class="p">)</span>
<span class="o">//</span><span class="n">q_xOPN_DO</span><span class="o">:=</span> <span class="n">iq_stValve</span><span class="o">.</span><span class="n">q_xOPN_DO</span><span class="p">;</span>
<span class="n">END_ACTION</span>

<span class="n">ACTION</span> <span class="n">ACT_PMPS</span><span class="p">:</span>
<span class="n">bMoving</span> <span class="o">:=</span> <span class="p">(</span><span class="n">iq_stValve</span><span class="o">.</span><span class="n">pv_xOPN_SW</span> <span class="n">AND</span> <span class="n">iq_stValve</span><span class="o">.</span><span class="n">i_xClsLS</span><span class="p">)</span> <span class="n">XOR</span> <span class="p">(</span><span class="n">NOT</span> <span class="n">iq_stValve</span><span class="o">.</span><span class="n">pv_xOPN_SW</span> <span class="n">AND</span> <span class="n">i_xOpnLS</span><span class="p">);</span>
<span class="n">bDone</span> <span class="o">:=</span> <span class="p">(</span><span class="n">iq_stValve</span><span class="o">.</span><span class="n">pv_xOPN_SW</span> <span class="n">AND</span> <span class="n">iq_stValve</span><span class="o">.</span><span class="n">i_xOpnLS</span><span class="p">)</span> <span class="n">XOR</span> <span class="p">(</span><span class="n">NOT</span> <span class="n">iq_stValve</span><span class="o">.</span><span class="n">pv_xOPN_SW</span> <span class="n">AND</span> <span class="n">i_xClsLS</span><span class="p">);</span>
<span class="n">If</span> <span class="p">(</span><span class="n">i_xIsAperture</span> <span class="p">)</span> <span class="n">OR</span> <span class="p">(</span><span class="n">iq_stValve</span><span class="o">.</span><span class="n">pv_xOPN_SW</span> <span class="p">)</span><span class="n">THEN</span>
    <span class="n">bptm</span><span class="o">.</span><span class="n">i_stRequestedAssertion</span> <span class="o">:=</span> <span class="n">PMPS_GVL</span><span class="o">.</span><span class="n">cstFullBeam</span><span class="p">;</span>
<span class="n">ELSE</span>  <span class="n">bptm</span><span class="o">.</span><span class="n">i_stRequestedAssertion</span> <span class="o">:=</span> <span class="n">PMPS_GVL</span><span class="o">.</span><span class="n">cst0RateBeam</span><span class="p">;</span>
<span class="n">END_IF</span>
<span class="n">bptm</span><span class="p">(</span><span class="n">fbArbiter</span><span class="o">:=</span><span class="n">fbArbiter</span><span class="p">,</span>
     <span class="n">i_TransitionAssertionID</span><span class="o">:=</span><span class="n">i_nTransitionRootID</span><span class="o">+</span><span class="mi">2</span><span class="p">,</span>
     <span class="n">i_stTransitionAssertion</span><span class="o">:=</span><span class="n">PMPS_GVL</span><span class="o">.</span><span class="n">cst0RateBeam</span><span class="p">,</span>
     <span class="n">i_nRequestedAssertionID</span><span class="o">:=</span><span class="n">i_nTransitionRootID</span><span class="o">+</span> <span class="n">BOOL_TO_UDINT</span><span class="p">(</span> <span class="n">iq_stValve</span><span class="o">.</span><span class="n">pv_xOPN_SW</span><span class="p">),</span>
     <span class="n">i_stRequestedAssertion</span><span class="o">:=</span><span class="p">,</span>
     <span class="n">i_xMoving</span><span class="o">:=</span><span class="n">bMoving</span><span class="p">,</span>
     <span class="n">i_xDoneMoving</span><span class="o">:=</span> <span class="n">bDone</span><span class="p">,</span>
     <span class="n">stCurrentBeamParameters</span><span class="o">:=</span><span class="n">PMPS_GVL</span><span class="o">.</span><span class="n">stCurrentBeamParameters</span><span class="p">,</span>
     <span class="n">q_xTransitionAuthorized</span><span class="o">=&gt;</span><span class="p">);</span>
<span class="o">//</span> <span class="n">Timeout</span>
<span class="n">tBPTMtimeout</span><span class="p">(</span><span class="n">IN</span><span class="o">:=</span> <span class="n">bMoving</span> <span class="n">AND</span> <span class="n">NOT</span> <span class="n">bptm</span><span class="o">.</span><span class="n">q_xTransitionAuthorized</span> <span class="p">,</span> <span class="n">PT</span><span class="o">:=</span><span class="n">T</span><span class="c1">#1S);</span>
<span class="o">//</span><span class="n">xPMPS_OK</span> <span class="o">:=</span> <span class="n">bptm</span><span class="o">.</span><span class="n">q_xTransitionAuthorized</span> <span class="n">OR</span> <span class="n">tBPTMtimeout</span><span class="o">.</span><span class="n">Q</span><span class="p">;</span>

<span class="o">//</span><span class="n">Timeout</span> <span class="ow">and</span> <span class="n">clear</span> <span class="n">request</span>
<span class="n">IF</span> <span class="p">(</span><span class="n">tBPTMtimeout</span><span class="o">.</span><span class="n">Q</span><span class="p">)</span> <span class="n">THEN</span>
    <span class="n">fbArbiter</span><span class="o">.</span><span class="n">RemoveRequest</span><span class="p">(</span><span class="n">bptm</span><span class="o">.</span><span class="n">i_TransitionAssertionID</span><span class="p">);</span>
    <span class="n">fbArbiter</span><span class="o">.</span><span class="n">RemoveRequest</span><span class="p">(</span><span class="n">bptm</span><span class="o">.</span><span class="n">i_nRequestedAssertionID</span><span class="p">);</span>
<span class="n">END_IF</span>
<span class="n">END_ACTION</span>

<span class="n">METHOD</span> <span class="n">PUBLIC</span> <span class="n">M_IsClosed</span> <span class="p">:</span> <span class="n">BOOL</span>
<span class="n">VAR_INPUT</span>
<span class="n">END_VAR</span>
<span class="n">M_IsClosed</span> <span class="o">:=</span> <span class="p">(</span><span class="n">This</span><span class="o">^.</span><span class="n">iq_stValve</span><span class="o">.</span><span class="n">eState</span> <span class="o">=</span> <span class="n">E_ValvePositionState</span><span class="o">.</span><span class="n">CLOSED</span><span class="p">);</span>
<span class="n">END_METHOD</span>

<span class="n">METHOD</span> <span class="n">PUBLIC</span> <span class="n">M_IsOpen</span> <span class="p">:</span> <span class="n">BOOL</span>
<span class="n">VAR_INPUT</span>
<span class="n">END_VAR</span>
<span class="n">M_IsOpen</span> <span class="o">:=</span> <span class="p">(</span><span class="n">This</span><span class="o">^.</span><span class="n">iq_stValve</span><span class="o">.</span><span class="n">eState</span> <span class="o">=</span> <span class="n">E_ValvePositionState</span><span class="o">.</span><span class="n">OPEN</span><span class="p">);</span>
<span class="n">END_METHOD</span>

<span class="o">//</span> <span class="n">Use</span> <span class="n">this</span> <span class="n">Methode</span> <span class="n">to</span> <span class="n">Open</span> <span class="ow">or</span> <span class="n">close</span> <span class="n">the</span> <span class="n">valve</span> <span class="n">by</span> <span class="n">setting</span> <span class="n">the</span> <span class="n">OPN_SW</span> <span class="n">to</span> <span class="n">the</span> <span class="nb">input</span> <span class="n">value</span><span class="o">.</span>
<span class="n">METHOD</span> <span class="n">PUBLIC</span> <span class="n">M_Set_CLS_SW</span> <span class="p">:</span> <span class="n">BOOL</span>
<span class="n">VAR_INPUT</span>
        <span class="n">value</span><span class="p">:</span><span class="n">BOOL</span><span class="p">;</span>
<span class="n">END_VAR</span>
<span class="n">This</span><span class="o">^.</span><span class="n">iq_stValve</span><span class="o">.</span><span class="n">pv_xCLS_SW</span> <span class="o">:=</span> <span class="n">value</span><span class="p">;</span>
<span class="n">END_METHOD</span>
</pre></div>
</div>
</section>
<section id="main">
<h2>MAIN<a class="headerlink" href="#main" title="Link to this heading"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PROGRAM</span> <span class="n">MAIN</span>
<span class="n">VAR</span>

    <span class="n">fbLogHandler</span> <span class="p">:</span> <span class="n">FB_LogHandler</span><span class="p">;</span>
<span class="n">END_VAR</span>
<span class="n">fbLogHandler</span><span class="p">();</span>
<span class="p">(</span><span class="o">*</span> <span class="n">Check</span> <span class="k">for</span> <span class="n">error</span> <span class="n">on</span> <span class="n">bridge</span> <span class="n">communication</span> <span class="o">*</span><span class="p">)</span>
<span class="n">PRG_ECAT_COMM_CHECK</span><span class="p">();</span>

<span class="p">(</span><span class="o">*</span> <span class="n">FEE</span> <span class="n">devices</span><span class="o">*</span><span class="p">)</span>
<span class="n">PRG_FEE</span><span class="p">();</span>
<span class="n">PRG_PMPS</span><span class="p">();</span>
<span class="n">PRG_FSV_Interfaces</span><span class="p">();</span>

<span class="p">(</span><span class="o">*</span>  <span class="o">*</span><span class="p">)</span>

<span class="p">(</span><span class="o">*</span><span class="n">Hutch</span><span class="o">*</span><span class="p">)</span>
<span class="n">PRG_Hutch_Gauges</span><span class="p">();</span>
<span class="n">PRG_Hutch_Beamline_Valves</span><span class="p">();</span>
<span class="n">PRG_Roughing_Pumps</span><span class="p">();</span>
<span class="n">PRG_Hutch_Ion_Pumps</span><span class="p">();</span>

<span class="n">PRG_IP1_ECAT_Interfaces</span><span class="p">();</span>
<span class="n">PRG_HV_SAFETY</span><span class="p">();</span>

<span class="n">END_PROGRAM</span>
</pre></div>
</div>
<dl class="simple">
<dt>Related:</dt><dd><ul class="simple">
<li><p><a class="reference internal" href="#prg-ecat-comm-check">PRG_ECAT_COMM_CHECK</a></p></li>
<li><p><a class="reference internal" href="#prg-fee">PRG_FEE</a></p></li>
<li><p><a class="reference internal" href="#prg-fsv-interfaces">PRG_FSV_Interfaces</a></p></li>
<li><p><a class="reference internal" href="#prg-hv-safety">PRG_HV_SAFETY</a></p></li>
<li><p><a class="reference internal" href="#prg-hutch-beamline-valves">PRG_Hutch_Beamline_Valves</a></p></li>
<li><p><a class="reference internal" href="#prg-hutch-gauges">PRG_Hutch_Gauges</a></p></li>
<li><p><a class="reference internal" href="#prg-hutch-ion-pumps">PRG_Hutch_Ion_Pumps</a></p></li>
<li><p><a class="reference internal" href="#prg-ip1-ecat-interfaces">PRG_IP1_ECAT_Interfaces</a></p></li>
<li><p><a class="reference internal" href="#prg-pmps">PRG_PMPS</a></p></li>
<li><p><a class="reference internal" href="#prg-roughing-pumps">PRG_Roughing_Pumps</a></p></li>
</ul>
</dd>
</dl>
</section>
<section id="prg-com">
<h2>PRG_COM<a class="headerlink" href="#prg-com" title="Link to this heading"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PROGRAM</span> <span class="n">PRG_COM</span>
<span class="n">VAR</span>
<span class="n">END_VAR</span>
<span class="o">//</span><span class="n">needs</span> <span class="n">to</span> <span class="n">run</span> <span class="n">on</span> <span class="n">a</span> <span class="n">seperate</span> <span class="n">task</span>

<span class="p">(</span><span class="o">*</span><span class="n">Instanitate</span> <span class="n">Serial</span> <span class="n">port</span> <span class="n">com</span> <span class="n">function</span> <span class="o">*</span><span class="p">)</span>
<span class="o">//</span><span class="n">PA1K4_IP1_PTM_01</span> <span class="p">,</span> <span class="mi">02</span> <span class="ow">and</span> <span class="mi">03</span>
<span class="n">K4S2_02_E10_fbSerialLineControl</span><span class="p">(</span>
    <span class="n">Mode</span><span class="o">:=</span> <span class="n">SERIALLINEMODE_EL6_22B</span><span class="p">,</span>
    <span class="n">pComIn</span><span class="o">:=</span> <span class="n">ADR</span><span class="p">(</span><span class="n">K4S2_02_E10_stComIn</span><span class="p">),</span>
    <span class="n">pComOut</span><span class="o">:=</span><span class="n">ADR</span><span class="p">(</span><span class="n">K4S2_02_E10_stComOut</span><span class="p">),</span>
    <span class="n">SizeComIn</span><span class="o">:=</span> <span class="n">SIZEOF</span><span class="p">(</span><span class="n">K4S2_02_E10_stComOut</span><span class="p">),</span>
    <span class="n">TxBuffer</span><span class="o">:=</span> <span class="n">K4S2_02_E10_SerialTXBuffer</span><span class="p">,</span>
    <span class="n">RxBuffer</span><span class="o">:=</span> <span class="n">K4S2_02_E10_SerialRXBuffer</span><span class="p">,</span>
    <span class="n">Error</span><span class="o">=&gt;</span> <span class="p">,</span>
    <span class="n">ErrorID</span><span class="o">=&gt;</span> <span class="p">);</span>


<span class="o">//</span><span class="n">Granite</span> <span class="mi">2</span>
    <span class="o">//</span><span class="n">LI3K4_IP1_OUT_PTM_01</span><span class="o">-</span><span class="n">TM1K4_PTM_01</span><span class="o">-</span><span class="n">IM5K4_PPM_PTM_01</span>
    <span class="o">//</span><span class="n">K4S6_01_E5</span> <span class="p">(</span><span class="n">EL6021</span><span class="p">)</span>
<span class="p">(</span><span class="o">*</span><span class="n">Instanitate</span> <span class="n">Serial</span> <span class="n">port</span> <span class="n">com</span> <span class="n">function</span> <span class="o">*</span><span class="p">)</span>
<span class="n">K4S6_01_E5_fbSerialLineControl</span><span class="p">(</span>
    <span class="n">Mode</span><span class="o">:=</span> <span class="n">SERIALLINEMODE_EL6_22B</span><span class="p">,</span>
    <span class="n">pComIn</span><span class="o">:=</span> <span class="n">ADR</span><span class="p">(</span><span class="n">K4S6_01_E5_stComIn</span><span class="p">),</span>
    <span class="n">pComOut</span><span class="o">:=</span><span class="n">ADR</span><span class="p">(</span><span class="n">K4S6_01_E5_stComOut</span><span class="p">),</span>
    <span class="n">SizeComIn</span><span class="o">:=</span> <span class="n">SIZEOF</span><span class="p">(</span><span class="n">K4S6_01_E5_stComIn</span><span class="p">),</span>
    <span class="n">TxBuffer</span><span class="o">:=</span> <span class="n">K4S6_01_E5_SerialTXBuffer</span><span class="p">,</span>
    <span class="n">RxBuffer</span><span class="o">:=</span> <span class="n">K4S6_01_E5_SerialRXBuffer</span><span class="p">,</span>
    <span class="n">Error</span><span class="o">=&gt;</span> <span class="p">,</span>
    <span class="n">ErrorID</span><span class="o">=&gt;</span> <span class="p">);</span>

<span class="o">//</span><span class="n">IM4K4_PPM_PTM_01</span>
    <span class="o">//</span><span class="n">K4S2_02_E17</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)</span>
    <span class="p">(</span><span class="o">*</span><span class="n">Instanitate</span> <span class="n">Serial</span> <span class="n">port</span> <span class="n">com</span> <span class="n">function</span> <span class="o">*</span><span class="p">)</span>
<span class="n">K4S2_02_E17_fbSerialLineControl</span><span class="p">(</span>
    <span class="n">Mode</span><span class="o">:=</span> <span class="n">SERIALLINEMODE_EL6_22B</span><span class="p">,</span>
    <span class="n">pComIn</span><span class="o">:=</span> <span class="n">ADR</span><span class="p">(</span><span class="n">K4S2_02_E17_stComIn</span><span class="p">),</span>
    <span class="n">pComOut</span><span class="o">:=</span><span class="n">ADR</span><span class="p">(</span><span class="n">K4S2_02_E17_stComOut</span><span class="p">),</span>
    <span class="n">SizeComIn</span><span class="o">:=</span> <span class="n">SIZEOF</span><span class="p">(</span><span class="n">K4S2_02_E17_stComIn</span><span class="p">),</span>
    <span class="n">TxBuffer</span><span class="o">:=</span> <span class="n">K4S2_02_E17_SerialTXBuffer</span><span class="p">,</span>
    <span class="n">RxBuffer</span><span class="o">:=</span> <span class="n">K4S2_02_E17_SerialRXBuffer</span><span class="p">,</span>
    <span class="n">Error</span><span class="o">=&gt;</span> <span class="p">,</span>
    <span class="n">ErrorID</span><span class="o">=&gt;</span> <span class="p">);</span>

<span class="o">//</span><span class="n">LI1K4_IP1_PTM_01</span>
    <span class="o">//</span><span class="n">K4S2_02_E18</span> <span class="p">(</span><span class="n">EL6001</span><span class="p">)</span>
<span class="p">(</span><span class="o">*</span><span class="n">Instanitate</span> <span class="n">Serial</span> <span class="n">port</span> <span class="n">com</span> <span class="n">function</span> <span class="o">*</span><span class="p">)</span>
<span class="n">K4S2_02_E18_fbSerialLineControl</span><span class="p">(</span>
    <span class="n">Mode</span><span class="o">:=</span> <span class="n">SERIALLINEMODE_EL6_22B</span><span class="p">,</span>
    <span class="n">pComIn</span><span class="o">:=</span> <span class="n">ADR</span><span class="p">(</span><span class="n">K4S2_02_E18_stComIn</span><span class="p">),</span>
    <span class="n">pComOut</span><span class="o">:=</span><span class="n">ADR</span><span class="p">(</span><span class="n">K4S2_02_E18_stComOut</span><span class="p">),</span>
    <span class="n">SizeComIn</span><span class="o">:=</span> <span class="n">SIZEOF</span><span class="p">(</span><span class="n">K4S2_02_E18_stComIn</span><span class="p">),</span>
    <span class="n">TxBuffer</span><span class="o">:=</span> <span class="n">K4S2_02_E18_SerialTXBuffer</span><span class="p">,</span>
    <span class="n">RxBuffer</span><span class="o">:=</span> <span class="n">K4S2_02_E18_SerialRXBuffer</span><span class="p">,</span>
    <span class="n">Error</span><span class="o">=&gt;</span> <span class="p">,</span>
    <span class="n">ErrorID</span><span class="o">=&gt;</span> <span class="p">);</span>

<span class="n">END_PROGRAM</span>
</pre></div>
</div>
</section>
<section id="prg-ecat-comm-check">
<h2>PRG_ECAT_COMM_CHECK<a class="headerlink" href="#prg-ecat-comm-check" title="Link to this heading"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PROGRAM</span> <span class="n">PRG_ECAT_COMM_CHECK</span>
<span class="n">VAR</span>
<span class="n">END_VAR</span>
<span class="o">//</span><span class="n">bDREAM_ECAT_COM_ERROR</span> <span class="o">=</span> <span class="n">TRUE</span> <span class="n">means</span> <span class="n">that</span> <span class="n">there</span> <span class="ow">is</span> <span class="n">an</span> <span class="n">EtherCAT</span> <span class="n">Bridge</span> <span class="n">Communication</span> <span class="n">error</span><span class="o">.</span>
<span class="o">//</span><span class="n">Not</span> <span class="n">used</span> <span class="n">at</span> <span class="n">the</span> <span class="n">moment</span><span class="p">,</span> <span class="n">may</span> <span class="n">be</span> <span class="n">used</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">future</span><span class="o">.</span>
<span class="n">bDREAM_ECAT_COM_ERROR</span> <span class="o">:=</span> <span class="p">(</span><span class="n">bDreamEcatBridge_TxPDO_state</span> <span class="n">OR</span> <span class="n">bDreamEcatBridge_External_device_not_connected</span> <span class="n">OR</span> <span class="n">bDreamEcatBridge_WcState</span><span class="p">);</span>

<span class="n">END_PROGRAM</span>
</pre></div>
</div>
</section>
<section id="prg-fee">
<h2>PRG_FEE<a class="headerlink" href="#prg-fee" title="Link to this heading"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PROGRAM</span> <span class="n">PRG_FEE</span>
<span class="n">VAR</span>
<span class="n">ADS_connection_counter</span> <span class="p">:</span> <span class="n">UDINT</span><span class="p">;</span>

<span class="p">(</span><span class="o">*</span><span class="n">Upstream</span> <span class="n">Interface</span><span class="o">*</span><span class="p">)</span>

    <span class="n">USG_PIP</span> <span class="p">:</span> <span class="n">ST_VG</span><span class="p">;</span>

    <span class="n">USG_VGC</span> <span class="p">:</span> <span class="n">ST_VG</span><span class="p">;</span>



<span class="n">END_VAR</span>
<span class="p">(</span><span class="o">*</span> <span class="n">Gauges</span><span class="o">*</span><span class="p">)</span>
   <span class="p">(</span><span class="o">*</span> <span class="n">Read</span> <span class="n">GCC</span> <span class="kn">from</span><span class="w"> </span><span class="nn">upstream</span> <span class="n">PLC</span> <span class="o">-</span> <span class="n">plc</span><span class="o">-</span><span class="n">kfe</span><span class="o">-</span><span class="n">vac</span><span class="o">*</span><span class="p">)</span>
  <span class="p">(</span><span class="o">*</span> <span class="n">MR1K4_GCC_01_ADS</span><span class="p">(</span>
    <span class="n">sNetId</span><span class="o">:=</span> <span class="s1">&#39;172.21.92.61.1.1&#39;</span><span class="p">,</span>
    <span class="n">nPort</span><span class="o">:=</span><span class="mi">851</span> <span class="p">,</span>
    <span class="n">sVarName</span><span class="o">:=</span> <span class="s1">&#39;fb_MR1K4_SOMS_GCC_1&#39;</span> <span class="p">,</span>
    <span class="n">iWatchdog</span><span class="o">:=</span><span class="n">ADS_connection_counter</span> <span class="p">,</span>
    <span class="n">IG</span><span class="o">=&gt;</span> <span class="p">,</span>
    <span class="n">bError</span><span class="o">=&gt;</span> <span class="p">);</span> <span class="o">*</span><span class="p">)</span>
    <span class="p">(</span><span class="o">*</span> <span class="k">if</span> <span class="n">upstream</span> <span class="n">vacuum</span> <span class="n">ok</span><span class="p">,</span> <span class="nb">set</span> <span class="n">upstream</span> <span class="n">press</span> <span class="n">at</span> <span class="n">good</span> <span class="n">levels</span> <span class="o">*</span><span class="p">)</span>
    <span class="n">IF</span> <span class="n">USVacOk_LO</span> <span class="n">THEN</span>
        <span class="n">USG_VGC</span><span class="o">.</span><span class="n">xAT_VAC</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">;</span>
        <span class="n">USG_VGC</span><span class="o">.</span><span class="n">rPRESS</span> <span class="o">:=</span> <span class="mf">1E-7</span><span class="p">;</span>
        <span class="n">USG_VGC</span><span class="o">.</span><span class="n">xPRESS_OK</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">;</span>
        <span class="n">USG_VGC</span><span class="o">.</span><span class="n">sPath</span><span class="o">:=</span>  <span class="s1">&#39;MR1K4_SOMS_GCC_1&#39;</span><span class="p">;</span>
    <span class="n">ELSE</span>
        <span class="n">USG_VGC</span><span class="o">.</span><span class="n">xPRESS_OK</span> <span class="o">:=</span> <span class="n">FALSE</span><span class="p">;</span>
        <span class="n">USG_VGC</span><span class="o">.</span><span class="n">xAT_VAC</span> <span class="o">:=</span> <span class="n">FALSE</span><span class="p">;</span>
        <span class="n">USG_VGC</span><span class="o">.</span><span class="n">sPath</span><span class="o">:=</span>  <span class="s1">&#39;MR1K4_SOMS_GCC_1&#39;</span><span class="p">;</span>
    <span class="n">END_IF</span>

    <span class="n">IF</span> <span class="n">USVacOk_HI</span> <span class="n">THEN</span>
        <span class="n">USG_PIP</span><span class="o">.</span><span class="n">rPRESS</span> <span class="o">:=</span> <span class="mf">5E-5</span><span class="p">;</span>
        <span class="n">USG_PIP</span><span class="o">.</span><span class="n">xPRESS_OK</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">;</span>
        <span class="n">USG_PIP</span><span class="o">.</span><span class="n">xAT_VAC</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">;</span>
        <span class="n">USG_PIP</span><span class="o">.</span><span class="n">sPath</span><span class="o">:=</span>  <span class="s1">&#39;MR1K4_SOMS_GCC_1&#39;</span><span class="p">;</span>
    <span class="n">ELSE</span>
        <span class="n">USG_PIP</span><span class="o">.</span><span class="n">xPRESS_OK</span> <span class="o">:=</span> <span class="n">FALSE</span><span class="p">;</span>
        <span class="n">USG_PIP</span><span class="o">.</span><span class="n">xAT_VAC</span> <span class="o">:=</span> <span class="n">FALSE</span><span class="p">;</span>
        <span class="n">USG_PIP</span><span class="o">.</span><span class="n">sPath</span><span class="o">:=</span>  <span class="s1">&#39;MR1K4_SOMS_GCC_1&#39;</span><span class="p">;</span>
    <span class="n">END_IF</span>

    <span class="p">(</span><span class="o">*</span> <span class="n">check</span> <span class="n">other</span> <span class="n">gauges</span><span class="o">*</span><span class="p">)</span>
    <span class="n">TV1K4_GPI_01</span><span class="p">();</span>
    <span class="n">ST1K4_TEST_GPI_01</span><span class="p">();</span>
    <span class="n">ST2K4_BCS_GPI_01</span><span class="p">();</span>
    <span class="n">PC4K4_XTES_GPI_01</span><span class="p">();</span>

    <span class="n">TV1k4_GCC_01</span><span class="p">(</span><span class="n">PG</span><span class="o">:=</span><span class="n">TV1k4_GPI_01</span><span class="o">.</span><span class="n">PG</span> <span class="p">,</span> <span class="n">IG</span><span class="o">=&gt;</span> <span class="p">,</span> <span class="n">bEP</span> <span class="o">:=</span> <span class="n">TRUE</span> <span class="p">);</span>
    <span class="n">ST1K4_TEST_GCC_01</span><span class="p">(</span><span class="n">PG</span><span class="o">:=</span><span class="n">ST1K4_TEST_GPI_01</span><span class="o">.</span><span class="n">PG</span> <span class="p">,</span> <span class="n">IG</span><span class="o">=&gt;</span> <span class="p">,</span> <span class="n">bEP</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">);</span>
    <span class="n">ST2K4_BCS_GCC_01</span><span class="p">(</span><span class="n">PG</span><span class="o">:=</span><span class="n">ST2K4_BCS_GPI_01</span><span class="o">.</span><span class="n">PG</span> <span class="p">,</span> <span class="n">IG</span><span class="o">=&gt;</span> <span class="p">,</span> <span class="n">bEP</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">);</span>
    <span class="n">PC4K4_XTES_GCC_01</span><span class="p">(</span><span class="n">PG</span><span class="o">:=</span><span class="n">PC4K4_XTES_GPI_01</span><span class="o">.</span><span class="n">PG</span> <span class="p">,</span> <span class="n">IG</span><span class="o">=&gt;</span> <span class="p">,</span> <span class="n">bEP</span> <span class="o">:=</span> <span class="n">TRUE</span> <span class="p">);</span>
    <span class="n">PC4K4_XTES_GCC_02</span><span class="p">(</span><span class="n">PG</span><span class="o">:=</span><span class="n">PC4K4_XTES_GPI_01</span><span class="o">.</span><span class="n">PG</span> <span class="p">,</span> <span class="n">IG</span><span class="o">=&gt;</span><span class="p">);</span>

<span class="p">(</span><span class="o">*</span> <span class="n">Valves</span><span class="o">*</span><span class="p">)</span>
<span class="p">(</span><span class="o">*</span><span class="n">example</span>
<span class="n">GEM1_VGC_10</span><span class="p">(</span><span class="n">i_stUSG</span> <span class="o">:=</span> <span class="n">USG_GCC</span><span class="o">.</span><span class="n">IG</span><span class="p">,</span> <span class="n">i_stDSG</span><span class="o">:=</span> <span class="n">GEM1_GCC_10</span><span class="o">.</span><span class="n">IG</span><span class="p">,</span><span class="n">i_xDis_DPIlk</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span> <span class="n">i_xEPS_OK</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span>
        <span class="n">i_xPMPS_OK</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span> <span class="n">i_xExt_OK</span> <span class="o">:=</span> <span class="n">xGEM1_AperturesOpnOK</span><span class="p">,</span> <span class="n">i_xOverrideMode</span> <span class="o">:=</span> <span class="n">xGEM1OverrideMode</span><span class="p">,</span><span class="n">i_xReset</span> <span class="o">:=</span> <span class="n">xFastFaultReset</span><span class="p">,</span><span class="n">io_fbFFHWO</span> <span class="o">:=</span><span class="n">g_FastFaultOutput1</span><span class="p">);</span>
<span class="o">*</span><span class="p">)</span>

    <span class="n">TV1K4_VGC_01</span><span class="p">(</span>
                <span class="n">i_stUSG</span> <span class="o">:=</span> <span class="n">USG_VGC</span><span class="p">,</span>
                <span class="n">i_stDSG</span><span class="o">:=</span> <span class="n">TV1k4_GCC_01</span><span class="o">.</span><span class="n">IG</span><span class="p">,</span>
                <span class="n">i_xDis_DPIlk</span> <span class="o">:=</span> <span class="n">FALSE</span><span class="p">,</span>
                <span class="n">i_xEPS_OK</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span>
                <span class="n">i_xPMPS_OK</span> <span class="o">:=</span> <span class="n">TRUE</span> <span class="p">,</span>
                <span class="n">i_xExt_OK</span> <span class="o">:=</span> <span class="n">TV1K4_VFS_Interface</span><span class="o">.</span><span class="n">i_xVAC_FAULT_OK</span><span class="p">,</span>
                <span class="n">i_xOverrideMode</span> <span class="o">:=</span> <span class="n">xSystemOverrideMode_FEE</span><span class="p">,</span>
                <span class="n">i_xReset</span> <span class="o">:=</span> <span class="n">xReset_PMPS_FFO1</span><span class="p">,</span>
                <span class="n">io_fbFFHWO</span> <span class="o">:=</span><span class="n">g_FastFaultOutput1</span><span class="p">,</span>
                <span class="n">iq_stValve</span> <span class="o">=&gt;</span><span class="p">,</span>
                <span class="n">fbArbiter</span> <span class="o">:=</span> <span class="n">g_fbArbiter1</span><span class="p">,</span>
                <span class="n">i_nTransitionRootID</span> <span class="o">:=</span> <span class="mi">44816</span>
<span class="p">);</span>

     <span class="n">TV1K4_VGC_02</span><span class="p">(</span>
                <span class="n">i_stUSG</span> <span class="o">:=</span> <span class="n">TV1k4_GCC_01</span><span class="o">.</span><span class="n">IG</span><span class="p">,</span>
<span class="o">//</span>                          <span class="n">i_stDSG</span><span class="o">:=</span> <span class="n">ST1K4_TEST_GCC_01</span><span class="o">.</span><span class="n">IG</span><span class="p">,</span>
                <span class="n">i_stDSG</span><span class="o">:=</span> <span class="n">ST1K4_TEST_PIP_01</span><span class="o">.</span><span class="n">q_IG</span><span class="p">,</span> <span class="o">//</span><span class="n">change</span> <span class="n">the</span> <span class="n">logic</span> <span class="kn">from</span><span class="w"> </span><span class="nn">ST1K4_GCC</span> <span class="n">to</span> <span class="n">ST1K4_PIP</span> <span class="n">on4</span><span class="o">/</span><span class="mi">3</span><span class="o">/</span><span class="mi">23</span>
                <span class="n">i_xDis_DPIlk</span> <span class="o">:=</span> <span class="n">FALSE</span><span class="p">,</span>
                <span class="n">i_xEPS_OK</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span>
                <span class="n">i_xPMPS_OK</span> <span class="o">:=</span> <span class="n">TRUE</span> <span class="p">,</span>
                <span class="n">i_xExt_OK</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span>
                <span class="n">i_xOverrideMode</span> <span class="o">:=</span> <span class="n">xSystemOverrideMode_FEE</span><span class="p">,</span>
                <span class="n">i_xReset</span> <span class="o">:=</span> <span class="n">xReset_PMPS_FFO1</span><span class="p">,</span>
                <span class="n">io_fbFFHWO</span> <span class="o">:=</span><span class="n">g_FastFaultOutput1</span><span class="p">,</span>
                <span class="n">iq_stValve</span> <span class="o">=&gt;</span><span class="p">,</span>
                <span class="n">fbArbiter</span> <span class="o">:=</span> <span class="n">g_fbArbiter1</span><span class="p">,</span>
                <span class="n">i_nTransitionRootID</span> <span class="o">:=</span> <span class="mi">44832</span>

<span class="p">);</span>

    <span class="n">ST3K4_PPS_VGC_01</span><span class="p">(</span>
                <span class="n">i_stUSG</span> <span class="o">:=</span> <span class="n">ST2K4_BCS_GCC_01</span><span class="o">.</span><span class="n">IG</span><span class="p">,</span>  <span class="o">//</span><span class="n">James</span> <span class="n">request</span> <span class="n">to</span> <span class="n">change</span> <span class="n">on</span> <span class="n">Feb</span> <span class="mi">2025</span>
                <span class="n">i_stDSG</span><span class="o">:=</span> <span class="n">PC4K4_XTES_GCC_01</span><span class="o">.</span><span class="n">IG</span><span class="p">,</span>
                <span class="n">i_xDis_DPIlk</span> <span class="o">:=</span> <span class="n">FALSE</span><span class="p">,</span>
                <span class="n">i_xEPS_OK</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span>
                <span class="n">i_xPMPS_OK</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span>
                <span class="n">i_xExt_OK</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span>
                <span class="n">i_xOverrideMode</span> <span class="o">:=</span> <span class="n">xSystemOverrideMode_FEE</span><span class="p">,</span>
                <span class="n">i_xReset</span> <span class="o">:=</span> <span class="n">xReset_PMPS_FFO2</span><span class="p">,</span>
                <span class="n">io_fbFFHWO</span> <span class="o">:=</span><span class="n">g_FastFaultOutput2</span><span class="p">,</span>
                <span class="n">iq_stValve</span> <span class="o">=&gt;</span><span class="p">,</span>
                <span class="n">fbArbiter</span> <span class="o">:=</span> <span class="n">g_fbArbiter2</span><span class="p">,</span>
                <span class="n">i_nTransitionRootID</span> <span class="o">:=</span> <span class="mi">44848</span>
<span class="p">);</span>

<span class="p">(</span><span class="o">*</span><span class="n">Ion</span> <span class="n">Pumps</span><span class="o">*</span><span class="p">)</span>
    <span class="p">(</span><span class="o">*</span><span class="n">example</span>
    <span class="n">SP1L0_KMONO_PIP_01</span><span class="p">(</span><span class="n">i_stGauge</span><span class="o">:=</span><span class="n">SP1L0_KMONO_GCC_01</span><span class="o">.</span><span class="n">IG</span><span class="p">,</span> <span class="n">stPump</span><span class="o">=&gt;</span><span class="p">);</span><span class="o">*</span><span class="p">)</span>

    <span class="n">MR1K4_SOMS_PIP_01</span><span class="p">(</span><span class="n">i_stGauge</span> <span class="o">:=</span> <span class="n">USG_PIP</span><span class="p">,</span> <span class="n">stPump</span><span class="o">=&gt;</span><span class="p">);</span>
    <span class="n">TV1K4_PIP_01</span><span class="p">(</span><span class="n">i_stGauge</span> <span class="o">:=</span> <span class="n">TV1K4_GPI_01</span><span class="o">.</span><span class="n">PG</span><span class="p">,</span> <span class="n">stPump</span><span class="o">=&gt;</span><span class="p">);</span>
<span class="o">//</span>  <span class="n">ST1K4_TEST_PIP_01</span><span class="p">(</span><span class="n">i_stGauge</span> <span class="o">:=</span> <span class="n">ST1K4_TEST_GCC_01</span><span class="o">.</span><span class="n">IG</span><span class="p">,</span> <span class="n">stPump</span><span class="o">=&gt;</span><span class="p">);</span>
<span class="o">//</span><span class="n">change</span> <span class="n">St1K4</span> <span class="n">PIP</span> <span class="n">interlock</span> <span class="kn">from</span><span class="w"> </span><span class="nn">ST1K4_TEST_GCC_01</span> <span class="n">to</span> <span class="n">ST1K4</span><span class="p">:</span><span class="n">TEST_GPI_01</span> <span class="n">due</span> <span class="n">to</span> <span class="n">ST1K4_GCC</span> <span class="n">broken</span>
    <span class="n">ST1K4_TEST_PIP_01</span><span class="p">(</span><span class="n">i_stGauge</span> <span class="o">:=</span> <span class="n">ST1K4_TEST_GPI_01</span><span class="o">.</span><span class="n">PG</span><span class="p">,</span> <span class="n">stPump</span><span class="o">=&gt;</span><span class="p">);</span>
    <span class="n">ST2K4_BCS_PIP_01</span><span class="p">(</span><span class="n">i_stGauge</span> <span class="o">:=</span> <span class="n">ST2K4_BCS_GPI_01</span><span class="o">.</span><span class="n">PG</span><span class="p">,</span> <span class="n">stPump</span><span class="o">=&gt;</span><span class="p">);</span>
    <span class="n">ST3K4_PPS_PIP_01</span><span class="p">(</span><span class="n">i_stGauge</span> <span class="o">:=</span> <span class="n">ST2K4_BCS_GPI_01</span><span class="o">.</span><span class="n">PG</span><span class="p">,</span> <span class="n">stPump</span><span class="o">=&gt;</span><span class="p">);</span>
    <span class="n">PC4K4_XTES_PIP_01</span><span class="p">(</span><span class="n">i_stGauge</span> <span class="o">:=</span> <span class="n">PC4K4_XTES_GPI_01</span><span class="o">.</span><span class="n">PG</span><span class="p">,</span> <span class="n">stPump</span><span class="o">=&gt;</span><span class="p">);</span>

<span class="n">END_PROGRAM</span>
</pre></div>
</div>
</section>
<section id="prg-fsv">
<h2>PRG_FSV<a class="headerlink" href="#prg-fsv" title="Link to this heading"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PROGRAM</span> <span class="n">PRG_FSV</span>
<span class="n">VAR</span>
    <span class="n">fastFaultSaveMyLife</span> <span class="p">:</span> <span class="n">FB_FastFault</span><span class="p">;</span>
    <span class="n">bM1K1Veto_IN</span> <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
    <span class="n">bST3K4Veto_IN</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
    <span class="n">bST4K4Veto_IN</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
    <span class="n">ff6_ff4_link_vac</span><span class="p">:</span> <span class="n">FB_FastFault</span> <span class="o">:=</span> <span class="p">(</span><span class="n">i_xAutoReset</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span> <span class="n">i_DevName</span> <span class="o">:=</span> <span class="s1">&#39;FF6 to FF4 Link&#39;</span><span class="p">,</span> <span class="n">i_Desc</span> <span class="o">:=</span> <span class="s1">&#39;Do not bypass! This is virtual FF6 fault, Please check ST4K4 downstream MR4K4_FSV &#39;</span><span class="p">,</span> <span class="n">i_TypeCode</span> <span class="o">:=</span> <span class="mi">16</span><span class="c1">#9999);</span>
    <span class="n">fb_VetoArbiter2</span><span class="p">:</span> <span class="n">FB_VetoArbiter</span><span class="p">;</span>
<span class="n">END_VAR</span>
<span class="n">TV1K4_VFS_1</span><span class="p">(</span>
    <span class="n">i_xPMPS_OK</span><span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span>
    <span class="n">i_xExt_OK</span><span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span>
    <span class="n">i_xVeto_Enable</span><span class="o">:=</span><span class="n">TRUE</span><span class="p">,</span>
    <span class="n">i_sDevName</span><span class="o">:=</span> <span class="s1">&#39;TV1K4:VFS:01&#39;</span><span class="p">,</span>
    <span class="n">io_fbFFHWO</span><span class="o">:=</span> <span class="n">GVL_PMPS</span><span class="o">.</span><span class="n">g_FastFaultOutput3</span> <span class="p">);</span>

<span class="n">MR3K4_KBO_VFS_1</span><span class="p">(</span>
    <span class="n">i_xPMPS_OK</span><span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span>
    <span class="n">i_xExt_OK</span><span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span>
    <span class="n">i_xVeto_Enable</span><span class="o">:=</span><span class="n">TRUE</span><span class="p">,</span>
    <span class="n">i_sDevName</span><span class="o">:=</span> <span class="s1">&#39;MR3K4:KBO:VFS:1&#39;</span><span class="p">,</span>
    <span class="n">io_fbFFHWO</span><span class="o">:=</span> <span class="n">GVL_PMPS</span><span class="o">.</span><span class="n">g_FastFaultOutput4</span>
<span class="p">);</span>



<span class="n">MR4K4_KBO_VFS_1</span><span class="p">(</span>
    <span class="n">i_xPMPS_OK</span><span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span>
    <span class="n">i_xExt_OK</span><span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span>
    <span class="n">i_xVeto_Enable</span><span class="o">:=</span><span class="n">TRUE</span><span class="p">,</span>
    <span class="n">i_sDevName</span><span class="o">:=</span> <span class="s1">&#39;MR4K4:KBO:VFS:1&#39;</span><span class="p">,</span>
    <span class="n">io_fbFFHWO</span><span class="o">:=</span> <span class="n">GVL_PMPS</span><span class="o">.</span><span class="n">g_FastFaultOutput6</span>
<span class="p">);</span>



<span class="o">//</span> <span class="n">M1K1</span> <span class="n">Veto</span>
<span class="n">bM1K1Veto_IN</span> <span class="o">:=</span> <span class="n">NOT</span> <span class="n">PMPS_GVL</span><span class="o">.</span><span class="n">stCurrentBeamParameters</span><span class="o">.</span><span class="n">aVetoDevices</span><span class="p">[</span><span class="n">PMPS</span><span class="o">.</span><span class="n">K_Stopper</span><span class="o">.</span><span class="n">MR1K1_OUT</span><span class="p">]</span>
                <span class="n">AND</span> <span class="n">PMPS_GVL</span><span class="o">.</span><span class="n">stCurrentBeamParameters</span><span class="o">.</span><span class="n">aVetoDevices</span><span class="p">[</span><span class="n">PMPS</span><span class="o">.</span><span class="n">K_Stopper</span><span class="o">.</span><span class="n">MR1K1_IN</span><span class="p">];</span>
<span class="n">bST3K4Veto_IN</span> <span class="o">:=</span> <span class="n">PMPS_GVL</span><span class="o">.</span><span class="n">stCurrentBeamParameters</span><span class="o">.</span><span class="n">aVetoDevices</span><span class="p">[</span><span class="n">PMPS</span><span class="o">.</span><span class="n">K_Stopper</span><span class="o">.</span><span class="n">ST3K4</span><span class="p">]</span> <span class="n">OR</span> <span class="n">bM1K1Veto_IN</span><span class="p">;</span>
<span class="n">bST4K4Veto_IN</span> <span class="o">:=</span> <span class="n">PMPS_GVL</span><span class="o">.</span><span class="n">stCurrentBeamParameters</span><span class="o">.</span><span class="n">aVetoDevices</span><span class="p">[</span><span class="n">PMPS</span><span class="o">.</span><span class="n">K_Stopper</span><span class="o">.</span><span class="n">ST4K4</span><span class="p">]</span> <span class="n">OR</span> <span class="n">bST3K4Veto_IN</span><span class="p">;</span>

<span class="p">(</span><span class="o">*</span><span class="n">FastFaultOuput</span><span class="o">*</span><span class="p">)</span>
<span class="n">g_FastFaultOutput3</span><span class="o">.</span><span class="n">Execute</span><span class="p">(</span><span class="n">bAutoReset</span><span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span> <span class="n">i_xVeto</span><span class="o">:=</span><span class="n">bM1K1Veto_IN</span><span class="p">);</span>

<span class="n">g_FastFaultOutput4</span><span class="o">.</span><span class="n">Execute</span><span class="p">(</span><span class="n">i_xVeto</span><span class="o">:=</span><span class="n">PMPS_GVL</span><span class="o">.</span><span class="n">stCurrentBeamParameters</span><span class="o">.</span><span class="n">aVetoDevices</span><span class="p">[</span><span class="n">K_Stopper</span><span class="o">.</span><span class="n">ST3K4</span><span class="p">]</span>
                                    <span class="n">OR</span> <span class="n">bM1K1Veto_IN</span><span class="p">,</span> <span class="n">bAutoReset</span><span class="o">:=</span> <span class="n">TRUE</span><span class="p">);</span>


<span class="o">//</span> <span class="n">Everything</span> <span class="n">downstream</span> <span class="n">of</span> <span class="n">ST4K4</span>
<span class="n">g_FastFaultOutput6</span><span class="o">.</span><span class="n">Execute</span><span class="p">(</span><span class="n">i_xVeto</span><span class="o">:=</span> <span class="n">bST4K4Veto_IN</span><span class="p">,</span> <span class="n">bAutoReset</span><span class="o">:=</span> <span class="n">TRUE</span><span class="p">);</span>

<span class="n">ff6_ff4_link_vac</span><span class="p">(</span>
    <span class="n">io_fbFFHWO</span> <span class="o">:=</span> <span class="n">GVL_PMPS</span><span class="o">.</span><span class="n">g_FastFaultOutput4</span><span class="p">,</span>
    <span class="n">i_xOK</span> <span class="o">:=</span> <span class="n">GVL_PMPS</span><span class="o">.</span><span class="n">g_FastFaultOutput6</span><span class="o">.</span><span class="n">q_xFastFaultOut</span><span class="p">);</span>

<span class="n">END_PROGRAM</span>
</pre></div>
</div>
<dl class="simple">
<dt>Related:</dt><dd><ul class="simple">
<li><p><a class="reference internal" href="#gvl-pmps">GVL_PMPS</a></p></li>
</ul>
</dd>
</dl>
</section>
<section id="prg-fsv-interfaces">
<h2>PRG_FSV_Interfaces<a class="headerlink" href="#prg-fsv-interfaces" title="Link to this heading"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PROGRAM</span> <span class="n">PRG_FSV_Interfaces</span>
<span class="n">VAR</span>
    <span class="o">//</span><span class="n">Reset</span> <span class="n">Fault</span> <span class="n">counter</span> <span class="n">trigger</span>
    <span class="n">rtRstFaultCounter</span> <span class="p">:</span> <span class="n">R_TRIG</span><span class="p">;</span>
<span class="n">END_VAR</span>
<span class="p">(</span><span class="o">*</span><span class="n">Vacuum</span> <span class="n">Fast</span> <span class="n">Shutter</span> <span class="n">Valves</span><span class="o">*</span><span class="p">)</span>
<span class="n">rtRstFaultCounter</span><span class="p">(</span><span class="n">CLK</span> <span class="o">:=</span> <span class="n">bResetFaultCounters</span><span class="p">);</span>
<span class="n">IF</span> <span class="n">rtRstFaultCounter</span><span class="o">.</span><span class="n">Q</span> <span class="n">THEN</span>
    <span class="n">bResetFaultCounters</span> <span class="o">:=</span> <span class="n">FALSE</span><span class="p">;</span>
<span class="n">END_IF</span>

<span class="n">TV1K4_VFS_Interface</span><span class="p">(</span><span class="n">IG1</span><span class="o">:=</span><span class="n">LI2K4_IP1_GFS_01</span><span class="o">.</span><span class="n">IG</span><span class="p">,</span>
                    <span class="n">IG2</span><span class="o">:=</span><span class="n">LI2K4_IP1_GFS_02</span><span class="o">.</span><span class="n">IG</span><span class="p">,</span>
                    <span class="n">IG3</span><span class="o">:=</span><span class="n">LI2K4_IP1_GFS_03</span><span class="o">.</span><span class="n">IG</span><span class="p">,</span>
                    <span class="n">Veto_Valve</span><span class="o">:=</span><span class="n">ST3K4_PPS_VGC_01</span><span class="o">.</span><span class="n">iq_stValve</span><span class="p">,</span>
                    <span class="n">i_e2OO3_MODE</span><span class="o">:=</span><span class="n">eVFS2OO3Mode_TMO</span><span class="p">,</span>
                    <span class="n">i_ResetFaultCounter</span><span class="o">:=</span><span class="n">rtRstFaultCounter</span><span class="o">.</span><span class="n">Q</span><span class="p">);</span>

<span class="n">MR3K4_KBO_VFS_Interface</span><span class="p">(</span><span class="n">IG1</span><span class="o">:=</span><span class="n">LI2K4_IP1_GFS_01</span><span class="o">.</span><span class="n">IG</span><span class="p">,</span>
                        <span class="n">IG2</span><span class="o">:=</span><span class="n">LI2K4_IP1_GFS_02</span><span class="o">.</span><span class="n">IG</span><span class="p">,</span>
                        <span class="n">IG3</span><span class="o">:=</span><span class="n">LI2K4_IP1_GFS_03</span><span class="o">.</span><span class="n">IG</span><span class="p">,</span>
                        <span class="n">Veto_Valve</span><span class="o">:=</span><span class="n">MR3K4_KBO_VWC_01</span><span class="o">.</span><span class="n">iq_stValve</span><span class="p">,</span>
                        <span class="n">i_e2OO3_MODE</span><span class="o">:=</span><span class="n">eVFS2OO3Mode_TMO</span><span class="p">,</span>
                        <span class="n">i_ResetFaultCounter</span><span class="o">:=</span><span class="n">rtRstFaultCounter</span><span class="o">.</span><span class="n">Q</span><span class="p">);</span>

<span class="n">MR4K4_KBO_VFS_Interface</span><span class="p">(</span><span class="n">IG1</span><span class="o">:=</span><span class="n">LI2K4_IP1_GFS_01</span><span class="o">.</span><span class="n">IG</span><span class="p">,</span>
                        <span class="n">IG2</span><span class="o">:=</span><span class="n">LI2K4_IP1_GFS_02</span><span class="o">.</span><span class="n">IG</span><span class="p">,</span>
                        <span class="n">IG3</span><span class="o">:=</span><span class="n">LI2K4_IP1_GFS_03</span><span class="o">.</span><span class="n">IG</span><span class="p">,</span>
                        <span class="n">Veto_valve</span><span class="o">:=</span><span class="n">MR4K4_KBO_VWC_01</span><span class="o">.</span><span class="n">iq_stValve</span><span class="p">,</span>
                        <span class="n">i_e2OO3_MODE</span><span class="o">:=</span><span class="n">eVFS2OO3Mode_TMO</span><span class="p">,</span>
                        <span class="n">i_ResetFaultCounter</span><span class="o">:=</span><span class="n">rtRstFaultCounter</span><span class="o">.</span><span class="n">Q</span><span class="p">);</span>

<span class="n">END_PROGRAM</span>
</pre></div>
</div>
</section>
<section id="prg-hutch-beamline-valves">
<h2>PRG_Hutch_Beamline_Valves<a class="headerlink" href="#prg-hutch-beamline-valves" title="Link to this heading"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PROGRAM</span> <span class="n">PRG_Hutch_Beamline_Valves</span>
<span class="n">VAR</span>
    <span class="n">LAMP_C2_GCC_01</span><span class="p">:</span> <span class="n">FB_MKS500</span><span class="p">;</span> <span class="o">//</span> <span class="n">wrong</span><span class="o">.</span> <span class="n">only</span> <span class="n">need</span> <span class="n">temporary</span> <span class="n">before</span> <span class="n">integrate</span> <span class="k">with</span> <span class="n">LAMP</span>
    <span class="n">xAll_Turbo_isRunning</span> <span class="p">:</span> <span class="n">BOOL</span> <span class="o">:=</span> <span class="kc">False</span><span class="p">;</span>


    <span class="n">ton_PA1K4_IP1_PTM_01_notRunning</span> <span class="p">:</span> <span class="n">TON</span><span class="p">;</span>
    <span class="n">ton_PA1K4_IP1_PTM_02_notRunning</span> <span class="p">:</span> <span class="n">TON</span><span class="p">;</span>
    <span class="n">ton_PA1K4_IP1_PTM_03_notRunning</span> <span class="p">:</span> <span class="n">TON</span><span class="p">;</span>
    <span class="n">ton_IM4K4_PPM_PTM_01_notRunning</span> <span class="p">:</span> <span class="n">TON</span><span class="p">;</span>
    <span class="n">ton_LI1K4_IP1_PTM_01_notRunning</span> <span class="p">:</span> <span class="n">TON</span><span class="p">;</span>
    <span class="n">ton_LI3K4_IP1_OUT_PTM_01_notRunning</span> <span class="p">:</span> <span class="n">TON</span><span class="p">;</span>
    <span class="n">ton_TM1K4_PTM_01_notRunning</span> <span class="p">:</span> <span class="n">TON</span><span class="p">;</span>
    <span class="n">ton_IM5K4_PPM_PTM_01_notRunning</span> <span class="p">:</span> <span class="n">TON</span><span class="p">;</span>

    <span class="n">tDelOK</span>  <span class="p">:</span>       <span class="n">TIME</span> <span class="o">:=</span> <span class="n">T</span><span class="c1">#30S;</span>
    <span class="n">xExtIlkOK</span> <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>

    <span class="n">PA1K4_IP1_PTM_01_isRunning</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
    <span class="n">PA1K4_IP1_PTM_02_isRunning</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
    <span class="n">PA1K4_IP1_PTM_03_isRunning</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
    <span class="n">IM4K4_PPM_PTM_01_isRunning</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
    <span class="n">LI1K4_IP1_PTM_01_isRunning</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
    <span class="n">LI3K4_IP1_OUT_PTM_01_isRunning</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
    <span class="n">TM1K4_PTM_01_isRunning</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
    <span class="n">IM5K4_PPM_PTM_01_isRunning</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>

    <span class="n">xValves_are_OPN_OK</span> <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>

<span class="n">END_VAR</span>
<span class="p">(</span><span class="o">*</span> <span class="n">Beamline</span> <span class="n">window</span> <span class="n">valves</span> <span class="n">use</span> <span class="n">VGC</span> <span class="n">function</span><span class="o">.</span> <span class="n">Valves</span> <span class="n">allow</span> <span class="n">to</span> <span class="nb">open</span> <span class="n">when</span> <span class="n">both</span> <span class="n">upstream</span> <span class="ow">and</span> <span class="n">downstream</span> <span class="n">gauges</span>
    <span class="n">reading</span> <span class="n">pressure</span> <span class="n">below</span> <span class="n">than</span> <span class="n">setpoints</span><span class="p">,</span>  <span class="nb">all</span> <span class="n">turbo</span> <span class="n">pumps</span> <span class="n">are</span> <span class="n">running</span> <span class="ow">and</span> <span class="n">no</span> <span class="n">faults</span><span class="p">,</span> <span class="ow">and</span> <span class="nb">all</span> <span class="n">beamline</span> <span class="n">valves</span>
    <span class="ow">in</span> <span class="n">hutch</span> <span class="n">are</span> <span class="n">OPN_OK</span><span class="o">*</span><span class="p">)</span>

<span class="p">(</span><span class="o">*</span> <span class="n">check</span> <span class="n">turbo</span> <span class="n">pump</span> <span class="n">status</span>  <span class="o">*</span><span class="p">)</span>
<span class="n">PA1K4_IP1_PTM_01_isRunning</span> <span class="o">:=</span> <span class="n">PA1K4_IP1_PTM_01</span><span class="o">.</span><span class="n">iq_stPTM</span><span class="o">.</span><span class="n">eState</span> <span class="o">=</span> <span class="n">E_PumpState</span><span class="o">.</span><span class="n">pumpRUNNING</span><span class="p">;</span>
<span class="n">ton_PA1K4_IP1_PTM_01_notRunning</span><span class="p">(</span><span class="n">IN</span><span class="o">:=</span> <span class="n">NOT</span> <span class="n">PA1K4_IP1_PTM_01_isRunning</span><span class="p">,</span> <span class="n">PT</span><span class="o">:=</span><span class="n">tDelOK</span><span class="p">);</span>

<span class="n">PA1K4_IP1_PTM_02_isRunning</span> <span class="o">:=</span> <span class="n">PA1K4_IP1_PTM_02</span><span class="o">.</span><span class="n">iq_stPTM</span><span class="o">.</span><span class="n">eState</span> <span class="o">=</span> <span class="n">E_PumpState</span><span class="o">.</span><span class="n">pumpRUNNING</span><span class="p">;</span>
<span class="n">ton_PA1K4_IP1_PTM_02_notRunning</span><span class="p">(</span><span class="n">IN</span><span class="o">:=</span> <span class="n">NOT</span> <span class="n">PA1K4_IP1_PTM_02_isRunning</span><span class="p">,</span> <span class="n">PT</span><span class="o">:=</span><span class="n">tDelOK</span><span class="p">);</span>

<span class="n">PA1K4_IP1_PTM_03_isRunning</span> <span class="o">:=</span> <span class="n">PA1K4_IP1_PTM_03</span><span class="o">.</span><span class="n">iq_stPTM</span><span class="o">.</span><span class="n">eState</span> <span class="o">=</span> <span class="n">E_PumpState</span><span class="o">.</span><span class="n">pumpRUNNING</span><span class="p">;</span>
<span class="n">ton_PA1K4_IP1_PTM_03_notRunning</span><span class="p">(</span><span class="n">IN</span><span class="o">:=</span> <span class="n">NOT</span> <span class="n">PA1K4_IP1_PTM_03_isRunning</span><span class="p">,</span> <span class="n">PT</span><span class="o">:=</span><span class="n">tDelOK</span><span class="p">);</span>

<span class="n">IM4K4_PPM_PTM_01_isRunning</span> <span class="o">:=</span> <span class="n">IM4K4_PPM_PTM_01</span><span class="o">.</span><span class="n">iq_stPTM</span><span class="o">.</span><span class="n">eState</span> <span class="o">=</span> <span class="n">E_PumpState</span><span class="o">.</span><span class="n">pumpRUNNING</span><span class="p">;</span>
<span class="n">ton_IM4K4_PPM_PTM_01_notRunning</span><span class="p">(</span><span class="n">IN</span><span class="o">:=</span> <span class="n">NOT</span> <span class="n">IM4K4_PPM_PTM_01_isRunning</span><span class="p">,</span> <span class="n">PT</span><span class="o">:=</span><span class="n">tDelOK</span><span class="p">);</span>

<span class="n">LI1K4_IP1_PTM_01_isRunning</span> <span class="o">:=</span> <span class="n">LI1K4_IP1_PTM_01</span><span class="o">.</span><span class="n">iq_stPTM</span><span class="o">.</span><span class="n">eState</span> <span class="o">=</span> <span class="n">E_PumpState</span><span class="o">.</span><span class="n">pumpRUNNING</span><span class="p">;</span>
<span class="n">ton_LI1K4_IP1_PTM_01_notRunning</span><span class="p">(</span><span class="n">IN</span><span class="o">:=</span> <span class="n">NOT</span> <span class="n">LI1K4_IP1_PTM_01_isRunning</span><span class="p">,</span> <span class="n">PT</span><span class="o">:=</span><span class="n">tDelOK</span><span class="p">);</span>

<span class="n">LI3K4_IP1_OUT_PTM_01_isRunning</span> <span class="o">:=</span> <span class="n">LI3K4_IP1_OUT_PTM_01</span><span class="o">.</span><span class="n">iq_stPTM</span><span class="o">.</span><span class="n">eState</span> <span class="o">=</span> <span class="n">E_PumpState</span><span class="o">.</span><span class="n">pumpRUNNING</span><span class="p">;</span>
<span class="n">ton_LI3K4_IP1_OUT_PTM_01_notRunning</span><span class="p">(</span><span class="n">IN</span><span class="o">:=</span> <span class="n">NOT</span> <span class="n">LI3K4_IP1_OUT_PTM_01_isRunning</span><span class="p">,</span> <span class="n">PT</span><span class="o">:=</span><span class="n">tDelOK</span><span class="p">);</span>

<span class="n">TM1K4_PTM_01_isRunning</span> <span class="o">:=</span> <span class="n">TM1K4_PTM_01</span><span class="o">.</span><span class="n">iq_stPTM</span><span class="o">.</span><span class="n">eState</span> <span class="o">=</span> <span class="n">E_PumpState</span><span class="o">.</span><span class="n">pumpRUNNING</span><span class="p">;</span>
<span class="n">ton_TM1K4_PTM_01_notRunning</span><span class="p">(</span><span class="n">IN</span><span class="o">:=</span> <span class="n">NOT</span> <span class="n">TM1K4_PTM_01_isRunning</span><span class="p">,</span> <span class="n">PT</span><span class="o">:=</span><span class="n">tDelOK</span><span class="p">);</span>

<span class="n">IM5K4_PPM_PTM_01_isRunning</span> <span class="o">:=</span> <span class="n">IM5K4_PPM_PTM_01</span><span class="o">.</span><span class="n">iq_stPTM</span><span class="o">.</span><span class="n">eState</span> <span class="o">=</span> <span class="n">E_PumpState</span><span class="o">.</span><span class="n">pumpRUNNING</span><span class="p">;</span>
<span class="n">ton_IM5K4_PPM_PTM_01_notRunning</span><span class="p">(</span><span class="n">IN</span><span class="o">:=</span> <span class="n">NOT</span> <span class="n">IM5K4_PPM_PTM_01_isRunning</span><span class="p">,</span> <span class="n">PT</span><span class="o">:=</span><span class="n">tDelOK</span><span class="p">);</span>

<span class="n">xTurboFault</span> <span class="o">:=</span> <span class="n">ton_PA1K4_IP1_PTM_01_notRunning</span><span class="o">.</span><span class="n">Q</span> <span class="n">OR</span> <span class="n">ton_PA1K4_IP1_PTM_02_notRunning</span><span class="o">.</span><span class="n">Q</span> <span class="n">OR</span>
               <span class="n">ton_PA1K4_IP1_PTM_03_notRunning</span><span class="o">.</span><span class="n">Q</span> <span class="n">OR</span> <span class="n">ton_IM4K4_PPM_PTM_01_notRunning</span><span class="o">.</span><span class="n">Q</span> <span class="n">OR</span>
               <span class="n">ton_LI1K4_IP1_PTM_01_notRunning</span><span class="o">.</span><span class="n">Q</span> <span class="n">OR</span> <span class="n">ton_LI3K4_IP1_OUT_PTM_01_notRunning</span><span class="o">.</span><span class="n">Q</span> <span class="n">OR</span>
                <span class="n">ton_TM1K4_PTM_01_notRunning</span><span class="o">.</span><span class="n">Q</span> <span class="n">OR</span> <span class="n">ton_IM5K4_PPM_PTM_01_notRunning</span><span class="o">.</span><span class="n">Q</span>
                <span class="n">OR</span> <span class="n">NOT</span> <span class="n">IP1_TURBOS_ALL_AtSpd</span><span class="p">;</span>

<span class="p">(</span><span class="o">*</span> <span class="n">check</span> <span class="n">beamline</span> <span class="n">valve</span> <span class="n">OPEN</span> <span class="n">permit</span> <span class="o">*</span><span class="p">)</span>
<span class="p">(</span><span class="o">*</span><span class="n">xValves_are_OPN_OK</span> <span class="o">:=</span>  <span class="n">MR2K4_KBO_VWC_01</span><span class="o">.</span><span class="n">iq_stValve</span><span class="o">.</span><span class="n">xOPN_OK</span> <span class="n">AND</span> <span class="n">MR3K4_KBO_VWC_01</span><span class="o">.</span><span class="n">iq_stValve</span><span class="o">.</span><span class="n">xOPN_OK</span> <span class="n">AND</span>
                       <span class="n">LI3K4_IP1_VWC_01</span><span class="o">.</span><span class="n">iq_stValve</span><span class="o">.</span><span class="n">xOPN_OK</span> <span class="n">AND</span> <span class="n">PC5K4_VWC_01</span><span class="o">.</span><span class="n">iq_stValve</span><span class="o">.</span><span class="n">xOPN_OK</span> <span class="p">;</span> <span class="o">*</span><span class="p">)</span>

<span class="p">(</span><span class="o">*</span><span class="k">if</span> <span class="ow">not</span> <span class="nb">all</span> <span class="n">beamline</span> <span class="n">valves</span> <span class="n">are</span> <span class="n">OPN_OK</span><span class="p">,</span> <span class="n">close</span> <span class="nb">all</span> <span class="n">beamline</span> <span class="n">valves</span><span class="o">*</span><span class="p">)</span>
<span class="p">(</span><span class="o">*</span><span class="n">IF</span> <span class="n">NOT</span> <span class="n">xValves_are_OPN_OK</span> <span class="n">Then</span>
    <span class="n">MR2K4_KBO_VWC_01</span><span class="o">.</span><span class="n">M_Set_OPN_SW</span><span class="p">(</span><span class="n">false</span><span class="p">);</span>
    <span class="n">MR3K4_KBO_VWC_01</span><span class="o">.</span><span class="n">M_Set_OPN_SW</span><span class="p">(</span><span class="n">false</span><span class="p">);</span>
    <span class="n">LI3K4_IP1_VWC_01</span><span class="o">.</span><span class="n">M_Set_OPN_SW</span><span class="p">(</span><span class="n">false</span><span class="p">);</span>
    <span class="n">PC5K4_VWC_01</span><span class="o">.</span><span class="n">M_Set_OPN_SW</span><span class="p">(</span><span class="n">false</span><span class="p">);</span>
    <span class="n">xBeamlineValveFault</span> <span class="o">:=</span> <span class="kc">True</span><span class="p">;</span>
<span class="n">ElSE</span>
   <span class="n">xBeamlineValveFault</span> <span class="o">:=</span> <span class="kc">False</span><span class="p">;</span>
<span class="n">END_IF</span>
<span class="o">*</span><span class="p">)</span>



<span class="n">MR2K4_KBO_VWC_01</span><span class="p">(</span>
                <span class="n">i_stUSG</span> <span class="o">:=</span> <span class="n">PC4K4_XTES_GCC_01</span><span class="o">.</span><span class="n">IG</span><span class="p">,</span>
                <span class="n">i_stDSG</span><span class="o">:=</span> <span class="n">MR2K4_KBO_GCC_01</span><span class="o">.</span><span class="n">IG</span><span class="p">,</span>
                <span class="n">i_xDis_DPIlk</span> <span class="o">:=</span> <span class="n">FALSE</span><span class="p">,</span>
                <span class="n">i_xEPS_OK</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span>
                <span class="n">i_xPMPS_OK</span> <span class="o">:=</span> <span class="n">TRUE</span> <span class="p">,</span>
                <span class="n">i_xExt_OK</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span> <span class="o">//</span> <span class="n">James</span> <span class="n">request</span> <span class="n">on</span> <span class="n">Feb</span> <span class="mi">2025</span>
                <span class="n">i_xOverrideMode</span> <span class="o">:=</span> <span class="n">xSystemOverrideMode_TMO</span><span class="p">,</span>
                <span class="n">i_xReset</span> <span class="o">:=</span> <span class="n">xReset_PMPS_FFO2</span><span class="p">,</span>
                <span class="n">iq_stValve</span> <span class="o">=&gt;</span><span class="p">,</span>
                <span class="n">io_fbFFHWO</span> <span class="o">:=</span><span class="n">g_FastFaultOutput2</span><span class="p">,</span>
                <span class="n">fbArbiter</span> <span class="o">:=</span> <span class="n">g_fbArbiter2</span><span class="p">,</span>
                <span class="n">i_nTransitionRootID</span> <span class="o">:=</span> <span class="mi">47632</span><span class="p">,</span>
                <span class="n">i_sDevName</span> <span class="o">:=</span> <span class="s1">&#39;MR2K4-KBO-VWC-01&#39;</span>

<span class="p">);</span>


<span class="n">MR3K4_KBO_VWC_01</span><span class="p">(</span>
                <span class="n">i_stUSG</span> <span class="o">:=</span> <span class="n">MR2K4_KBO_GCC_01</span><span class="o">.</span><span class="n">IG</span><span class="p">,</span>
                <span class="n">i_stDSG</span><span class="o">:=</span> <span class="n">PA1K4_IP1_GCC_01</span><span class="o">.</span><span class="n">IG</span><span class="p">,</span>
                <span class="n">i_xDis_DPIlk</span> <span class="o">:=</span> <span class="n">FALSE</span><span class="p">,</span>
                <span class="n">i_xEPS_OK</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span>
                <span class="n">i_xPMPS_OK</span> <span class="o">:=</span> <span class="n">TRUE</span> <span class="p">,</span>
                <span class="n">i_xExt_OK</span> <span class="o">:=</span> <span class="n">NOT</span> <span class="n">xTurboFault</span> <span class="n">AND</span> <span class="n">MR3K4_KBO_VFS_Interface</span><span class="o">.</span><span class="n">i_xVAC_FAULT_OK</span><span class="p">,</span>
                <span class="n">i_xOverrideMode</span> <span class="o">:=</span> <span class="n">xSystemOverrideMode_TMO</span><span class="p">,</span>
                <span class="n">i_xReset</span> <span class="o">:=</span> <span class="n">xReset_PMPS_FFO2</span><span class="p">,</span>
                <span class="n">iq_stValve</span> <span class="o">=&gt;</span><span class="p">,</span>
                <span class="n">io_fbFFHWO</span> <span class="o">:=</span><span class="n">g_FastFaultOutput2</span><span class="p">,</span>
                <span class="n">fbArbiter</span> <span class="o">:=</span> <span class="n">g_fbArbiter2</span><span class="p">,</span>
                <span class="n">i_nTransitionRootID</span> <span class="o">:=</span> <span class="mi">47648</span><span class="p">,</span>
                <span class="n">i_sDevName</span> <span class="o">:=</span> <span class="s1">&#39;MR3K4-KBO-VWC-01&#39;</span>

<span class="p">);</span>

<span class="n">LI3K4_IP1_VWC_01</span><span class="p">(</span>
                <span class="n">i_stUSG</span> <span class="o">:=</span> <span class="n">IP1_MAIN_GAUGE</span><span class="o">.</span><span class="n">VG</span><span class="p">,</span>
                <span class="n">i_stDSG</span><span class="o">:=</span> <span class="n">IM5K4_PPM_GCC_01</span><span class="o">.</span><span class="n">IG</span><span class="p">,</span>
                <span class="n">i_xDis_DPIlk</span> <span class="o">:=</span> <span class="n">FALSE</span><span class="p">,</span>
                <span class="n">i_xEPS_OK</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span>
                <span class="n">i_xPMPS_OK</span> <span class="o">:=</span> <span class="n">TRUE</span> <span class="p">,</span>
                <span class="n">i_xExt_OK</span> <span class="o">:=</span> <span class="n">NOT</span> <span class="n">xTurboFault</span><span class="p">,</span>
                <span class="n">i_xOverrideMode</span> <span class="o">:=</span> <span class="n">xSystemOverrideMode_TMO</span><span class="p">,</span>
                <span class="n">i_xReset</span> <span class="o">:=</span> <span class="n">xReset_PMPS_FFO2</span><span class="p">,</span>
                <span class="n">iq_stValve</span> <span class="o">=&gt;</span><span class="p">,</span>
                <span class="n">io_fbFFHWO</span> <span class="o">:=</span><span class="n">g_FastFaultOutput2</span><span class="p">,</span>
                <span class="n">fbArbiter</span> <span class="o">:=</span> <span class="n">g_fbArbiter2</span><span class="p">,</span>
                <span class="n">i_nTransitionRootID</span> <span class="o">:=</span> <span class="mi">47664</span><span class="p">,</span>
                <span class="n">i_sDevName</span> <span class="o">:=</span> <span class="s1">&#39;LI3K4-IP1-VWC-01&#39;</span>
<span class="p">);</span>

<span class="n">PC5K4_VWC_01</span><span class="p">(</span>
                <span class="n">i_stUSG</span> <span class="o">:=</span> <span class="n">IM5K4_PPM_GCC_01</span><span class="o">.</span><span class="n">IG</span><span class="p">,</span>
                <span class="n">i_stDSG</span><span class="o">:=</span> <span class="n">PA2K4_IP1_GCC_01</span><span class="o">.</span><span class="n">IG</span><span class="p">,</span>
                <span class="n">i_xDis_DPIlk</span> <span class="o">:=</span> <span class="n">FALSE</span><span class="p">,</span>
                <span class="n">i_xEPS_OK</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span>
                <span class="n">i_xPMPS_OK</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span>
                <span class="n">i_xExt_OK</span> <span class="o">:=</span> <span class="n">NOT</span> <span class="n">xTurboFault</span><span class="p">,</span>
                <span class="n">i_xOverrideMode</span> <span class="o">:=</span> <span class="n">xSystemOverrideMode_TMO</span><span class="p">,</span>
                <span class="n">i_xReset</span> <span class="o">:=</span> <span class="n">xReset_PMPS_FFO5</span><span class="p">,</span>
                <span class="n">iq_stValve</span> <span class="o">=&gt;</span><span class="p">,</span>
                <span class="n">io_fbFFHWO</span> <span class="o">:=</span><span class="n">g_FastFaultOutput5</span><span class="p">,</span>
                <span class="n">fbArbiter</span> <span class="o">:=</span> <span class="n">g_fbArbiter3</span><span class="p">,</span>
                <span class="n">i_nTransitionRootID</span> <span class="o">:=</span> <span class="mi">47680</span><span class="p">,</span>
                <span class="n">i_sDevName</span> <span class="o">:=</span> <span class="s1">&#39;PC5K4-VWC-01&#39;</span>
<span class="p">);</span>

<span class="n">MR4K4_KBO_VWC_01</span><span class="p">(</span>
                <span class="n">i_stUSG</span> <span class="o">:=</span> <span class="n">PA2K4_IP1_GCC_01</span><span class="o">.</span><span class="n">IG</span><span class="p">,</span>
                <span class="n">i_stDSG</span><span class="o">:=</span> <span class="n">MR4K4_KBO_GCC_01</span><span class="o">.</span><span class="n">IG</span><span class="p">,</span>
                <span class="n">i_xDis_DPIlk</span> <span class="o">:=</span> <span class="n">FALSE</span><span class="p">,</span>
                <span class="n">i_xEPS_OK</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span>
                <span class="n">i_xPMPS_OK</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span>
                <span class="n">i_xExt_OK</span> <span class="o">:=</span> <span class="n">NOT</span> <span class="n">xTurboFault</span><span class="p">,</span>
                <span class="n">i_xOverrideMode</span> <span class="o">:=</span> <span class="n">xSystemOverrideMode_TMO</span><span class="p">,</span>
                <span class="n">i_xReset</span> <span class="o">:=</span> <span class="n">xReset_PMPS_FFO2</span><span class="p">,</span>
                <span class="n">iq_stValve</span> <span class="o">=&gt;</span><span class="p">,</span>
                <span class="n">io_fbFFHWO</span> <span class="o">:=</span><span class="n">g_FastFaultOutput5</span><span class="p">,</span>
                <span class="n">fbArbiter</span> <span class="o">:=</span> <span class="n">g_fbArbiter3</span><span class="p">,</span>
                <span class="n">i_nTransitionRootID</span> <span class="o">:=</span> <span class="mi">47696</span><span class="p">,</span>
                <span class="n">i_sDevName</span> <span class="o">:=</span> <span class="s1">&#39;MR4K4-KBO-VWC-01&#39;</span>
<span class="p">);</span>
<span class="o">//</span> <span class="n">when</span> <span class="n">dream</span> <span class="n">arrives</span><span class="p">,</span> <span class="n">this</span> <span class="n">needs</span> <span class="n">to</span> <span class="n">be</span> <span class="n">changes</span> <span class="n">to</span> <span class="n">dream</span> <span class="n">gauge</span><span class="p">(</span><span class="n">downstream</span><span class="p">)</span>
<span class="n">MR5K4_KBO_VWC_01</span><span class="p">(</span>
                <span class="n">i_stUSG</span> <span class="o">:=</span> <span class="n">MR4K4_KBO_GCC_01</span><span class="o">.</span><span class="n">IG</span><span class="p">,</span>
                <span class="n">i_stDSG</span> <span class="o">:=</span> <span class="n">stDreamMainGauge</span><span class="p">,</span>
                <span class="n">i_xDis_DPIlk</span> <span class="o">:=</span> <span class="n">FALSE</span><span class="p">,</span>
                <span class="n">i_xEPS_OK</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span>
                <span class="n">i_xPMPS_OK</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span>
                <span class="n">i_xExt_OK</span> <span class="o">:=</span> <span class="n">NOT</span> <span class="n">xTurboFault</span><span class="p">,</span>
                <span class="n">i_xOverrideMode</span> <span class="o">:=</span> <span class="n">xSystemOverrideMode_TMO</span><span class="p">,</span>
                <span class="n">i_xReset</span> <span class="o">:=</span> <span class="n">xReset_PMPS_FFO2</span><span class="p">,</span>
                <span class="n">iq_stValve</span> <span class="o">=&gt;</span><span class="p">,</span>
                <span class="n">io_fbFFHWO</span> <span class="o">:=</span><span class="n">g_FastFaultOutput5</span><span class="p">,</span>
                <span class="n">fbArbiter</span> <span class="o">:=</span> <span class="n">g_fbArbiter3</span><span class="p">,</span>
                <span class="n">i_nTransitionRootID</span> <span class="o">:=</span> <span class="mi">47697</span><span class="p">,</span>
                <span class="n">i_sDevName</span> <span class="o">:=</span> <span class="s1">&#39;MR5K4-KBO-VWC-01&#39;</span>
<span class="p">);</span>
<span class="o">//</span><span class="n">Currently</span> <span class="n">there</span> <span class="ow">is</span> <span class="n">no</span> <span class="n">dream</span><span class="p">,</span> <span class="n">so</span> <span class="n">TM2K4</span> <span class="n">valve</span> <span class="ow">is</span> <span class="n">always</span> <span class="nb">open</span> <span class="n">during</span> <span class="n">this</span> <span class="n">configuration</span>
<span class="n">TM2K4_KBO_VWC_01</span><span class="p">(</span>
                <span class="n">i_stUSG</span> <span class="o">:=</span> <span class="n">stDreamMainGauge</span><span class="p">,</span>
                <span class="n">i_stDSG</span> <span class="o">:=</span> <span class="n">TM2K4_KBO_GCC_01</span><span class="o">.</span><span class="n">IG</span><span class="p">,</span>
                <span class="n">i_xDis_DPIlk</span> <span class="o">:=</span> <span class="n">FALSE</span><span class="p">,</span>
                <span class="n">i_xEPS_OK</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span>
                <span class="n">i_xPMPS_OK</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span>
                <span class="n">i_xExt_OK</span> <span class="o">:=</span> <span class="n">NOT</span> <span class="n">xTurboFault</span><span class="p">,</span>
                <span class="n">i_xOverrideMode</span> <span class="o">:=</span> <span class="n">xSystemOverrideMode_TMO</span><span class="p">,</span>
                <span class="n">i_xReset</span> <span class="o">:=</span> <span class="n">xReset_PMPS_FFO5</span><span class="p">,</span>
                <span class="n">iq_stValve</span> <span class="o">=&gt;</span><span class="p">,</span>
                <span class="n">io_fbFFHWO</span> <span class="o">:=</span><span class="n">g_FastFaultOutput5</span><span class="p">,</span>
                <span class="n">fbArbiter</span> <span class="o">:=</span> <span class="n">g_fbArbiter3</span><span class="p">,</span>
                <span class="n">i_nTransitionRootID</span> <span class="o">:=</span> <span class="mi">47698</span><span class="p">,</span>
                <span class="n">i_sDevName</span> <span class="o">:=</span> <span class="s1">&#39;TM2K4-KBO-VWC-01&#39;</span>
<span class="p">);</span>

<span class="o">//</span><span class="n">VFV</span> <span class="n">Valves</span> <span class="n">James</span> <span class="n">request</span> <span class="n">to</span> <span class="n">change</span> <span class="n">on</span> <span class="n">Feb</span> <span class="mi">2025</span>
<span class="n">TMO_ROUGH1_VFV_01</span><span class="p">(</span><span class="n">i_xExtIlkOK</span> <span class="o">:=</span> <span class="n">FALSE</span><span class="p">);</span>
<span class="n">TMO_ROUGH1_VFV_02</span><span class="p">(</span><span class="n">i_xExtIlkOK</span> <span class="o">:=</span> <span class="n">TMO_ROUGH1_VRC_01</span><span class="o">.</span><span class="n">M_IsClosed</span><span class="p">()</span> <span class="n">AND</span> <span class="n">TMO_ROUGH2_VRC_01</span><span class="o">.</span><span class="n">M_IsClosed</span><span class="p">()</span> <span class="n">AND</span> <span class="n">MR3K4_KBO_VWC_01</span><span class="o">.</span><span class="n">M_IsClosed</span><span class="p">()</span> <span class="n">AND</span> <span class="n">LI3K4_IP1_VWC_01</span><span class="o">.</span><span class="n">M_IsClosed</span><span class="p">());</span>
<span class="n">TMO_ROUGH1_VFV_03</span><span class="p">(</span><span class="n">i_xExtIlkOK</span> <span class="o">:=</span> <span class="n">TMO_ROUGH1_VRC_02</span><span class="o">.</span><span class="n">M_IsClosed</span><span class="p">()</span><span class="n">AND</span> <span class="n">MR3K4_KBO_VWC_01</span><span class="o">.</span><span class="n">M_IsClosed</span><span class="p">()</span> <span class="n">AND</span> <span class="n">LI3K4_IP1_VWC_01</span><span class="o">.</span><span class="n">M_IsClosed</span><span class="p">()</span> <span class="n">AND</span> <span class="n">PC5K4_VWC_01</span><span class="o">.</span><span class="n">M_IsClosed</span><span class="p">());</span>
<span class="o">//</span><span class="n">TMO_ROUGH2_VFV_01</span><span class="p">(</span><span class="n">i_xExtIlkOK</span> <span class="o">:=</span> <span class="n">TMO_ROUGH1_VRC_01</span><span class="o">.</span><span class="n">M_IsClosed</span><span class="p">()</span> <span class="n">AND</span> <span class="n">TMO_ROUGH2_VRC_01</span><span class="o">.</span><span class="n">M_IsClosed</span><span class="p">());</span>
<span class="n">IF</span> <span class="n">IP1_ECAT_COM_ERROR</span> <span class="n">THEN</span> <span class="o">//</span><span class="n">If</span> <span class="n">IP1</span> <span class="ow">and</span> <span class="n">Tmo</span> <span class="n">beamline</span> <span class="n">detect</span> <span class="n">communication</span> <span class="n">error</span><span class="p">,</span><span class="n">assuming</span> <span class="n">IP1_ROUGH_VRC_02</span> <span class="nb">open</span><span class="p">,</span> <span class="n">tend</span> <span class="n">to</span> <span class="n">vent</span> <span class="n">entire</span> <span class="n">end</span> <span class="n">station</span>
    <span class="n">TMO_ROUGH2_VFV_01</span><span class="p">(</span><span class="n">i_xExtIlkOK</span> <span class="o">:=</span> <span class="n">TMO_ROUGH1_VRC_01</span><span class="o">.</span><span class="n">M_IsClosed</span><span class="p">()</span> <span class="n">AND</span> <span class="n">TMO_ROUGH2_VRC_01</span><span class="o">.</span><span class="n">M_IsClosed</span><span class="p">()</span><span class="n">AND</span> <span class="n">MR3K4_KBO_VWC_01</span><span class="o">.</span><span class="n">M_IsClosed</span><span class="p">()</span> <span class="n">AND</span> <span class="n">LI3K4_IP1_VWC_01</span><span class="o">.</span><span class="n">M_IsClosed</span><span class="p">());</span>
<span class="n">ELSIF</span> <span class="p">(</span><span class="n">IP1_ROUGH_VRC_02_AtOpnLS</span> <span class="p">)</span><span class="n">THEN</span> <span class="o">//</span> <span class="n">vent</span> <span class="n">entire</span> <span class="n">end</span> <span class="n">station</span>
     <span class="n">TMO_ROUGH2_VFV_01</span><span class="p">(</span><span class="n">i_xExtIlkOK</span> <span class="o">:=</span> <span class="n">TMO_ROUGH1_VRC_01</span><span class="o">.</span><span class="n">M_IsClosed</span><span class="p">()</span> <span class="n">AND</span> <span class="n">TMO_ROUGH2_VRC_01</span><span class="o">.</span><span class="n">M_IsClosed</span><span class="p">()</span><span class="n">AND</span> <span class="n">MR3K4_KBO_VWC_01</span><span class="o">.</span><span class="n">M_IsClosed</span><span class="p">()</span> <span class="n">AND</span> <span class="n">LI3K4_IP1_VWC_01</span><span class="o">.</span><span class="n">M_IsClosed</span><span class="p">());</span>
    <span class="n">ELSE</span> <span class="o">//</span><span class="n">vent</span> <span class="n">part</span> <span class="n">of</span> <span class="n">the</span> <span class="n">IP1</span> <span class="n">when</span> <span class="n">IP1_ROUGH_VRC_02</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">open</span>
     <span class="n">TMO_ROUGH2_VFV_01</span><span class="p">(</span><span class="n">i_xExtIlkOK</span> <span class="o">:=</span> <span class="n">TMO_ROUGH2_VRC_01</span><span class="o">.</span><span class="n">M_IsClosed</span><span class="p">());</span>
<span class="n">END_IF</span>

<span class="o">//</span><span class="n">MR5K4</span> <span class="ow">and</span> <span class="n">TM2K4</span> <span class="n">Inteface</span> <span class="k">with</span> <span class="n">DREAM</span>
<span class="o">//</span><span class="n">Close</span> <span class="n">window</span> <span class="n">valve</span> <span class="kn">from</span><span class="w"> </span><span class="nn">DREAM</span> <span class="n">PLC</span>
<span class="n">IF</span> <span class="n">bCLOSE_TMO_MR5K4_VWC</span> <span class="n">THEN</span>
    <span class="n">MR5K4_KBO_VWC_01</span><span class="o">.</span><span class="n">M_Set_OPN_SW</span><span class="p">(</span><span class="n">FALSE</span><span class="p">);</span>
<span class="n">END_IF</span>

<span class="n">IF</span> <span class="n">bCLOSE_TMO_TM2K4_VWC</span> <span class="n">THEN</span>
    <span class="n">TM2K4_KBO_VWC_01</span><span class="o">.</span><span class="n">M_Set_OPN_SW</span><span class="p">(</span><span class="n">FALSE</span><span class="p">);</span>
<span class="n">END_IF</span>

<span class="o">//</span><span class="n">Send</span> <span class="n">innformation</span> <span class="n">about</span> <span class="n">limit</span> <span class="n">switch</span> <span class="n">to</span> <span class="n">DREAM</span> <span class="n">PLC</span>
<span class="n">bTMO_MR5K4_VWC_CLOSED_LS</span> <span class="o">:=</span> <span class="n">MR5K4_KBO_VWC_01</span><span class="o">.</span><span class="n">iq_stValve</span><span class="o">.</span><span class="n">i_xClsLS</span><span class="p">;</span>
<span class="n">bTMO_TM2K4_VWC_CLOSED_LS</span> <span class="o">:=</span> <span class="n">TM2K4_KBO_VWC_01</span><span class="o">.</span><span class="n">iq_stValve</span><span class="o">.</span><span class="n">i_xClsLS</span><span class="p">;</span>
<span class="n">bTMO_MR5K4_VWC_OPEN_LS</span>      <span class="o">:=</span> <span class="n">MR5K4_KBO_VWC_01</span><span class="o">.</span><span class="n">iq_stValve</span><span class="o">.</span><span class="n">i_xOpnLS</span><span class="p">;</span>
<span class="n">bTMO_TM2K4_VWC_OPEN_LS</span>      <span class="o">:=</span> <span class="n">TM2K4_KBO_VWC_01</span><span class="o">.</span><span class="n">iq_stValve</span><span class="o">.</span><span class="n">i_xOpnLS</span><span class="p">;</span>

<span class="n">END_PROGRAM</span>
</pre></div>
</div>
</section>
<section id="prg-hutch-gauges">
<h2>PRG_Hutch_Gauges<a class="headerlink" href="#prg-hutch-gauges" title="Link to this heading"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PROGRAM</span> <span class="n">PRG_Hutch_Gauges</span>
<span class="n">VAR</span>
<span class="n">END_VAR</span>
<span class="p">(</span><span class="o">*</span> <span class="n">Roughing</span> <span class="n">Gauges</span> <span class="o">*</span><span class="p">)</span>
    <span class="n">TMO_ROUGH1_GPI_01</span><span class="o">.</span><span class="n">M_SetBits</span><span class="p">(</span><span class="mi">32767</span><span class="p">);</span>
    <span class="n">TMO_ROUGH1_GPI_01</span><span class="p">(</span><span class="n">PG</span><span class="o">=&gt;</span><span class="p">);</span>

    <span class="n">TMO_ROUGH1_GPI_02</span><span class="o">.</span><span class="n">M_SetBits</span><span class="p">(</span><span class="mi">32767</span><span class="p">);</span>
    <span class="n">TMO_ROUGH1_GPI_02</span><span class="p">(</span><span class="n">PG</span><span class="o">=&gt;</span><span class="p">);</span>

    <span class="n">TMO_ROUGH1_GPI_03</span><span class="o">.</span><span class="n">M_SetBits</span><span class="p">(</span><span class="mi">32767</span><span class="p">);</span>
    <span class="n">TMO_ROUGH1_GPI_03</span><span class="p">(</span><span class="n">PG</span><span class="o">=&gt;</span><span class="p">);</span>

    <span class="n">TMO_ROUGH2_GPI_01</span><span class="o">.</span><span class="n">M_SetBits</span><span class="p">(</span><span class="mi">32767</span><span class="p">);</span>
    <span class="n">TMO_ROUGH2_GPI_01</span><span class="p">(</span><span class="n">PG</span><span class="o">=&gt;</span><span class="p">);</span>

    <span class="n">TMO_ROUGH2_GPI_02</span><span class="o">.</span><span class="n">M_SetBits</span><span class="p">(</span><span class="mi">32767</span><span class="p">);</span>
    <span class="n">TMO_ROUGH2_GPI_02</span><span class="p">(</span><span class="n">PG</span><span class="o">=&gt;</span><span class="p">);</span>




<span class="p">(</span><span class="o">*</span> <span class="n">Beamline</span> <span class="n">Pirani</span> <span class="o">&amp;</span> <span class="n">Cold</span> <span class="n">Cathode</span><span class="o">*</span><span class="p">)</span>
    <span class="n">MR2K4_KBO_GPI_01</span><span class="o">.</span><span class="n">M_SetBits</span><span class="p">(</span><span class="mi">30518</span><span class="p">);</span>
    <span class="n">MR2K4_KBO_GPI_01</span><span class="p">();</span>

    <span class="n">MR2K4_KBO_GCC_01</span><span class="o">.</span><span class="n">M_SetBits</span><span class="p">(</span><span class="mi">30518</span><span class="p">);</span>
    <span class="n">MR2K4_KBO_GCC_01</span><span class="p">(</span><span class="n">PG</span><span class="o">:=</span><span class="n">MR2K4_KBO_GPI_01</span><span class="o">.</span><span class="n">PG</span> <span class="p">,</span> <span class="n">IG</span><span class="o">=&gt;</span> <span class="p">);</span>

    <span class="n">PA1K4_IP1_GPI_01</span><span class="o">.</span><span class="n">M_SetBits</span><span class="p">(</span><span class="mi">30518</span><span class="p">);</span>
    <span class="n">PA1K4_IP1_GPI_01</span><span class="p">();</span>

    <span class="n">PA1K4_IP1_GCC_01</span><span class="o">.</span><span class="n">M_SetBits</span><span class="p">(</span><span class="mi">30518</span><span class="p">);</span>
    <span class="n">PA1K4_IP1_GCC_01</span><span class="p">(</span><span class="n">PG</span><span class="o">:=</span><span class="n">PA1K4_IP1_GPI_01</span><span class="o">.</span><span class="n">PG</span> <span class="p">,</span> <span class="n">IG</span><span class="o">=&gt;</span> <span class="p">);</span>

    <span class="n">IM4K4_PPM_GCC_01</span><span class="o">.</span><span class="n">M_SetBits</span><span class="p">(</span><span class="mi">30518</span><span class="p">);</span>
    <span class="n">IM4K4_PPM_GCC_01</span><span class="p">(</span><span class="n">PG</span><span class="o">:=</span><span class="n">PA1K4_IP1_GPI_01</span><span class="o">.</span><span class="n">PG</span> <span class="p">,</span> <span class="n">IG</span><span class="o">=&gt;</span> <span class="p">);</span>

    <span class="n">LI2K4_IP1_GFS_01</span><span class="p">(</span><span class="n">PG</span><span class="o">:=</span><span class="n">PA1K4_IP1_GPI_01</span><span class="o">.</span><span class="n">PG</span> <span class="p">,</span> <span class="n">IG</span><span class="o">=&gt;</span> <span class="p">);</span>
    <span class="n">LI2K4_IP1_GFS_02</span><span class="p">(</span><span class="n">PG</span><span class="o">:=</span><span class="n">PA1K4_IP1_GPI_01</span><span class="o">.</span><span class="n">PG</span> <span class="p">,</span> <span class="n">IG</span><span class="o">=&gt;</span> <span class="p">);</span>
    <span class="n">LI2K4_IP1_GFS_03</span><span class="p">(</span><span class="n">PG</span><span class="o">:=</span><span class="n">PA1K4_IP1_GPI_01</span><span class="o">.</span><span class="n">PG</span> <span class="p">,</span> <span class="n">IG</span><span class="o">=&gt;</span> <span class="p">);</span>

    <span class="n">TM1K4_GCC_01</span><span class="o">.</span><span class="n">M_SetBits</span><span class="p">(</span><span class="mi">30518</span><span class="p">);</span>
    <span class="n">TM1K4_GCC_01</span><span class="p">(</span><span class="n">PG</span><span class="o">:=</span><span class="n">TMO_ROUGH1_GPI_03</span><span class="o">.</span><span class="n">PG</span> <span class="p">,</span> <span class="n">IG</span><span class="o">=&gt;</span> <span class="p">);</span>

    <span class="n">IM5K4_PPM_GPI_01</span><span class="o">.</span><span class="n">M_SetBits</span><span class="p">(</span><span class="mi">30518</span><span class="p">);</span>
    <span class="n">IM5K4_PPM_GPI_01</span><span class="p">();</span>

    <span class="n">IM5K4_PPM_GCC_01</span><span class="o">.</span><span class="n">M_SetBits</span><span class="p">(</span><span class="mi">30518</span><span class="p">);</span>
<span class="o">//</span>    <span class="n">IM5K4_PPM_GCC_01</span><span class="p">(</span><span class="n">PG</span><span class="o">:=</span><span class="n">TMO_ROUGH1_GPI_03</span><span class="o">.</span><span class="n">PG</span> <span class="p">,</span> <span class="n">IG</span><span class="o">=&gt;</span> <span class="p">);</span>
    <span class="n">IM5K4_PPM_GCC_01</span><span class="p">(</span><span class="n">PG</span><span class="o">:=</span> <span class="n">IM5K4_PPM_GPI_01</span><span class="o">.</span><span class="n">PG</span> <span class="p">,</span> <span class="n">IG</span><span class="o">=&gt;</span> <span class="p">);</span>
    <span class="n">PA2K4_IP1_GPI_01</span><span class="o">.</span><span class="n">M_SetBits</span><span class="p">(</span><span class="mi">30518</span><span class="p">);</span>
    <span class="n">PA2K4_IP1_GPI_01</span><span class="p">();</span>

    <span class="n">PA2K4_IP1_GCC_01</span><span class="o">.</span><span class="n">M_SetBits</span><span class="p">(</span><span class="mi">30518</span><span class="p">);</span>
    <span class="n">PA2K4_IP1_GCC_01</span><span class="p">(</span><span class="n">PG</span><span class="o">:=</span><span class="n">PA2K4_IP1_GPI_01</span><span class="o">.</span><span class="n">PG</span> <span class="p">,</span> <span class="n">IG</span><span class="o">=&gt;</span> <span class="p">);</span>

    <span class="n">MR4K4_KBO_GPI_01</span><span class="o">.</span><span class="n">M_SetBits</span><span class="p">(</span><span class="mi">30518</span><span class="p">);</span>
    <span class="n">MR4K4_KBO_GPI_01</span><span class="p">();</span>

    <span class="n">MR4K4_KBO_GCC_01</span><span class="o">.</span><span class="n">M_SetBits</span><span class="p">(</span><span class="mi">30518</span><span class="p">);</span>
    <span class="n">MR4K4_KBO_GCC_01</span><span class="p">(</span><span class="n">PG</span><span class="o">:=</span><span class="n">MR4K4_KBO_GPI_01</span><span class="o">.</span><span class="n">PG</span> <span class="p">,</span> <span class="n">IG</span><span class="o">=&gt;</span> <span class="p">);</span>

    <span class="n">TM2K4_KBO_GCC_01</span><span class="o">.</span><span class="n">M_SetBits</span><span class="p">(</span><span class="mi">30518</span><span class="p">);</span>
    <span class="n">TM2K4_KBO_GCC_01</span><span class="p">(</span><span class="n">PG</span><span class="o">:=</span><span class="n">TM2K4_KBO_GPI_01</span><span class="o">.</span><span class="n">PG</span> <span class="p">,</span> <span class="n">IG</span><span class="o">=&gt;</span> <span class="p">);</span>

    <span class="n">TM2K4_KBO_GPI_01</span><span class="o">.</span><span class="n">M_SetBits</span><span class="p">(</span><span class="mi">30518</span><span class="p">);</span>
    <span class="n">TM2K4_KBO_GPI_01</span><span class="p">();</span>

    <span class="n">PF2K4_WFS_GCC_01</span><span class="o">.</span><span class="n">M_SetBits</span><span class="p">(</span><span class="mi">30518</span><span class="p">);</span>
    <span class="n">PF2K4_WFS_GCC_01</span><span class="p">(</span><span class="n">PG</span><span class="o">:=</span><span class="n">TM2K4_KBO_GPI_01</span><span class="o">.</span><span class="n">PG</span> <span class="p">,</span> <span class="n">IG</span><span class="o">=&gt;</span> <span class="p">);</span>

    <span class="o">//</span><span class="n">Read</span> <span class="n">IP1</span> <span class="n">main</span> <span class="n">chamber</span> <span class="n">pressure</span>
    <span class="n">IP1_MAIN_GAUGE</span><span class="p">(</span> <span class="n">VG</span><span class="o">=&gt;</span> <span class="p">);</span>

    <span class="o">//</span><span class="n">Read</span> <span class="n">DREAM</span> <span class="n">main</span> <span class="n">chamber</span> <span class="n">pressure</span>
    <span class="n">IF</span> <span class="n">bDREAM_ECAT_COM_ERROR</span> <span class="n">THEN</span>
        <span class="n">stDreamMainGauge</span><span class="o">.</span><span class="n">xAT_VAC</span> <span class="o">:=</span> <span class="n">FALSE</span><span class="p">;</span>
        <span class="n">stDreamMainGauge</span><span class="o">.</span><span class="n">xPRESS_OK</span> <span class="o">:=</span> <span class="n">FALSE</span><span class="p">;</span>
        <span class="n">stDreamMainGauge</span><span class="o">.</span><span class="n">rPRESS</span> <span class="o">:=</span> <span class="mf">0.0</span><span class="p">;</span>
    <span class="n">ELSE</span>
        <span class="n">DREAM_MAIN_GAUGE</span><span class="p">(</span><span class="n">VG</span> <span class="o">=&gt;</span> <span class="n">stDreamMainGauge</span><span class="p">);</span>
    <span class="n">END_IF</span>


<span class="p">(</span><span class="o">*</span> <span class="n">Auto</span> <span class="n">switch</span> <span class="n">on</span> <span class="n">cold</span> <span class="n">cathode</span> <span class="n">gauges</span> <span class="k">if</span> <span class="n">interlock</span> <span class="n">permits</span> <span class="o">*</span><span class="p">)</span>

<span class="n">If</span> <span class="n">xGCC_Enable_SW</span> <span class="n">THEN</span>

    <span class="n">MR2K4_KBO_GCC_01</span><span class="o">.</span><span class="n">M_HVE</span><span class="p">(</span><span class="n">TRUE</span><span class="p">);</span>
    <span class="n">PA1K4_IP1_GCC_01</span><span class="o">.</span><span class="n">M_HVE</span><span class="p">(</span><span class="n">TRUE</span><span class="p">);</span>
    <span class="n">IM4K4_PPM_GCC_01</span><span class="o">.</span><span class="n">M_HVE</span><span class="p">(</span><span class="n">TRUE</span><span class="p">);</span>
    <span class="n">TM1K4_GCC_01</span><span class="o">.</span><span class="n">M_HVE</span><span class="p">(</span><span class="n">TRUE</span><span class="p">);</span>
    <span class="n">IM5K4_PPM_GCC_01</span><span class="o">.</span><span class="n">M_HVE</span><span class="p">(</span><span class="n">TRUE</span><span class="p">);</span>
    <span class="n">PA2K4_IP1_GCC_01</span><span class="o">.</span><span class="n">M_HVE</span><span class="p">(</span><span class="n">TRUE</span><span class="p">);</span>
    <span class="n">MR4K4_KBO_GCC_01</span><span class="o">.</span><span class="n">M_HVE</span><span class="p">(</span><span class="n">TRUE</span><span class="p">);</span>
    <span class="n">TM2K4_KBO_GCC_01</span><span class="o">.</span><span class="n">M_HVE</span><span class="p">(</span><span class="n">TRUE</span><span class="p">);</span>
    <span class="n">PF2K4_WFS_GCC_01</span><span class="o">.</span><span class="n">M_HVE</span><span class="p">(</span><span class="n">TRUE</span><span class="p">);</span>
    <span class="n">xGCC_Enable_SW</span> <span class="o">:=</span> <span class="kc">False</span><span class="p">;</span>
<span class="n">END_IF</span>

<span class="n">END_PROGRAM</span>
</pre></div>
</div>
</section>
<section id="prg-hutch-ion-pumps">
<h2>PRG_Hutch_Ion_Pumps<a class="headerlink" href="#prg-hutch-ion-pumps" title="Link to this heading"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PROGRAM</span> <span class="n">PRG_Hutch_Ion_Pumps</span>
<span class="n">VAR</span>
<span class="n">END_VAR</span>
<span class="n">MR2K4_KBO_PIP_01</span><span class="p">(</span><span class="n">i_stGauge</span> <span class="o">:=</span> <span class="n">MR2K4_KBO_GPI_01</span><span class="o">.</span><span class="n">PG</span><span class="p">,</span> <span class="n">stPump</span><span class="o">=&gt;</span><span class="p">);</span>
    <span class="n">PA2K4_IP1_PIP_01</span><span class="p">(</span><span class="n">i_stGauge</span> <span class="o">:=</span> <span class="n">PA2K4_IP1_GCC_01</span><span class="o">.</span><span class="n">IG</span><span class="p">,</span> <span class="n">stPump</span><span class="o">=&gt;</span><span class="p">);</span>
<span class="o">//</span>  <span class="n">MR4K4_KBO_PIP_01</span><span class="p">(</span><span class="n">i_stGauge</span> <span class="o">:=</span> <span class="n">MR4K4_KBO_GCC_01</span><span class="o">.</span><span class="n">IG</span><span class="p">,</span> <span class="n">stPump</span><span class="o">=&gt;</span><span class="p">);</span>
    <span class="n">MR4K4_KBO_PIP_01</span><span class="p">(</span><span class="n">i_stGauge</span> <span class="o">:=</span> <span class="n">MR4K4_KBO_GPI_01</span><span class="o">.</span><span class="n">PG</span><span class="p">,</span> <span class="n">stPump</span><span class="o">=&gt;</span><span class="p">);</span> <span class="o">//</span> <span class="mi">4</span><span class="o">/</span><span class="mi">10</span><span class="o">/</span><span class="mi">23</span> <span class="n">Change</span> <span class="n">MR4K4_PIP</span> <span class="n">interlock</span> <span class="kn">from</span><span class="w"> </span><span class="nn">GCC</span> <span class="n">to</span> <span class="n">GPI</span>

<span class="n">END_PROGRAM</span>
</pre></div>
</div>
</section>
<section id="prg-hv-safety">
<h2>PRG_HV_SAFETY<a class="headerlink" href="#prg-hv-safety" title="Link to this heading"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PROGRAM</span> <span class="n">PRG_HV_SAFETY</span>
<span class="n">VAR</span>
<span class="n">END_VAR</span>
<span class="n">iHV_LOOP_FIM_ON</span><span class="o">:=</span> <span class="p">(</span><span class="n">MR2K4_KBO_GCC_01</span><span class="o">.</span><span class="n">IG</span><span class="o">.</span><span class="n">rPRESS</span> <span class="o">&lt;=</span> <span class="n">iHV_LOOP_FIM_PRESSURE</span><span class="p">)</span> <span class="n">AND</span> <span class="p">(</span><span class="n">MR2K4_KBO_GCC_01</span><span class="o">.</span><span class="n">IG</span><span class="o">.</span><span class="n">xPRESS_OK</span> <span class="o">=</span> <span class="n">TRUE</span><span class="p">);</span>

<span class="n">END_PROGRAM</span>
</pre></div>
</div>
</section>
<section id="prg-ip1-ecat-interfaces">
<h2>PRG_IP1_ECAT_Interfaces<a class="headerlink" href="#prg-ip1-ecat-interfaces" title="Link to this heading"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PROGRAM</span> <span class="n">PRG_IP1_ECAT_Interfaces</span>
<span class="n">VAR</span>
<span class="n">END_VAR</span>
<span class="n">ROUGH1_VRC_01_AtOpnLS</span> <span class="o">:=</span> <span class="n">TMO_ROUGH1_VRC_01</span><span class="o">.</span><span class="n">iq_stValve</span><span class="o">.</span><span class="n">i_xOpnLS</span><span class="p">;</span>
<span class="n">ROUGH2_VRC_01_AtOpnLS</span> <span class="o">:=</span> <span class="n">TMO_ROUGH2_VRC_01</span><span class="o">.</span><span class="n">iq_stValve</span><span class="o">.</span><span class="n">i_xOpnLS</span><span class="p">;</span>

<span class="n">END_PROGRAM</span>
</pre></div>
</div>
</section>
<section id="prg-pmps">
<h2>PRG_PMPS<a class="headerlink" href="#prg-pmps" title="Link to this heading"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PROGRAM</span> <span class="n">PRG_PMPS</span>
<span class="n">VAR</span>
    <span class="n">fbArbiterIO</span> <span class="p">:</span> <span class="n">FB_SubSysToArbiter_IO</span><span class="p">;</span>
    <span class="n">bRemove</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
    <span class="n">bRemove2</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
    <span class="n">bExist</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
    <span class="n">bExist2</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
    <span class="n">ID</span><span class="p">:</span> <span class="n">UDINT</span><span class="p">;</span>
    <span class="n">fb_VetoArbiter</span><span class="p">:</span> <span class="n">FB_VetoArbiter</span><span class="p">;</span>
    <span class="n">ff5_ff2_link_vac</span><span class="p">:</span> <span class="n">FB_FastFault</span> <span class="o">:=</span> <span class="p">(</span><span class="n">i_xAutoReset</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span> <span class="n">i_DevName</span> <span class="o">:=</span> <span class="s1">&#39;FF5 to FF2 Link&#39;</span><span class="p">,</span> <span class="n">i_Desc</span> <span class="o">:=</span> <span class="s1">&#39;This is virtual FF5 fault, Please check ST4K4 downstream faulting device &#39;</span><span class="p">,</span> <span class="n">i_TypeCode</span> <span class="o">:=</span> <span class="mi">16</span><span class="c1">#9999);</span>
    <span class="n">fb_VetoArbiter2</span><span class="p">:</span> <span class="n">FB_VetoArbiter</span><span class="p">;</span>
    <span class="n">bM1K1Veto_IN</span> <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
    <span class="n">bST3K4Veto_IN</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
    <span class="n">bST4K4Veto_IN</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
    <span class="n">bM1K3Veto_IN</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span> <span class="o">//</span> <span class="n">adding</span> <span class="n">MR1K3Veto</span> <span class="n">In</span> <span class="n">on</span> <span class="mi">10</span><span class="o">-</span><span class="mi">22</span><span class="o">-</span><span class="mi">24</span>
    <span class="n">bST1K4Veto_IN</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
<span class="n">END_VAR</span>
<span class="n">bM1K1Veto_IN</span> <span class="o">:=</span> <span class="n">NOT</span> <span class="n">PMPS_GVL</span><span class="o">.</span><span class="n">stCurrentBeamParameters</span><span class="o">.</span><span class="n">aVetoDevices</span><span class="p">[</span><span class="n">PMPS</span><span class="o">.</span><span class="n">K_Stopper</span><span class="o">.</span><span class="n">MR1K1_OUT</span><span class="p">]</span>
                <span class="n">AND</span> <span class="n">PMPS_GVL</span><span class="o">.</span><span class="n">stCurrentBeamParameters</span><span class="o">.</span><span class="n">aVetoDevices</span><span class="p">[</span><span class="n">PMPS</span><span class="o">.</span><span class="n">K_Stopper</span><span class="o">.</span><span class="n">MR1K1_IN</span><span class="p">];</span>
<span class="n">bM1K3Veto_IN</span> <span class="o">:=</span> <span class="n">NOT</span> <span class="n">PMPS_GVL</span><span class="o">.</span><span class="n">stCurrentBeamParameters</span><span class="o">.</span><span class="n">aVetoDevices</span><span class="p">[</span><span class="n">PMPS</span><span class="o">.</span><span class="n">K_Stopper</span><span class="o">.</span><span class="n">MR1K3_OUT</span><span class="p">]</span>
                <span class="n">AND</span> <span class="n">PMPS_GVL</span><span class="o">.</span><span class="n">stCurrentBeamParameters</span><span class="o">.</span><span class="n">aVetoDevices</span><span class="p">[</span><span class="n">PMPS</span><span class="o">.</span><span class="n">K_Stopper</span><span class="o">.</span><span class="n">MR1K3_IN</span><span class="p">];</span>
<span class="n">bST1K4Veto_IN</span> <span class="o">:=</span> <span class="n">PMPS_GVL</span><span class="o">.</span><span class="n">stCurrentBeamParameters</span><span class="o">.</span><span class="n">aVetoDevices</span><span class="p">[</span><span class="n">PMPS</span><span class="o">.</span><span class="n">K_Stopper</span><span class="o">.</span><span class="n">ST1K4</span><span class="p">];</span>
<span class="n">bST3K4Veto_IN</span> <span class="o">:=</span> <span class="n">PMPS_GVL</span><span class="o">.</span><span class="n">stCurrentBeamParameters</span><span class="o">.</span><span class="n">aVetoDevices</span><span class="p">[</span><span class="n">PMPS</span><span class="o">.</span><span class="n">K_Stopper</span><span class="o">.</span><span class="n">ST3K4</span><span class="p">]</span> <span class="n">OR</span> <span class="n">bM1K1Veto_IN</span> <span class="n">OR</span> <span class="n">bM1K3Veto_IN</span> <span class="n">OR</span> <span class="n">bST1K4Veto_IN</span><span class="p">;</span>
<span class="n">bST4K4Veto_IN</span> <span class="o">:=</span> <span class="n">PMPS_GVL</span><span class="o">.</span><span class="n">stCurrentBeamParameters</span><span class="o">.</span><span class="n">aVetoDevices</span><span class="p">[</span><span class="n">PMPS</span><span class="o">.</span><span class="n">K_Stopper</span><span class="o">.</span><span class="n">ST4K4</span><span class="p">]</span> <span class="n">OR</span> <span class="n">bST3K4Veto_IN</span> <span class="n">OR</span> <span class="n">bST1K4Veto_IN</span> <span class="n">OR</span> <span class="n">bM1K1Veto_IN</span> <span class="n">OR</span> <span class="n">bM1K3Veto_IN</span> <span class="p">;</span>

<span class="p">(</span><span class="o">*</span><span class="n">FastFaultOuput</span><span class="o">*</span><span class="p">)</span>
<span class="o">//</span> <span class="n">Everything</span> <span class="n">upstream</span> <span class="n">ST3K4</span>
<span class="o">//</span><span class="n">g_FastFaultOutput1</span><span class="o">.</span><span class="n">Execute</span><span class="p">(</span><span class="n">i_xVeto</span><span class="o">:=</span><span class="n">bM1K1Veto_IN</span> <span class="p">,</span> <span class="n">bAutoReset</span><span class="o">:=</span> <span class="n">TRUE</span><span class="p">);</span>
<span class="n">g_FastFaultOutput1</span><span class="o">.</span><span class="n">Execute</span><span class="p">(</span><span class="n">i_xVeto</span><span class="o">:=</span><span class="n">bM1K1Veto_IN</span> <span class="n">OR</span> <span class="n">bM1K3Veto_IN</span><span class="p">,</span> <span class="n">bAutoReset</span><span class="o">:=</span> <span class="n">TRUE</span><span class="p">);</span>
<span class="o">//</span> <span class="n">Everything</span> <span class="n">downstream</span> <span class="n">of</span> <span class="n">ST3K4</span>
<span class="n">g_FastFaultOutput2</span><span class="o">.</span><span class="n">Execute</span><span class="p">(</span><span class="n">i_xVeto</span><span class="o">:=</span> <span class="n">bST3K4Veto_IN</span> <span class="n">OR</span> <span class="n">bST1K4Veto_IN</span><span class="p">,</span> <span class="n">bAutoReset</span><span class="o">:=</span> <span class="n">TRUE</span><span class="p">);</span>

<span class="o">//</span> <span class="n">Everything</span> <span class="n">downstream</span> <span class="n">of</span> <span class="n">ST4K4</span>
<span class="n">g_FastFaultOutput5</span><span class="o">.</span><span class="n">Execute</span><span class="p">(</span><span class="n">i_xVeto</span><span class="o">:=</span> <span class="n">bST4K4Veto_IN</span><span class="p">,</span> <span class="n">bAutoReset</span><span class="o">:=</span> <span class="n">TRUE</span><span class="p">);</span>

<span class="n">ff5_ff2_link_vac</span><span class="p">(</span>
    <span class="n">io_fbFFHWO</span> <span class="o">:=</span> <span class="n">GVL_PMPS</span><span class="o">.</span><span class="n">g_FastFaultOutput2</span><span class="p">,</span>
    <span class="n">i_xOK</span> <span class="o">:=</span> <span class="n">GVL_PMPS</span><span class="o">.</span><span class="n">g_FastFaultOutput5</span><span class="o">.</span><span class="n">q_xFastFaultOut</span><span class="p">);</span>

<span class="o">//</span> <span class="n">Preemptive</span> <span class="n">system</span>
<span class="n">fbArbiterIO</span><span class="p">(</span><span class="n">Arbiter</span> <span class="o">:=</span> <span class="n">g_fbArbiter1</span><span class="p">,</span> <span class="n">fbFFHWO</span> <span class="o">:=</span> <span class="n">g_FastFaultOutput1</span><span class="p">,</span>
    <span class="n">i_bVeto</span> <span class="o">:=</span> <span class="n">bM1K1Veto_IN</span> <span class="n">OR</span> <span class="n">bM1K3Veto_IN</span><span class="p">);</span>

<span class="o">//</span><span class="n">fb_VetoArbiter</span><span class="p">(</span><span class="n">bVeto</span><span class="o">:=</span> <span class="n">PMPS_GVL</span><span class="o">.</span><span class="n">stCurrentBeamParameters</span><span class="o">.</span><span class="n">aVetoDevices</span><span class="p">[</span><span class="n">PMPS</span><span class="o">.</span><span class="n">K_Stopper</span><span class="o">.</span><span class="n">ST3K4</span><span class="p">],</span>
<span class="o">//</span>          <span class="n">HigherAuthority</span><span class="o">:=</span><span class="n">g_fbArbiter1</span> <span class="p">,</span>
<span class="o">//</span>          <span class="n">LowerAuthority</span><span class="o">:=</span> <span class="n">g_fbArbiter2</span> <span class="p">,</span> <span class="n">FFO</span><span class="o">:=</span> <span class="n">g_FastFaultOutput2</span><span class="p">);</span>

<span class="o">//</span><span class="n">Test</span> <span class="ow">and</span> <span class="n">diagnostic</span> <span class="n">stuff</span>
<span class="n">bExist</span><span class="o">:=</span> <span class="n">g_fbArbiter1</span><span class="o">.</span><span class="n">CheckRequestInPool</span><span class="p">(</span><span class="n">ID</span><span class="p">);</span>
<span class="n">bExist2</span><span class="o">:=</span> <span class="n">g_fbArbiter2</span><span class="o">.</span><span class="n">CheckRequestInPool</span><span class="p">(</span><span class="n">ID</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="n">bRemove</span><span class="p">)</span> <span class="n">THEN</span>
    <span class="n">g_fbArbiter1</span><span class="o">.</span><span class="n">RemoveRequest</span><span class="p">(</span><span class="n">ID</span><span class="p">);</span>
<span class="n">END_IF</span>
<span class="k">if</span> <span class="p">(</span><span class="n">bRemove2</span><span class="p">)</span> <span class="n">THEN</span>
    <span class="n">g_fbArbiter2</span><span class="o">.</span><span class="n">RemoveRequest</span><span class="p">(</span><span class="n">ID</span><span class="p">);</span>
<span class="n">END_IF</span>

<span class="n">g_fbArbiter1</span><span class="o">.</span><span class="n">AddRequest</span><span class="p">(</span><span class="n">nReqID</span> <span class="o">:=</span> <span class="mi">16</span><span class="c1">#FAFD, stReqBp := PMPS_GVL.cstFullBeam, sDevName := &#39;plc-tmo-vac&#39;);</span>

<span class="n">END_PROGRAM</span>
</pre></div>
</div>
<dl class="simple">
<dt>Related:</dt><dd><ul class="simple">
<li><p><a class="reference internal" href="#gvl-pmps">GVL_PMPS</a></p></li>
</ul>
</dd>
</dl>
</section>
<section id="prg-roughing-pumps">
<h2>PRG_Roughing_Pumps<a class="headerlink" href="#prg-roughing-pumps" title="Link to this heading"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PROGRAM</span> <span class="n">PRG_Roughing_Pumps</span>
<span class="n">VAR</span>

    <span class="n">xRough1Vrc01_OpenOK</span><span class="p">:</span> <span class="n">BOOL</span> <span class="o">:=</span> <span class="kc">False</span><span class="p">;</span>
    <span class="n">xRough1Vrc02_OpenOK</span><span class="p">:</span> <span class="n">BOOL</span> <span class="o">:=</span> <span class="kc">False</span><span class="p">;</span>
    <span class="n">xRough2Vrc01_OpenOK</span><span class="p">:</span> <span class="n">BOOL</span> <span class="o">:=</span> <span class="kc">False</span><span class="p">;</span>
    <span class="n">dummy_FFFO</span> <span class="p">:</span> <span class="n">FB_HardwareFFOutput</span><span class="p">;</span>
    <span class="n">dummy_fbArbiter1</span>    <span class="p">:</span>   <span class="n">FB_Arbiter</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>

    <span class="n">PA1K4_IP1_PTM_01_xExtIlkOK</span><span class="p">:</span> <span class="n">BOOL</span> <span class="o">:=</span> <span class="n">FALSE</span><span class="p">;</span>
    <span class="n">PA1K4_IP1_PTM_02_xExtIlkOK</span><span class="p">:</span> <span class="n">BOOL</span> <span class="o">:=</span> <span class="n">FALSE</span><span class="p">;</span>
    <span class="n">PA1K4_IP1_PTM_03_xExtIlkOK</span><span class="p">:</span> <span class="n">BOOL</span> <span class="o">:=</span> <span class="kc">False</span><span class="p">;</span>

    <span class="n">f_trig_r1</span> <span class="p">:</span> <span class="n">F_TRIG</span><span class="p">;</span>
    <span class="n">f_trig_r2</span> <span class="p">:</span> <span class="n">F_TRIG</span><span class="p">;</span>
    <span class="n">r_trig_r1</span> <span class="p">:</span> <span class="n">R_TRIG</span><span class="p">;</span>
    <span class="n">r_trig_r2</span> <span class="p">:</span> <span class="n">R_TRIG</span><span class="p">;</span>

    <span class="n">tonDelOK</span> <span class="p">:</span> <span class="n">TON</span><span class="p">;</span>
    <span class="n">tDelOK</span>  <span class="p">:</span>       <span class="n">TIME</span> <span class="o">:=</span> <span class="n">T</span><span class="c1">#30S;</span>
    <span class="n">xExtIlkOK</span> <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>

    <span class="n">tonDelSW</span> <span class="p">:</span> <span class="n">TON</span><span class="p">;</span>


    <span class="n">IM4K4_PPM_PTM_01_xExtIlkOK</span><span class="p">:</span> <span class="n">BOOL</span> <span class="o">:=</span> <span class="n">FALSE</span><span class="p">;</span>
    <span class="n">LI1K4_IP1_PTM_01_xExtIlkOK</span><span class="p">:</span> <span class="n">BOOL</span> <span class="o">:=</span> <span class="n">FALSE</span><span class="p">;</span>
    <span class="n">LI3K4_IP1_OUT_PTM_01_xExtIlkOK</span><span class="p">:</span> <span class="n">BOOL</span> <span class="o">:=</span> <span class="kc">False</span><span class="p">;</span>
    <span class="n">IM5K4_PPM_PTM_01_xExtIlkOK</span><span class="p">:</span> <span class="n">BOOL</span> <span class="o">:=</span> <span class="kc">False</span><span class="p">;</span>

    <span class="n">rTolerance</span> <span class="p">:</span> <span class="n">REAL</span><span class="p">;</span>
    <span class="n">xDifPressureOK</span> <span class="p">:</span> <span class="n">BOOL</span> <span class="o">:=</span> <span class="n">FALSE</span><span class="p">;</span>
    <span class="n">TMO_ROUGH1_VRC_01_xExt_OK</span> <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
    <span class="n">TMO_ROUGH1_VRC_02_xExt_OK</span> <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
    <span class="n">TMO_ROUGH2_VRC_01_xExt_OK</span> <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>

    <span class="n">xLAMP_VRC01_VRC02_atOpnLS</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
<span class="n">END_VAR</span>

<span class="n">VAR</span> <span class="n">RETAIN</span>
    <span class="n">TM1K4_PTM_01_xExtIlkOK</span><span class="p">:</span> <span class="n">BOOL</span> <span class="o">:=</span> <span class="kc">False</span><span class="p">;</span>
<span class="n">END_VAR</span>
<span class="p">(</span><span class="o">*</span> <span class="n">Roughing</span> <span class="n">Valves</span> <span class="o">*</span><span class="p">)</span>

<span class="p">(</span><span class="o">*</span> <span class="n">All</span> <span class="n">three</span> <span class="n">roughing</span> <span class="n">valves</span> <span class="n">permit</span> <span class="n">to</span> <span class="nb">open</span> <span class="n">when</span> <span class="n">both</span> <span class="n">side</span> <span class="n">reading</span> <span class="n">pressure</span> <span class="n">below</span> <span class="n">than</span> <span class="n">setpoint</span><span class="p">,</span> <span class="mf">1E-3</span> <span class="k">for</span> <span class="n">both</span> <span class="n">sides</span><span class="o">.</span>
   <span class="n">When</span> <span class="n">chamber</span> <span class="ow">is</span> <span class="n">vented</span><span class="p">,</span> <span class="n">bypass</span> <span class="n">to</span> <span class="nb">open</span> <span class="n">valve</span> <span class="n">to</span> <span class="n">pump</span> <span class="n">down</span><span class="o">.</span>
   <span class="n">FB_VGC_2S</span> <span class="ow">is</span> <span class="n">used</span> <span class="k">for</span> <span class="n">VRC</span> <span class="n">controls</span><span class="o">.</span>

   <span class="n">For</span> <span class="n">TMO_ROUGH1_VRC_01</span> <span class="o">&amp;</span> <span class="n">TMO_ROUGH1_VRC_02</span><span class="p">,</span> <span class="n">additional</span> <span class="n">interlock</span> <span class="ow">is</span> <span class="n">implemented</span> <span class="n">using</span> <span class="n">i_xExt_OK</span> <span class="nb">input</span> <span class="n">of</span> <span class="n">VGC</span> <span class="n">function</span><span class="p">:</span>
   <span class="n">If</span> <span class="n">pressure</span> <span class="n">difference</span> <span class="n">between</span> <span class="n">TMO_ROUGH1_GPI_02</span> <span class="ow">and</span> <span class="n">TMO_ROUGH1_GPI_03</span> <span class="ow">is</span> <span class="n">greater</span> <span class="n">than</span> <span class="mi">20</span> <span class="n">Torr</span><span class="p">,</span>
   <span class="n">only</span> <span class="n">one</span> <span class="n">of</span> <span class="n">them</span> <span class="n">permit</span> <span class="n">to</span> <span class="nb">open</span><span class="o">.</span>

   <span class="n">For</span> <span class="n">TMO_ROUGH1_VRC_01</span> <span class="o">&amp;</span> <span class="n">TMO_ROUGH2_VRC_01</span> <span class="k">if</span> <span class="n">one</span> <span class="n">closed</span><span class="p">,</span> <span class="n">wait</span> <span class="k">for</span> <span class="mi">10</span><span class="n">s</span><span class="p">,</span> <span class="n">close</span> <span class="n">the</span> <span class="n">other</span><span class="o">.</span>

<span class="o">*</span><span class="p">)</span>


<span class="p">(</span><span class="o">*</span> <span class="n">Check</span> <span class="n">the</span> <span class="n">pressure</span> <span class="n">difference</span> <span class="n">between</span> <span class="n">TMO_ROUGH1_GPI_02</span> <span class="ow">and</span> <span class="n">TMO_ROUGH1_GPI_03</span> <span class="o">*</span><span class="p">)</span>



<span class="n">rTolerance</span> <span class="o">:=</span> <span class="mf">0.1</span><span class="p">;</span>
<span class="n">xDifPressureOK</span> <span class="o">:=</span> <span class="p">(</span><span class="n">ABS</span><span class="p">(</span><span class="n">TMO_ROUGH1_GPI_02</span><span class="o">.</span><span class="n">PG</span><span class="o">.</span><span class="n">rPRESS</span> <span class="o">-</span> <span class="n">TMO_ROUGH1_GPI_03</span><span class="o">.</span><span class="n">PG</span><span class="o">.</span><span class="n">rPRESS</span> <span class="p">)</span> <span class="o">&lt;=</span> <span class="n">rTolerance</span> <span class="p">)</span> <span class="n">AND</span>
                  <span class="n">TMO_ROUGH1_GPI_02</span><span class="o">.</span><span class="n">PG</span><span class="o">.</span><span class="n">xPRESS_OK</span> <span class="n">AND</span> <span class="n">TMO_ROUGH1_GPI_03</span><span class="o">.</span><span class="n">PG</span><span class="o">.</span><span class="n">xPRESS_OK</span><span class="p">;</span>

<span class="p">(</span><span class="o">*</span> <span class="n">Set</span> <span class="n">Rough1_vrc_01</span> <span class="n">external</span> <span class="n">interlock</span> <span class="n">OK</span> <span class="n">TRUE</span><span class="p">,</span> <span class="n">when</span><span class="p">:</span>
     <span class="n">xDifPressureOK</span> <span class="ow">or</span> <span class="n">TMO_ROUGH1_VRC_02</span> <span class="ow">is</span> <span class="n">closed</span>
     <span class="n">AND</span> <span class="k">if</span> <span class="n">LAMP</span> <span class="ow">is</span> <span class="n">connected</span><span class="p">,</span> <span class="n">LAMP_ROUGH_VRC01</span> <span class="ow">and</span> <span class="n">VRC02</span> <span class="n">are</span> <span class="nb">open</span> <span class="n">OR</span> <span class="n">TMO_ROUGH2_VRC01</span> <span class="ow">is</span> <span class="nb">open</span><span class="o">.</span> <span class="o">*</span><span class="p">)</span>

<span class="o">//</span><span class="n">IP1_ECAT_COM_ERROR</span> <span class="o">=</span> <span class="n">TRUE</span> <span class="n">means</span> <span class="n">that</span> <span class="n">there</span> <span class="ow">is</span> <span class="n">an</span> <span class="n">EtherCAT</span> <span class="n">Bridge</span> <span class="n">Communication</span> <span class="n">error</span><span class="o">.</span>
<span class="n">IP1_ECAT_COM_ERROR</span> <span class="o">:=</span> <span class="p">(</span><span class="n">xEcatBridge_TxPDO_state</span> <span class="n">OR</span> <span class="n">xEcatBridge_External_device_not_connected</span> <span class="n">OR</span> <span class="n">xEcatBridge_WcState</span><span class="p">);</span>

<span class="n">xLAMP_VRC01_VRC02_atOpnLS</span> <span class="o">:=</span> <span class="n">IP1_ROUGH_VRC_01_AtOpnLS</span> <span class="n">AND</span> <span class="n">NOT</span> <span class="n">IP1_ECAT_COM_ERROR</span>
                              <span class="n">AND</span> <span class="n">IP1_ROUGH_VRC_02_AtOpnLS</span> <span class="n">AND</span> <span class="n">NOT</span> <span class="n">IP1_ECAT_COM_ERROR</span><span class="p">;</span>

<span class="o">//</span><span class="n">removing</span> <span class="n">interlock</span> <span class="kn">from</span><span class="w"> </span><span class="nn">tmo_rough2_vrc_01</span> <span class="ow">and</span> <span class="n">IP1_VRC_02</span> <span class="n">interlock</span> <span class="n">per</span> <span class="n">James</span><span class="s1">&#39; request on 10-04-24</span>
<span class="n">TMO_ROUGH1_VRC_01_xExt_OK</span> <span class="o">:=</span> <span class="p">(</span> <span class="n">xDifPressureOK</span> <span class="n">OR</span> <span class="n">TMO_ROUGH1_VRC_02</span><span class="o">.</span><span class="n">iq_stValve</span><span class="o">.</span><span class="n">i_xClsLS</span> <span class="p">)</span>
                            <span class="n">AND</span> <span class="p">(</span>
                                  <span class="n">IP1_ROUGH_VRC_01_AtOpnLS</span>
                                  <span class="n">AND</span> <span class="n">NOT</span> <span class="n">IP1_ECAT_COM_ERROR</span>
                               <span class="p">(</span><span class="o">*</span>   <span class="ow">and</span> <span class="n">TMO_ROUGH2_VRC_01</span><span class="o">.</span><span class="n">iq_stValve</span><span class="o">.</span><span class="n">i_xOpnLS</span>
                                  <span class="n">OR</span> <span class="n">xLAMP_VRC01_VRC02_atOpnLS</span> <span class="o">*</span><span class="p">)</span>
                                 <span class="p">);</span>


<span class="p">(</span><span class="o">*</span> <span class="n">Set</span> <span class="n">external</span> <span class="n">interlock</span> <span class="n">OK</span> <span class="n">TRUE</span><span class="p">,</span> <span class="n">when</span> <span class="n">xDifPressureOK</span> <span class="ow">or</span> <span class="n">TMO_ROUGH1_VRC_01</span> <span class="ow">is</span> <span class="n">closed</span> <span class="o">*</span><span class="p">)</span>

<span class="n">TMO_ROUGH1_VRC_02_xExt_OK</span> <span class="o">:=</span> <span class="n">xDifPressureOK</span>  <span class="n">OR</span> <span class="n">TMO_ROUGH1_VRC_01</span><span class="o">.</span><span class="n">iq_stValve</span><span class="o">.</span><span class="n">i_xClsLS</span><span class="p">;</span>
<span class="o">//</span><span class="n">make</span> <span class="n">override</span> <span class="n">of</span> <span class="n">tmo_rough1_vrc</span><span class="o">-</span><span class="mi">01</span> <span class="n">simple</span> <span class="n">on</span> <span class="mi">10</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">24</span>

<span class="n">TMO_ROUGH1_VRC_01</span><span class="p">(</span>
                <span class="n">i_stUSG</span> <span class="o">:=</span> <span class="n">TMO_ROUGH1_GPI_02</span><span class="o">.</span><span class="n">PG</span><span class="p">,</span>
                <span class="n">i_stDSG</span><span class="o">:=</span> <span class="n">TMO_ROUGH1_GPI_01</span><span class="o">.</span><span class="n">PG</span><span class="p">,</span>
                <span class="n">i_xDis_DPIlk</span> <span class="o">:=</span> <span class="n">FALSE</span><span class="p">,</span>
                <span class="n">i_xEPS_OK</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span>
                <span class="n">i_xPMPS_OK</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span>
                <span class="n">i_xExt_OK</span> <span class="o">:=</span> <span class="n">TMO_ROUGH1_VRC_01_xExt_OK</span><span class="p">,</span>
                <span class="n">i_xOverrideMode</span> <span class="o">:=</span> <span class="n">xSystemOverrideMode_TMO</span> <span class="n">AND</span> <span class="n">xDifPressureOK</span><span class="p">(</span><span class="o">*</span><span class="n">TMO_ROUGH1_VRC_01_xExt_OK</span> <span class="o">*</span><span class="p">),</span>
                <span class="n">i_xReset</span> <span class="o">:=</span> <span class="kc">False</span><span class="p">,</span>
                <span class="n">io_fbFFHWO</span> <span class="o">:=</span><span class="n">dummy_FFFO</span><span class="p">,</span>
                <span class="n">fbArbiter</span> <span class="o">:=</span> <span class="n">dummy_fbArbiter1</span><span class="p">,</span>
<span class="p">);</span>


<span class="o">//</span><span class="n">make</span> <span class="n">override</span> <span class="n">of</span> <span class="n">tmo_rough1_vrc</span><span class="o">-</span><span class="mi">02</span> <span class="n">simple</span> <span class="n">on</span> <span class="mi">10</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">24</span>

<span class="n">TMO_ROUGH1_VRC_02</span><span class="p">(</span>
                <span class="n">i_stUSG</span> <span class="o">:=</span> <span class="n">TMO_ROUGH1_GPI_03</span><span class="o">.</span><span class="n">PG</span><span class="p">,</span>
                <span class="n">i_stDSG</span><span class="o">:=</span> <span class="n">TMO_ROUGH1_GPI_01</span><span class="o">.</span><span class="n">PG</span><span class="p">,</span>
                <span class="n">i_xDis_DPIlk</span> <span class="o">:=</span> <span class="n">FALSE</span><span class="p">,</span>
                <span class="n">i_xEPS_OK</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span>
                <span class="n">i_xPMPS_OK</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span>
                <span class="n">i_xExt_OK</span> <span class="o">:=</span> <span class="n">TMO_ROUGH1_VRC_02_xExt_OK</span><span class="p">,</span>
                <span class="n">i_xOverrideMode</span> <span class="o">:=</span> <span class="n">xSystemOverrideMode_TMO</span> <span class="n">AND</span> <span class="n">xDifPressureOK</span> <span class="p">(</span><span class="o">*</span><span class="n">TMO_ROUGH1_VRC_02_xExt_OK</span><span class="o">*</span><span class="p">),</span>
                <span class="n">i_xReset</span> <span class="o">:=</span> <span class="n">false</span><span class="p">,</span>
                <span class="n">io_fbFFHWO</span> <span class="o">:=</span><span class="n">dummy_FFFO</span><span class="p">,</span>
                <span class="n">fbArbiter</span> <span class="o">:=</span> <span class="n">dummy_fbArbiter1</span><span class="p">);</span>


<span class="p">(</span><span class="o">*</span> <span class="n">Set</span> <span class="n">TMO_ROUGH2_VRC01</span> <span class="n">external</span> <span class="n">interlock</span> <span class="n">OK</span> <span class="n">TRUE</span><span class="p">,</span> <span class="k">if</span> <span class="n">LAMP</span> <span class="ow">is</span> <span class="n">connected</span><span class="p">,</span> <span class="ow">and</span> <span class="n">either</span> <span class="n">LAMP_ROUGH_VRC01</span><span class="p">,</span> <span class="n">VRC02</span> <span class="ow">and</span> <span class="n">VRC03</span> <span class="n">are</span> <span class="nb">open</span>
                    <span class="ow">or</span> <span class="n">both</span> <span class="n">TMO_ROUGH1_VRC_01</span> <span class="ow">and</span> <span class="n">lamp_rough_vrc03</span> <span class="n">are</span> <span class="nb">open</span><span class="o">*</span><span class="p">)</span>
<span class="o">//</span><span class="n">remove</span> <span class="n">interlock</span> <span class="k">with</span> <span class="n">tmo_rough1_vrc_01</span> <span class="ow">and</span> <span class="n">IP1_rough_vrc_02</span><span class="p">,</span> <span class="mi">01</span> <span class="ow">and</span> <span class="mi">03</span> <span class="n">interlocks</span> <span class="n">per</span> <span class="n">James</span><span class="s1">&#39;s request on 10-04-24</span>
<span class="n">TMO_ROUGH2_VRC_01_xExt_OK</span> <span class="o">:=</span> <span class="n">NOT</span> <span class="n">IP1_ECAT_COM_ERROR</span> <span class="n">AND</span>
                        <span class="p">(</span>  <span class="p">(</span><span class="n">IP1_ROUGH_VRC_01_AtOpnLS</span> <span class="n">AND</span> <span class="n">NOT</span> <span class="n">IP1_ECAT_COM_ERROR</span>
                                                  <span class="p">(</span><span class="o">*</span>      <span class="n">AND</span> <span class="n">IP1_ROUGH_VRC_02_AtOpnLS</span> <span class="n">AND</span> <span class="n">NOT</span> <span class="n">IP1_ECAT_COM_ERROR</span> <span class="o">*</span><span class="p">)</span>
                                                        <span class="n">AND</span> <span class="n">IP1_ROUGH_VRC_03_AtOpnLS</span> <span class="n">AND</span> <span class="n">NOT</span> <span class="n">IP1_ECAT_COM_ERROR</span> <span class="p">)</span>
                        <span class="p">(</span><span class="o">*</span>  <span class="n">OR</span> <span class="p">(</span> <span class="n">TMO_ROUGH1_VRC_01</span><span class="o">.</span><span class="n">iq_stValve</span><span class="o">.</span><span class="n">i_xOpnLS</span> <span class="ow">and</span> <span class="n">IP1_ROUGH_VRC_03_AtOpnLS</span> <span class="n">AND</span> <span class="n">NOT</span> <span class="n">IP1_ECAT_COM_ERROR</span><span class="p">)</span> <span class="o">*</span><span class="p">)</span>
                          <span class="p">)</span> <span class="p">;</span>

<span class="n">TMO_ROUGH2_VRC_01</span><span class="p">(</span>
                <span class="n">i_stUSG</span> <span class="o">:=</span> <span class="n">TMO_ROUGH2_GPI_02</span><span class="o">.</span><span class="n">PG</span><span class="p">,</span>
                <span class="n">i_stDSG</span><span class="o">:=</span> <span class="n">TMO_ROUGH2_GPI_01</span><span class="o">.</span><span class="n">PG</span><span class="p">,</span>
                <span class="n">i_xDis_DPIlk</span> <span class="o">:=</span> <span class="n">FALSE</span><span class="p">,</span>
                <span class="n">i_xEPS_OK</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span>
                <span class="n">i_xPMPS_OK</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span>
                <span class="n">i_xExt_OK</span> <span class="o">:=</span> <span class="n">TMO_ROUGH2_VRC_01_xExt_OK</span><span class="p">,</span>
                <span class="n">i_xOverrideMode</span> <span class="o">:=</span> <span class="n">xSystemOverrideMode_TMO</span><span class="p">,</span>
                <span class="n">i_xReset</span> <span class="o">:=</span> <span class="n">false</span><span class="p">,</span>
                <span class="n">io_fbFFHWO</span> <span class="o">:=</span><span class="n">dummy_FFFO</span><span class="p">,</span>
                <span class="n">fbArbiter</span> <span class="o">:=</span> <span class="n">dummy_fbArbiter1</span><span class="p">);</span>




<span class="p">(</span><span class="o">*</span> <span class="n">Granite</span> <span class="mi">1</span> <span class="n">K4S2</span> <span class="n">Differential</span> <span class="n">Turbo</span> <span class="n">pumps</span> <span class="o">*</span><span class="p">)</span>


<span class="p">(</span><span class="o">*</span> <span class="n">check</span> <span class="k">if</span> <span class="n">PA1K4_IP1_PTM_03</span> <span class="ow">is</span> <span class="n">Atspd</span><span class="p">,</span> <span class="k">if</span> <span class="n">it</span> <span class="ow">is</span> <span class="n">starting</span><span class="p">,</span> <span class="nb">set</span> <span class="n">up</span> <span class="n">a</span> <span class="n">timer</span> <span class="k">for</span> <span class="mi">30</span><span class="n">s</span> <span class="n">to</span> <span class="o">*</span><span class="p">)</span>

<span class="n">xExtIlkOK</span> <span class="o">:=</span> <span class="n">F_Turbo_Protection_ILK</span><span class="p">(</span><span class="n">i_stTurbo</span> <span class="o">:=</span> <span class="n">PA1K4_IP1_PTM_01</span><span class="o">.</span><span class="n">iq_stPTM</span><span class="p">,</span>
            <span class="n">i_stISG</span> <span class="o">:=</span> <span class="n">TMO_ROUGH1_GPI_02</span><span class="o">.</span><span class="n">PG</span><span class="p">,</span>
            <span class="n">i_stBSG</span> <span class="o">:=</span> <span class="n">TMO_ROUGH1_GPI_02</span><span class="o">.</span><span class="n">PG</span><span class="p">,</span>
            <span class="n">iq_stValve</span> <span class="o">:=</span> <span class="n">TMO_ROUGH1_VRC_01</span><span class="o">.</span><span class="n">iq_stValve</span><span class="p">)</span>     <span class="p">;</span>

<span class="p">(</span><span class="o">*</span> <span class="n">start</span> <span class="n">when</span> <span class="n">PTM03</span> <span class="ow">is</span> <span class="n">on</span><span class="o">*</span><span class="p">)</span>
<span class="n">IF</span> <span class="p">(</span><span class="n">PA1K4_IP1_PTM_03</span><span class="o">.</span><span class="n">iq_stPTM</span><span class="o">.</span><span class="n">i_xAtSpd</span><span class="p">)</span> <span class="n">AND</span> <span class="p">(</span><span class="n">NOT</span> <span class="n">PA1K4_IP1_PTM_03</span><span class="o">.</span><span class="n">iq_stPTM</span><span class="o">.</span><span class="n">i_xFault</span><span class="p">)</span> <span class="n">THEN</span>
        <span class="n">PA1K4_IP1_PTM_01_xExtIlkOK</span> <span class="o">:=</span> <span class="n">xExtIlkOK</span><span class="p">;</span>

<span class="n">ELSIF</span> <span class="p">(</span><span class="n">PA1K4_IP1_PTM_03</span><span class="o">.</span><span class="n">iq_stPTM</span><span class="o">.</span><span class="n">q_RunDO</span> <span class="p">)</span> <span class="n">AND</span> <span class="p">(</span><span class="n">NOT</span> <span class="n">PA1K4_IP1_PTM_03</span><span class="o">.</span><span class="n">iq_stPTM</span><span class="o">.</span><span class="n">i_xFault</span> <span class="p">)</span> <span class="n">THEN</span>
    <span class="o">//</span><span class="n">delay</span> <span class="n">timer</span>
<span class="o">//</span>            <span class="n">tonDelOK</span><span class="p">(</span><span class="n">IN</span><span class="o">:=</span> <span class="n">xExtIlkOK</span><span class="p">,</span> <span class="n">PT</span><span class="o">:=</span><span class="n">tDelOK</span><span class="p">);</span>
    <span class="n">PA1K4_IP1_PTM_01_xExtIlkOK</span> <span class="o">:=</span> <span class="n">xExtIlkOK</span> <span class="p">;</span>
<span class="n">ELSE</span>
        <span class="n">PA1K4_IP1_PTM_01_xExtIlkOK</span> <span class="o">:=</span> <span class="n">FALSE</span><span class="p">;</span>
<span class="n">END_IF</span>


<span class="n">xExtIlkOK</span> <span class="o">:=</span> <span class="n">F_Turbo_Protection_ILK</span><span class="p">(</span><span class="n">i_stTurbo</span> <span class="o">:=</span> <span class="n">PA1K4_IP1_PTM_02</span><span class="o">.</span><span class="n">iq_stPTM</span><span class="p">,</span>
            <span class="n">i_stISG</span> <span class="o">:=</span> <span class="n">TMO_ROUGH1_GPI_02</span><span class="o">.</span><span class="n">PG</span><span class="p">,</span>
            <span class="n">i_stBSG</span> <span class="o">:=</span> <span class="n">TMO_ROUGH1_GPI_02</span><span class="o">.</span><span class="n">PG</span><span class="p">,</span>
            <span class="n">iq_stValve</span> <span class="o">:=</span> <span class="n">TMO_ROUGH1_VRC_01</span><span class="o">.</span><span class="n">iq_stValve</span><span class="p">)</span>     <span class="p">;</span>

<span class="n">IF</span> <span class="p">(</span><span class="n">PA1K4_IP1_PTM_03</span><span class="o">.</span><span class="n">iq_stPTM</span><span class="o">.</span><span class="n">i_xAtSpd</span><span class="p">)</span> <span class="n">AND</span> <span class="p">(</span><span class="n">NOT</span> <span class="n">PA1K4_IP1_PTM_03</span><span class="o">.</span><span class="n">iq_stPTM</span><span class="o">.</span><span class="n">i_xFault</span><span class="p">)</span> <span class="n">THEN</span>
        <span class="n">PA1K4_IP1_PTM_02_xExtIlkOK</span> <span class="o">:=</span> <span class="n">xExtIlkOK</span><span class="p">;</span>

<span class="n">ELSIF</span> <span class="p">(</span><span class="n">PA1K4_IP1_PTM_03</span><span class="o">.</span><span class="n">iq_stPTM</span><span class="o">.</span><span class="n">q_RunDO</span> <span class="p">)</span> <span class="n">AND</span> <span class="p">(</span><span class="n">NOT</span> <span class="n">PA1K4_IP1_PTM_03</span><span class="o">.</span><span class="n">iq_stPTM</span><span class="o">.</span><span class="n">i_xFault</span> <span class="p">)</span> <span class="n">THEN</span>
    <span class="o">//</span><span class="n">delay</span> <span class="n">timer</span>
<span class="o">//</span>            <span class="n">tonDelOK</span><span class="p">(</span><span class="n">IN</span><span class="o">:=</span> <span class="n">xExtIlkOK</span><span class="p">,</span> <span class="n">PT</span><span class="o">:=</span><span class="n">tDelOK</span><span class="p">);</span>
    <span class="n">PA1K4_IP1_PTM_02_xExtIlkOK</span> <span class="o">:=</span> <span class="n">xExtIlkOK</span><span class="p">;</span>
<span class="n">ELSE</span>
        <span class="n">PA1K4_IP1_PTM_02_xExtIlkOK</span> <span class="o">:=</span> <span class="n">FALSE</span><span class="p">;</span>
<span class="n">END_IF</span>

<span class="n">PA1K4_IP1_PTM_03_xExtIlkOK</span>  <span class="o">:=</span> <span class="n">F_Turbo_Protection_ILK</span><span class="p">(</span><span class="n">i_stTurbo</span> <span class="o">:=</span> <span class="n">PA1K4_IP1_PTM_03</span><span class="o">.</span><span class="n">iq_stPTM</span><span class="p">,</span>
            <span class="n">i_stISG</span> <span class="o">:=</span> <span class="n">TMO_ROUGH1_GPI_02</span><span class="o">.</span><span class="n">PG</span><span class="p">,</span>
            <span class="n">i_stBSG</span> <span class="o">:=</span> <span class="n">TMO_ROUGH1_GPI_02</span><span class="o">.</span><span class="n">PG</span><span class="p">,</span>
            <span class="n">iq_stValve</span> <span class="o">:=</span> <span class="n">TMO_ROUGH1_VRC_01</span><span class="o">.</span><span class="n">iq_stValve</span><span class="p">)</span>     <span class="p">;</span>


<span class="n">PA1K4_IP1_PTM_01</span><span class="p">(</span><span class="n">i_xExtIlkOK</span> <span class="o">:=</span> <span class="n">PA1K4_IP1_PTM_01_xExtIlkOK</span> <span class="p">,</span> <span class="n">iq_stPTM</span> <span class="o">=&gt;</span> <span class="p">);</span>

<span class="n">PA1K4_IP1_PTM_02</span><span class="p">(</span><span class="n">i_xExtIlkOK</span> <span class="o">:=</span> <span class="n">PA1K4_IP1_PTM_02_xExtIlkOK</span><span class="p">,</span> <span class="n">iq_stPTM</span> <span class="o">=&gt;</span> <span class="p">);</span>
<span class="n">PA1K4_IP1_PTM_03</span><span class="p">(</span><span class="n">i_xExtIlkOK</span> <span class="o">:=</span> <span class="n">PA1K4_IP1_PTM_03_xExtIlkOK</span><span class="p">,</span> <span class="n">iq_stPTM</span> <span class="o">=&gt;</span> <span class="p">);</span>

<span class="p">(</span><span class="o">*</span><span class="n">Serial</span> <span class="n">Interface</span><span class="o">*</span><span class="p">)</span>
<span class="p">(</span><span class="o">*</span><span class="n">Assign</span> <span class="n">adresses</span> <span class="n">to</span> <span class="n">the</span> <span class="n">pfeiffer</span> <span class="n">controllers</span> <span class="n">connected</span> <span class="n">to</span> <span class="n">this</span> <span class="n">serial</span> <span class="n">terminal</span><span class="o">*</span><span class="p">)</span>
<span class="n">st_Pfeiffer_CTRL_PTM_01_02_03</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">iSerialAddress</span> <span class="o">:=</span><span class="mi">10</span><span class="p">;</span><span class="o">//</span><span class="n">PA1K4_IP1_PTM_01</span>
<span class="n">st_Pfeiffer_CTRL_PTM_01_02_03</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">xEnableComm</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">;</span>
<span class="n">st_Pfeiffer_CTRL_PTM_01_02_03</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">iSerialAddress</span> <span class="o">:=</span><span class="mi">9</span><span class="p">;</span><span class="o">//</span><span class="n">PA1K4_IP1_PTM_02</span>
<span class="n">st_Pfeiffer_CTRL_PTM_01_02_03</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">xEnableComm</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">;</span>
<span class="n">st_Pfeiffer_CTRL_PTM_01_02_03</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">iSerialAddress</span> <span class="o">:=</span><span class="mi">1</span><span class="p">;</span><span class="o">//</span><span class="n">PA1K4_IP1_PTM_03</span>
<span class="n">st_Pfeiffer_CTRL_PTM_01_02_03</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">xEnableComm</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">;</span>
<span class="p">(</span><span class="o">*</span> <span class="n">Instanitate</span> <span class="n">the</span> <span class="n">Function</span> <span class="n">block</span> <span class="k">for</span> <span class="n">serial</span> <span class="n">communication</span> <span class="k">with</span> <span class="n">Pfeiffer</span><span class="o">*</span><span class="p">)</span>
<span class="n">PA1K4_IP1_PTM_01_02_03_COM</span><span class="p">(</span><span class="n">astPfeifferControl</span> <span class="o">:=</span> <span class="n">st_Pfeiffer_CTRL_PTM_01_02_03</span><span class="p">,</span>
               <span class="n">astPfeifferStatus</span><span class="o">:=</span> <span class="n">st_Pfeiffer_RBK_PTM_01_02_03</span><span class="p">,</span>
                <span class="n">SerialRXBuffer</span><span class="o">:=</span> <span class="n">K4S2_02_E10_SerialRXBuffer</span><span class="p">,</span>
                <span class="n">SerialTXBuffer</span><span class="o">:=</span> <span class="n">K4S2_02_E10_SerialTXBuffer</span><span class="p">);</span>
<span class="p">(</span><span class="o">*</span> <span class="n">Copy</span> <span class="n">Status</span> <span class="n">Pv</span><span class="s1">&#39;s into the PTM structure*)</span>
<span class="n">PA1K4_IP1_PTM_01</span><span class="o">.</span><span class="n">M_Serial_IO</span><span class="p">(</span><span class="n">st_Pfeiffer_CTRL</span><span class="o">:=</span><span class="n">st_Pfeiffer_CTRL_PTM_01_02_03</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">st_Pfeiffer_RBK</span><span class="o">:=</span><span class="n">st_Pfeiffer_RBK_PTM_01_02_03</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
<span class="n">PA1K4_IP1_PTM_02</span><span class="o">.</span><span class="n">M_Serial_IO</span><span class="p">(</span><span class="n">st_Pfeiffer_CTRL</span><span class="o">:=</span><span class="n">st_Pfeiffer_CTRL_PTM_01_02_03</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="n">st_Pfeiffer_RBK</span><span class="o">:=</span><span class="n">st_Pfeiffer_RBK_PTM_01_02_03</span><span class="p">[</span><span class="mi">2</span><span class="p">]);</span>
<span class="n">PA1K4_IP1_PTM_03</span><span class="o">.</span><span class="n">M_Serial_IO</span><span class="p">(</span><span class="n">st_Pfeiffer_CTRL</span><span class="o">:=</span><span class="n">st_Pfeiffer_CTRL_PTM_01_02_03</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="n">st_Pfeiffer_RBK</span><span class="o">:=</span><span class="n">st_Pfeiffer_RBK_PTM_01_02_03</span><span class="p">[</span><span class="mi">3</span><span class="p">]);</span>

<span class="p">(</span><span class="o">*</span> <span class="n">Leybold</span> <span class="n">turbo</span> <span class="n">pumps</span> <span class="n">on</span> <span class="n">Granite</span> <span class="mi">1</span> <span class="o">*</span><span class="p">)</span>

<span class="n">IM4K4_PPM_PTM_01_xExtIlkOK</span> <span class="o">:=</span> <span class="n">F_Turbo_Protection_ILK</span><span class="p">(</span><span class="n">i_stTurbo</span> <span class="o">:=</span> <span class="n">IM4K4_PPM_PTM_01</span><span class="o">.</span><span class="n">iq_stPTM</span><span class="p">,</span>
            <span class="n">i_stISG</span> <span class="o">:=</span> <span class="n">TMO_ROUGH1_GPI_02</span><span class="o">.</span><span class="n">PG</span><span class="p">,</span>
            <span class="n">i_stBSG</span> <span class="o">:=</span> <span class="n">TMO_ROUGH1_GPI_02</span><span class="o">.</span><span class="n">PG</span><span class="p">,</span>
            <span class="n">iq_stValve</span> <span class="o">:=</span> <span class="n">TMO_ROUGH1_VRC_01</span><span class="o">.</span><span class="n">iq_stValve</span><span class="p">)</span>     <span class="p">;</span>

<span class="n">IM4K4_PPM_PTM_01</span><span class="p">(</span><span class="n">i_xExtIlkOK</span> <span class="o">:=</span> <span class="n">IM4K4_PPM_PTM_01_xExtIlkOK</span><span class="p">,</span> <span class="n">iq_stPTM</span> <span class="o">=&gt;</span> <span class="p">);</span>



<span class="p">(</span><span class="o">*</span> <span class="n">Instanitate</span> <span class="n">the</span> <span class="n">Function</span> <span class="n">block</span> <span class="k">for</span> <span class="n">serial</span> <span class="n">communication</span> <span class="k">with</span> <span class="n">TD20</span> <span class="o">*</span><span class="p">)</span>
<span class="n">IM4K4_PPM_PTM_01_COM</span><span class="p">(</span><span class="n">SerialRXBuffer</span> <span class="o">:=</span> <span class="n">K4S2_02_E17_SerialRXBuffer</span><span class="p">,</span>
                <span class="n">SerialTXBuffer</span><span class="o">:=</span> <span class="n">K4S2_02_E17_SerialTXBuffer</span><span class="p">,</span>
                <span class="n">astTD20Status</span><span class="o">=&gt;</span><span class="p">);</span>
<span class="p">(</span><span class="o">*</span> <span class="n">Copy</span> <span class="n">Status</span> <span class="n">Pv</span><span class="s1">&#39;s into the PTM structure*)</span>
<span class="n">IM4K4_PPM_PTM_01</span><span class="o">.</span><span class="n">M_Serial_IO</span><span class="p">(</span><span class="n">IM4K4_PPM_PTM_01_COM</span><span class="o">.</span><span class="n">astTD20Status</span><span class="p">);</span>



<span class="n">LI1K4_IP1_PTM_01_xExtIlkOK</span> <span class="o">:=</span> <span class="n">F_Turbo_Protection_ILK</span><span class="p">(</span><span class="n">i_stTurbo</span> <span class="o">:=</span> <span class="n">LI1K4_IP1_PTM_01</span><span class="o">.</span><span class="n">iq_stPTM</span><span class="p">,</span>
            <span class="n">i_stISG</span> <span class="o">:=</span> <span class="n">TMO_ROUGH1_GPI_02</span><span class="o">.</span><span class="n">PG</span><span class="p">,</span>
            <span class="n">i_stBSG</span> <span class="o">:=</span> <span class="n">TMO_ROUGH1_GPI_02</span><span class="o">.</span><span class="n">PG</span><span class="p">,</span>
            <span class="n">iq_stValve</span> <span class="o">:=</span> <span class="n">TMO_ROUGH1_VRC_01</span><span class="o">.</span><span class="n">iq_stValve</span><span class="p">)</span>     <span class="p">;</span>

<span class="n">LI1K4_IP1_PTM_01</span><span class="p">(</span><span class="n">i_xExtIlkOK</span> <span class="o">:=</span> <span class="n">LI1K4_IP1_PTM_01_xExtIlkOK</span><span class="p">,</span> <span class="n">iq_stPTM</span> <span class="o">=&gt;</span> <span class="p">);</span>

<span class="p">(</span><span class="o">*</span> <span class="n">Instanitate</span> <span class="n">the</span> <span class="n">Function</span> <span class="n">block</span> <span class="k">for</span> <span class="n">serial</span> <span class="n">communication</span> <span class="k">with</span> <span class="n">TD20</span> <span class="o">*</span><span class="p">)</span>
<span class="n">LI1K4_IP1_PTM_01_COM</span><span class="p">(</span><span class="n">SerialRXBuffer</span> <span class="o">:=</span> <span class="n">K4S2_02_E18_SerialRXBuffer</span><span class="p">,</span>
                <span class="n">SerialTXBuffer</span><span class="o">:=</span> <span class="n">K4S2_02_E18_SerialTXBuffer</span><span class="p">,</span>
                <span class="n">astTD20Status</span><span class="o">=&gt;</span><span class="p">);</span>
<span class="p">(</span><span class="o">*</span> <span class="n">Copy</span> <span class="n">Status</span> <span class="n">Pv</span><span class="s1">&#39;s into the PTM structure*)</span>
<span class="n">LI1K4_IP1_PTM_01</span><span class="o">.</span><span class="n">M_Serial_IO</span><span class="p">(</span><span class="n">LI1K4_IP1_PTM_01_COM</span><span class="o">.</span><span class="n">astTD20Status</span><span class="p">);</span>



<span class="p">(</span><span class="o">*</span> <span class="n">Granite</span> <span class="mi">2</span> <span class="n">K4S6</span> <span class="o">*</span><span class="p">)</span>

<span class="n">LI3K4_IP1_OUT_PTM_01_xExtIlkOK</span> <span class="o">:=</span> <span class="n">F_Turbo_Protection_ILK</span><span class="p">(</span><span class="n">i_stTurbo</span> <span class="o">:=</span> <span class="n">LI3K4_IP1_OUT_PTM_01</span><span class="o">.</span><span class="n">iq_stPTM</span><span class="p">,</span>
            <span class="n">i_stISG</span> <span class="o">:=</span> <span class="n">PA2K4_IP1_GPI_01</span><span class="o">.</span><span class="n">PG</span><span class="p">,</span>
            <span class="n">i_stBSG</span> <span class="o">:=</span> <span class="n">TMO_ROUGH1_GPI_03</span><span class="o">.</span><span class="n">PG</span><span class="p">,</span>
            <span class="n">iq_stValve</span> <span class="o">:=</span> <span class="n">TMO_ROUGH1_VRC_02</span><span class="o">.</span><span class="n">iq_stValve</span><span class="p">)</span>     <span class="p">;</span>

<span class="n">LI3K4_IP1_OUT_PTM_01</span><span class="p">(</span><span class="n">i_xExtIlkOK</span> <span class="o">:=</span> <span class="n">LI3K4_IP1_OUT_PTM_01_xExtIlkOK</span><span class="p">,</span> <span class="n">iq_stPTM</span> <span class="o">=&gt;</span> <span class="p">);</span>

<span class="n">TM1K4_PTM_01_xExtIlkOK</span> <span class="o">:=</span> <span class="n">F_Turbo_Protection_ILK</span><span class="p">(</span><span class="n">i_stTurbo</span> <span class="o">:=</span> <span class="n">TM1K4_PTM_01</span><span class="o">.</span><span class="n">iq_stPTM</span><span class="p">,</span>
            <span class="n">i_stISG</span> <span class="o">:=</span> <span class="n">PA2K4_IP1_GPI_01</span><span class="o">.</span><span class="n">PG</span><span class="p">,</span>
            <span class="n">i_stBSG</span> <span class="o">:=</span> <span class="n">TMO_ROUGH1_GPI_03</span><span class="o">.</span><span class="n">PG</span><span class="p">,</span>
            <span class="n">iq_stValve</span> <span class="o">:=</span> <span class="n">TMO_ROUGH1_VRC_02</span><span class="o">.</span><span class="n">iq_stValve</span><span class="p">)</span>     <span class="p">;</span>

<span class="n">TM1K4_PTM_01</span><span class="p">(</span><span class="n">i_xExtIlkOK</span> <span class="o">:=</span> <span class="n">TM1K4_PTM_01_xExtIlkOK</span><span class="p">,</span> <span class="n">iq_stPTM</span> <span class="o">=&gt;</span> <span class="p">);</span>

<span class="n">IM5K4_PPM_PTM_01_xExtIlkOK</span> <span class="o">:=</span> <span class="n">F_Turbo_Protection_ILK</span><span class="p">(</span><span class="n">i_stTurbo</span> <span class="o">:=</span> <span class="n">IM5K4_PPM_PTM_01</span><span class="o">.</span><span class="n">iq_stPTM</span><span class="p">,</span>
            <span class="n">i_stISG</span> <span class="o">:=</span> <span class="n">PA2K4_IP1_GPI_01</span><span class="o">.</span><span class="n">PG</span><span class="p">,</span>
            <span class="n">i_stBSG</span> <span class="o">:=</span> <span class="n">TMO_ROUGH1_GPI_03</span><span class="o">.</span><span class="n">PG</span><span class="p">,</span>
            <span class="n">iq_stValve</span> <span class="o">:=</span> <span class="n">TMO_ROUGH1_VRC_02</span><span class="o">.</span><span class="n">iq_stValve</span><span class="p">)</span>     <span class="p">;</span>

<span class="n">IM5K4_PPM_PTM_01</span><span class="p">(</span><span class="n">i_xExtIlkOK</span> <span class="o">:=</span> <span class="n">IM5K4_PPM_PTM_01_xExtIlkOK</span><span class="p">,</span> <span class="n">iq_stPTM</span> <span class="o">=&gt;</span> <span class="p">);</span>

<span class="p">(</span><span class="o">*</span><span class="n">Serial</span> <span class="n">Interface</span><span class="o">*</span><span class="p">)</span>
<span class="p">(</span><span class="o">*</span><span class="n">Assign</span> <span class="n">adresses</span> <span class="n">to</span> <span class="n">the</span> <span class="n">pfeiffer</span> <span class="n">controllers</span> <span class="n">connected</span> <span class="n">to</span> <span class="n">this</span> <span class="n">serial</span> <span class="n">terminal</span><span class="o">*</span><span class="p">)</span>
<span class="n">st_Pfeiffer_CTRL_PTM_Granite2</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">iSerialAddress</span> <span class="o">:=</span><span class="mi">1</span><span class="p">;</span><span class="o">//</span><span class="n">LI3K4_IP1_OUT_PTM_01</span>
<span class="n">st_Pfeiffer_CTRL_PTM_Granite2</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">xEnableComm</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">;</span>
<span class="n">st_Pfeiffer_CTRL_PTM_Granite2</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">iSerialAddress</span> <span class="o">:=</span><span class="mi">7</span><span class="p">;</span><span class="o">//</span><span class="n">TM1K4_PTM_01</span>
<span class="n">st_Pfeiffer_CTRL_PTM_Granite2</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">xEnableComm</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">;</span>
<span class="n">st_Pfeiffer_CTRL_PTM_Granite2</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">iSerialAddress</span> <span class="o">:=</span><span class="mi">9</span><span class="p">;</span> <span class="o">//</span><span class="n">IM5K4_PPM_PTM_01</span>
<span class="n">st_Pfeiffer_CTRL_PTM_Granite2</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">xEnableComm</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">;</span>
<span class="p">(</span><span class="o">*</span> <span class="n">Instanitate</span> <span class="n">the</span> <span class="n">Function</span> <span class="n">block</span> <span class="k">for</span> <span class="n">serial</span> <span class="n">communication</span> <span class="k">with</span> <span class="n">Pfeiffer</span><span class="o">*</span><span class="p">)</span>
<span class="n">Granite2_PTM_COM</span><span class="p">(</span><span class="n">astPfeifferControl</span> <span class="o">:=</span> <span class="n">st_Pfeiffer_CTRL_PTM_Granite2</span><span class="p">,</span>
               <span class="n">astPfeifferStatus</span><span class="o">:=</span> <span class="n">st_Pfeiffer_RBK_PTM_Granite2</span><span class="p">,</span>
                <span class="n">SerialRXBuffer</span><span class="o">:=</span> <span class="n">K4S6_01_E5_SerialRXBuffer</span><span class="p">,</span>
                <span class="n">SerialTXBuffer</span><span class="o">:=</span> <span class="n">K4S6_01_E5_SerialTXBuffer</span><span class="p">);</span>
<span class="p">(</span><span class="o">*</span> <span class="n">Copy</span> <span class="n">Status</span> <span class="n">Pv</span><span class="s1">&#39;s into the PTM structure*)</span>
<span class="n">LI3K4_IP1_OUT_PTM_01</span><span class="o">.</span><span class="n">M_Serial_IO</span><span class="p">(</span><span class="n">st_Pfeiffer_CTRL</span><span class="o">:=</span><span class="n">st_Pfeiffer_CTRL_PTM_Granite2</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">st_Pfeiffer_RBK</span><span class="o">:=</span><span class="n">st_Pfeiffer_RBK_PTM_Granite2</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
<span class="n">TM1K4_PTM_01</span><span class="o">.</span><span class="n">M_Serial_IO</span><span class="p">(</span><span class="n">st_Pfeiffer_CTRL</span><span class="o">:=</span><span class="n">st_Pfeiffer_CTRL_PTM_Granite2</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="n">st_Pfeiffer_RBK</span><span class="o">:=</span><span class="n">st_Pfeiffer_RBK_PTM_Granite2</span><span class="p">[</span><span class="mi">2</span><span class="p">]);</span>
<span class="n">IM5K4_PPM_PTM_01</span><span class="o">.</span><span class="n">M_Serial_IO</span><span class="p">(</span><span class="n">st_Pfeiffer_CTRL</span><span class="o">:=</span><span class="n">st_Pfeiffer_CTRL_PTM_Granite2</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="n">st_Pfeiffer_RBK</span><span class="o">:=</span><span class="n">st_Pfeiffer_RBK_PTM_Granite2</span><span class="p">[</span><span class="mi">3</span><span class="p">]);</span>

<span class="n">END_PROGRAM</span>
</pre></div>
</div>
<dl class="simple">
<dt>Related:</dt><dd><ul class="simple">
<li><p><a class="reference internal" href="#f-turbo-protection-ilk">F_Turbo_Protection_ILK</a></p></li>
</ul>
</dd>
</dl>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="plc-tmo-vac_PLC_TMO_VAC_epics.html" class="btn btn-neutral float-left" title="Data Types" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, SLAC National Accelerator Laboratory.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>